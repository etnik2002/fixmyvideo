function nP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var D_={exports:{}},nh={},V_={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),sP=Symbol.for("react.portal"),iP=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),oP=Symbol.for("react.profiler"),lP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),uP=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),hP=Symbol.for("react.memo"),mP=Symbol.for("react.lazy"),fy=Symbol.iterator;function fP(t){return t===null||typeof t!="object"?null:(t=fy&&t[fy]||t["@@iterator"],typeof t=="function"?t:null)}var O_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M_=Object.assign,L_={};function to(t,e,n){this.props=t,this.context=e,this.refs=L_,this.updater=n||O_}to.prototype.isReactComponent={};to.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};to.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F_(){}F_.prototype=to.prototype;function Vg(t,e,n){this.props=t,this.context=e,this.refs=L_,this.updater=n||O_}var Og=Vg.prototype=new F_;Og.constructor=Vg;M_(Og,to.prototype);Og.isPureReactComponent=!0;var py=Array.isArray,z_=Object.prototype.hasOwnProperty,Mg={current:null},U_={key:!0,ref:!0,__self:!0,__source:!0};function B_(t,e,n){var r,s={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)z_.call(e,r)&&!U_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:sc,type:t,key:a,ref:o,props:s,_owner:Mg.current}}function pP(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function gP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gy=/\/+/g;function Om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gP(""+t.key):e.toString(36)}function ju(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case sP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Om(o,0):r,py(s)?(n="",t!=null&&(n=t.replace(gy,"$&/")+"/"),ju(s,e,n,"",function(d){return d})):s!=null&&(Lg(s)&&(s=pP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",py(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Om(a,l);o+=ju(a,e,n,c,s)}else if(c=fP(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Om(a,l++),o+=ju(a,e,n,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gc(t,e,n){if(t==null)return t;var r=[],s=0;return ju(t,r,"","",function(a){return e.call(n,a,s++)}),r}function vP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},ku={transition:null},xP={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ku,ReactCurrentOwner:Mg};function $_(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Gc,forEach:function(t,e,n){Gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gc(t,function(){e++}),e},toArray:function(t){return Gc(t,function(e){return e})||[]},only:function(t){if(!Lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=to;de.Fragment=iP;de.Profiler=oP;de.PureComponent=Vg;de.StrictMode=aP;de.Suspense=dP;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xP;de.act=$_;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=M_({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Mg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)z_.call(e,c)&&!U_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:sc,type:t.type,key:s,ref:a,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:cP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lP,_context:t},t.Consumer=t};de.createElement=B_;de.createFactory=function(t){var e=B_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:uP,render:t}};de.isValidElement=Lg;de.lazy=function(t){return{$$typeof:mP,_payload:{_status:-1,_result:t},_init:vP}};de.memo=function(t,e){return{$$typeof:hP,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=ku.transition;ku.transition={};try{t()}finally{ku.transition=e}};de.unstable_act=$_;de.useCallback=function(t,e){return Qt.current.useCallback(t,e)};de.useContext=function(t){return Qt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Qt.current.useEffect(t,e)};de.useId=function(){return Qt.current.useId()};de.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Qt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};de.useRef=function(t){return Qt.current.useRef(t)};de.useState=function(t){return Qt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Qt.current.useTransition()};de.version="18.3.1";V_.exports=de;var k=V_.exports;const an=R_(k),yP=nP({__proto__:null,default:an},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP=k,wP=Symbol.for("react.element"),_P=Symbol.for("react.fragment"),NP=Object.prototype.hasOwnProperty,jP=bP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kP={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NP.call(e,r)&&!kP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:wP,type:t,key:a,ref:o,props:s,_owner:jP.current}}nh.Fragment=_P;nh.jsx=H_;nh.jsxs=H_;D_.exports=nh;var i=D_.exports,W_={exports:{}},Nn={},q_={exports:{}},K_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Z){var K=H.length;H.push(Z);e:for(;0<K;){var Y=K-1>>>1,ue=H[Y];if(0<s(ue,Z))H[Y]=Z,H[K]=ue,K=Y;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],K=H.pop();if(K!==Z){H[0]=K;e:for(var Y=0,ue=H.length,we=ue>>>1;Y<we;){var Jt=2*(Y+1)-1,Mt=H[Jt],ut=Jt+1,Zt=H[ut];if(0>s(Mt,K))ut<ue&&0>s(Zt,Mt)?(H[Y]=Zt,H[ut]=K,Y=ut):(H[Y]=Mt,H[Jt]=K,Y=Jt);else if(ut<ue&&0>s(Zt,K))H[Y]=Zt,H[ut]=K,Y=ut;else break e}}return Z}function s(H,Z){var K=H.sortIndex-Z.sortIndex;return K!==0?K:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,p=3,g=!1,N=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=H)r(d),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(d)}}function S(H){if(E=!1,b(H),!N)if(n(c)!==null)N=!0,ce(D);else{var Z=n(d);Z!==null&&pe(S,Z.startTime-H)}}function D(H,Z){N=!1,E&&(E=!1,w(x),x=-1),g=!0;var K=p;try{for(b(Z),m=n(c);m!==null&&(!(m.expirationTime>Z)||H&&!C());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,p=m.priorityLevel;var ue=Y(m.expirationTime<=Z);Z=t.unstable_now(),typeof ue=="function"?m.callback=ue:m===n(c)&&r(c),b(Z)}else r(c);m=n(c)}if(m!==null)var we=!0;else{var Jt=n(d);Jt!==null&&pe(S,Jt.startTime-Z),we=!1}return we}finally{m=null,p=K,g=!1}}var V=!1,T=null,x=-1,j=5,P=-1;function C(){return!(t.unstable_now()-P<j)}function R(){if(T!==null){var H=t.unstable_now();P=H;var Z=!0;try{Z=T(!0,H)}finally{Z?A():(V=!1,T=null)}}else V=!1}var A;if(typeof y=="function")A=function(){y(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,le=q.port2;q.port1.onmessage=R,A=function(){le.postMessage(null)}}else A=function(){_(R,0)};function ce(H){T=H,V||(V=!0,A())}function pe(H,Z){x=_(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){N||g||(N=!0,ce(D))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var K=p;p=Z;try{return H()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=p;p=H;try{return Z()}finally{p=K}},t.unstable_scheduleCallback=function(H,Z,K){var Y=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,H){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,H={id:h++,callback:Z,priorityLevel:H,startTime:K,expirationTime:ue,sortIndex:-1},K>Y?(H.sortIndex=K,e(d,H),n(c)===null&&H===n(d)&&(E?(w(x),x=-1):E=!0,pe(S,K-Y))):(H.sortIndex=ue,e(c,H),N||g||(N=!0,ce(D))),H},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(H){var Z=p;return function(){var K=p;p=Z;try{return H.apply(this,arguments)}finally{p=K}}}})(K_);q_.exports=K_;var EP=q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP=k,wn=EP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G_=new Set,wl={};function Li(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(wl[t]=e,t=0;t<e.length;t++)G_.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,IP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vy={},xy={};function SP(t){return Wf.call(xy,t)?!0:Wf.call(vy,t)?!1:IP.test(t)?xy[t]=!0:(vy[t]=!0,!1)}function PP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AP(t,e,n,r){if(e===null||typeof e>"u"||PP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fg,zg);bt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fg,zg);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fg,zg);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ug(t,e,n,r){var s=bt.hasOwnProperty(e)?bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AP(e,n,s,r)&&(n=null),r||s===null?SP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=TP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),ia=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),X_=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),Y_=Symbol.for("react.offscreen"),yy=Symbol.iterator;function To(t){return t===null||typeof t!="object"?null:(t=yy&&t[yy]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Mm;function Uo(t){if(Mm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mm=e&&e[1]||""}return`
`+Mm+t}var Lm=!1;function Fm(t,e){if(!t||Lm)return"";Lm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Lm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Uo(t):""}function CP(t){switch(t.tag){case 5:return Uo(t.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return t=Fm(t.type,!1),t;case 11:return t=Fm(t.type.render,!1),t;case 1:return t=Fm(t.type,!0),t;default:return""}}function Qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case aa:return"Fragment";case ia:return"Portal";case qf:return"Profiler";case Bg:return"StrictMode";case Kf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X_:return(t.displayName||"Context")+".Consumer";case Q_:return(t._context.displayName||"Context")+".Provider";case $g:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hg:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case es:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}function RP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(e);case 8:return e===Bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DP(t){var e=J_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=DP(t))}function Z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function by(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eN(t,e){e=e.checked,e!=null&&Ug(t,"checked",e,!1)}function Yf(t,e){eN(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||Yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bo=Array.isArray;function _a(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Bo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function tN(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ny(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,rN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VP=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach(function(t){VP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zo[e]=Zo[t]})});function sN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zo.hasOwnProperty(t)&&Zo[t]?(""+e).trim():e+"px"}function iN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var OP=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(t,e){if(e){if(OP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function np(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=null;function Wg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sp=null,Na=null,ja=null;function jy(t){if(t=oc(t)){if(typeof sp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=oh(e),sp(t.stateNode,t.type,e))}}function aN(t){Na?ja?ja.push(t):ja=[t]:Na=t}function oN(){if(Na){var t=Na,e=ja;if(ja=Na=null,jy(t),e)for(t=0;t<e.length;t++)jy(e[t])}}function lN(t,e){return t(e)}function cN(){}var zm=!1;function uN(t,e,n){if(zm)return t(e,n);zm=!0;try{return lN(t,e,n)}finally{zm=!1,(Na!==null||ja!==null)&&(cN(),oN())}}function Nl(t,e){var n=t.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var ip=!1;if(Cr)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){ip=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{ip=!1}function MP(t,e,n,r,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var el=!1,Ju=null,Zu=!1,ap=null,LP={onError:function(t){el=!0,Ju=t}};function FP(t,e,n,r,s,a,o,l,c){el=!1,Ju=null,MP.apply(LP,arguments)}function zP(t,e,n,r,s,a,o,l,c){if(FP.apply(this,arguments),el){if(el){var d=Ju;el=!1,Ju=null}else throw Error(B(198));Zu||(Zu=!0,ap=d)}}function Fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ky(t){if(Fi(t)!==t)throw Error(B(188))}function UP(t){var e=t.alternate;if(!e){if(e=Fi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return ky(s),t;if(a===r)return ky(s),e;a=a.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function hN(t){return t=UP(t),t!==null?mN(t):null}function mN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mN(t);if(e!==null)return e;t=t.sibling}return null}var fN=wn.unstable_scheduleCallback,Ey=wn.unstable_cancelCallback,BP=wn.unstable_shouldYield,$P=wn.unstable_requestPaint,Ke=wn.unstable_now,HP=wn.unstable_getCurrentPriorityLevel,qg=wn.unstable_ImmediatePriority,pN=wn.unstable_UserBlockingPriority,ed=wn.unstable_NormalPriority,WP=wn.unstable_LowPriority,gN=wn.unstable_IdlePriority,rh=null,sr=null;function qP(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(rh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:QP,KP=Math.log,GP=Math.LN2;function QP(t){return t>>>=0,t===0?32:31-(KP(t)/GP|0)|0}var Jc=64,Zc=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=$o(l):(a&=o,a!==0&&(r=$o(a)))}else o=n&~s,o!==0?r=$o(o):a!==0&&(r=$o(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),s=1<<n,r|=t[n],e&=~s;return r}function XP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-$n(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=XP(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vN(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function Um(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function JP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$n(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function Kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function xN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yN,Gg,bN,wN,_N,lp=!1,eu=[],gs=null,vs=null,xs=null,jl=new Map,kl=new Map,rs=[],ZP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(t,e){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(e.pointerId)}}function So(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=oc(e),e!==null&&Gg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function eA(t,e,n,r,s){switch(e){case"focusin":return gs=So(gs,t,e,n,r,s),!0;case"dragenter":return vs=So(vs,t,e,n,r,s),!0;case"mouseover":return xs=So(xs,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return jl.set(a,So(jl.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,kl.set(a,So(kl.get(a)||null,t,e,n,r,s)),!0}return!1}function NN(t){var e=oi(t.target);if(e!==null){var n=Fi(e);if(n!==null){if(e=n.tag,e===13){if(e=dN(n),e!==null){t.blockedOn=e,_N(t.priority,function(){bN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rp=r,n.target.dispatchEvent(r),rp=null}else return e=oc(n),e!==null&&Gg(e),t.blockedOn=n,!1;e.shift()}return!0}function Iy(t,e,n){Eu(t)&&n.delete(e)}function tA(){lp=!1,gs!==null&&Eu(gs)&&(gs=null),vs!==null&&Eu(vs)&&(vs=null),xs!==null&&Eu(xs)&&(xs=null),jl.forEach(Iy),kl.forEach(Iy)}function Po(t,e){t.blockedOn===e&&(t.blockedOn=null,lp||(lp=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,tA)))}function El(t){function e(s){return Po(s,t)}if(0<eu.length){Po(eu[0],t);for(var n=1;n<eu.length;n++){var r=eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gs!==null&&Po(gs,t),vs!==null&&Po(vs,t),xs!==null&&Po(xs,t),jl.forEach(e),kl.forEach(e),n=0;n<rs.length;n++)r=rs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)NN(n),n.blockedOn===null&&rs.shift()}var ka=Wr.ReactCurrentBatchConfig,nd=!0;function nA(t,e,n,r){var s=_e,a=ka.transition;ka.transition=null;try{_e=1,Qg(t,e,n,r)}finally{_e=s,ka.transition=a}}function rA(t,e,n,r){var s=_e,a=ka.transition;ka.transition=null;try{_e=4,Qg(t,e,n,r)}finally{_e=s,ka.transition=a}}function Qg(t,e,n,r){if(nd){var s=cp(t,e,n,r);if(s===null)Ym(t,e,r,rd,n),Ty(t,r);else if(eA(s,t,e,n,r))r.stopPropagation();else if(Ty(t,r),e&4&&-1<ZP.indexOf(t)){for(;s!==null;){var a=oc(s);if(a!==null&&yN(a),a=cp(t,e,n,r),a===null&&Ym(t,e,r,rd,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Ym(t,e,r,null,n)}}var rd=null;function cp(t,e,n,r){if(rd=null,t=Wg(r),t=oi(t),t!==null)if(e=Fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rd=t,null}function jN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HP()){case qg:return 1;case pN:return 4;case ed:case WP:return 16;case gN:return 536870912;default:return 16}default:return 16}}var ds=null,Xg=null,Tu=null;function kN(){if(Tu)return Tu;var t,e=Xg,n=e.length,r,s="value"in ds?ds.value:ds.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[a-r];r++);return Tu=s.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tu(){return!0}function Sy(){return!1}function jn(t){function e(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?tu:Sy,this.isPropagationStopped=Sy,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),e}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yg=jn(no),ac=Le({},no,{view:0,detail:0}),sA=jn(ac),Bm,$m,Ao,sh=Le({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(Bm=t.screenX-Ao.screenX,$m=t.screenY-Ao.screenY):$m=Bm=0,Ao=t),Bm)},movementY:function(t){return"movementY"in t?t.movementY:$m}}),Py=jn(sh),iA=Le({},sh,{dataTransfer:0}),aA=jn(iA),oA=Le({},ac,{relatedTarget:0}),Hm=jn(oA),lA=Le({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),cA=jn(lA),uA=Le({},no,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dA=jn(uA),hA=Le({},no,{data:0}),Ay=jn(hA),mA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pA[t])?!!e[t]:!1}function Jg(){return gA}var vA=Le({},ac,{key:function(t){if(t.key){var e=mA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jg,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xA=jn(vA),yA=Le({},sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=jn(yA),bA=Le({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jg}),wA=jn(bA),_A=Le({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),NA=jn(_A),jA=Le({},sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kA=jn(jA),EA=[9,13,27,32],Zg=Cr&&"CompositionEvent"in window,tl=null;Cr&&"documentMode"in document&&(tl=document.documentMode);var TA=Cr&&"TextEvent"in window&&!tl,EN=Cr&&(!Zg||tl&&8<tl&&11>=tl),Ry=" ",Dy=!1;function TN(t,e){switch(t){case"keyup":return EA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function IA(t,e){switch(t){case"compositionend":return IN(e);case"keypress":return e.which!==32?null:(Dy=!0,Ry);case"textInput":return t=e.data,t===Ry&&Dy?null:t;default:return null}}function SA(t,e){if(oa)return t==="compositionend"||!Zg&&TN(t,e)?(t=kN(),Tu=Xg=ds=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EN&&e.locale!=="ko"?null:e.data;default:return null}}var PA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PA[t.type]:e==="textarea"}function SN(t,e,n,r){aN(r),e=sd(e,"onChange"),0<e.length&&(n=new Yg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nl=null,Tl=null;function AA(t){zN(t,0)}function ih(t){var e=ua(t);if(Z_(e))return t}function CA(t,e){if(t==="change")return e}var PN=!1;if(Cr){var Wm;if(Cr){var qm="oninput"in document;if(!qm){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),qm=typeof Oy.oninput=="function"}Wm=qm}else Wm=!1;PN=Wm&&(!document.documentMode||9<document.documentMode)}function My(){nl&&(nl.detachEvent("onpropertychange",AN),Tl=nl=null)}function AN(t){if(t.propertyName==="value"&&ih(Tl)){var e=[];SN(e,Tl,t,Wg(t)),uN(AA,e)}}function RA(t,e,n){t==="focusin"?(My(),nl=e,Tl=n,nl.attachEvent("onpropertychange",AN)):t==="focusout"&&My()}function DA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(Tl)}function VA(t,e){if(t==="click")return ih(e)}function OA(t,e){if(t==="input"||t==="change")return ih(e)}function MA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:MA;function Il(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wf.call(e,s)||!qn(t[s],e[s]))return!1}return!0}function Ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fy(t,e){var n=Ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ly(n)}}function CN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RN(){for(var t=window,e=Yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yu(t.document)}return e}function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LA(t){var e=RN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CN(n.ownerDocument.documentElement,n)){if(r!==null&&ev(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=Fy(n,a);var o=Fy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FA=Cr&&"documentMode"in document&&11>=document.documentMode,la=null,up=null,rl=null,dp=!1;function zy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dp||la==null||la!==Yu(r)||(r=la,"selectionStart"in r&&ev(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rl&&Il(rl,r)||(rl=r,r=sd(up,"onSelect"),0<r.length&&(e=new Yg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=la)))}function nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Km={},DN={};Cr&&(DN=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function ah(t){if(Km[t])return Km[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DN)return Km[t]=e[n];return t}var VN=ah("animationend"),ON=ah("animationiteration"),MN=ah("animationstart"),LN=ah("transitionend"),FN=new Map,Uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){FN.set(t,e),Li(e,[t])}for(var Gm=0;Gm<Uy.length;Gm++){var Qm=Uy[Gm],zA=Qm.toLowerCase(),UA=Qm[0].toUpperCase()+Qm.slice(1);zs(zA,"on"+UA)}zs(VN,"onAnimationEnd");zs(ON,"onAnimationIteration");zs(MN,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(LN,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function By(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zP(r,e,void 0,t),t.currentTarget=null}function zN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;By(s,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;By(s,l,d),a=c}}}if(Zu)throw t=ap,Zu=!1,ap=null,t}function Se(t,e){var n=e[gp];n===void 0&&(n=e[gp]=new Set);var r=t+"__bubble";n.has(r)||(UN(e,t,2,!1),n.add(r))}function Xm(t,e,n){var r=0;e&&(r|=4),UN(n,t,r,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[ru]){t[ru]=!0,G_.forEach(function(n){n!=="selectionchange"&&(BA.has(n)||Xm(n,!1,t),Xm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,Xm("selectionchange",!1,e))}}function UN(t,e,n,r){switch(jN(e)){case 1:var s=nA;break;case 4:s=rA;break;default:s=Qg}n=s.bind(null,e,n,t),s=void 0,!ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ym(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=oi(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}uN(function(){var d=a,h=Wg(n),m=[];e:{var p=FN.get(t);if(p!==void 0){var g=Yg,N=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":g=xA;break;case"focusin":N="focus",g=Hm;break;case"focusout":N="blur",g=Hm;break;case"beforeblur":case"afterblur":g=Hm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wA;break;case VN:case ON:case MN:g=cA;break;case LN:g=NA;break;case"scroll":g=sA;break;case"wheel":g=kA;break;case"copy":case"cut":case"paste":g=dA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cy}var E=(e&4)!==0,_=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var y=d,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,w!==null&&(S=Nl(y,w),S!=null&&E.push(Pl(y,S,b)))),_)break;y=y.return}0<E.length&&(p=new g(p,N,null,n,h),m.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==rp&&(N=n.relatedTarget||n.fromElement)&&(oi(N)||N[Rr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(N=n.relatedTarget||n.toElement,g=d,N=N?oi(N):null,N!==null&&(_=Fi(N),N!==_||N.tag!==5&&N.tag!==6)&&(N=null)):(g=null,N=d),g!==N)){if(E=Py,S="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=Cy,S="onPointerLeave",w="onPointerEnter",y="pointer"),_=g==null?p:ua(g),b=N==null?p:ua(N),p=new E(S,y+"leave",g,n,h),p.target=_,p.relatedTarget=b,S=null,oi(h)===d&&(E=new E(w,y+"enter",N,n,h),E.target=b,E.relatedTarget=_,S=E),_=S,g&&N)t:{for(E=g,w=N,y=0,b=E;b;b=Ji(b))y++;for(b=0,S=w;S;S=Ji(S))b++;for(;0<y-b;)E=Ji(E),y--;for(;0<b-y;)w=Ji(w),b--;for(;y--;){if(E===w||w!==null&&E===w.alternate)break t;E=Ji(E),w=Ji(w)}E=null}else E=null;g!==null&&$y(m,p,g,E,!1),N!==null&&_!==null&&$y(m,_,N,E,!0)}}e:{if(p=d?ua(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=CA;else if(Vy(p))if(PN)D=OA;else{D=DA;var V=RA}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=VA);if(D&&(D=D(t,d))){SN(m,D,n,h);break e}V&&V(t,p,d),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Jf(p,"number",p.value)}switch(V=d?ua(d):window,t){case"focusin":(Vy(V)||V.contentEditable==="true")&&(la=V,up=d,rl=null);break;case"focusout":rl=up=la=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,zy(m,n,h);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":zy(m,n,h)}var T;if(Zg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else oa?TN(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(EN&&n.locale!=="ko"&&(oa||x!=="onCompositionStart"?x==="onCompositionEnd"&&oa&&(T=kN()):(ds=h,Xg="value"in ds?ds.value:ds.textContent,oa=!0)),V=sd(d,x),0<V.length&&(x=new Ay(x,t,null,n,h),m.push({event:x,listeners:V}),T?x.data=T:(T=IN(n),T!==null&&(x.data=T)))),(T=TA?IA(t,n):SA(t,n))&&(d=sd(d,"onBeforeInput"),0<d.length&&(h=new Ay("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=T))}zN(m,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Nl(t,n),a!=null&&r.unshift(Pl(t,a,s)),a=Nl(t,e),a!=null&&r.push(Pl(t,a,s))),t=t.return}return r}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $y(t,e,n,r,s){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Nl(n,a),c!=null&&o.unshift(Pl(n,c,l))):s||(c=Nl(n,a),c!=null&&o.push(Pl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $A=/\r\n?/g,HA=/\u0000|\uFFFD/g;function Hy(t){return(typeof t=="string"?t:""+t).replace($A,`
`).replace(HA,"")}function su(t,e,n){if(e=Hy(e),Hy(t)!==e&&n)throw Error(B(425))}function id(){}var hp=null,mp=null;function fp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(t){return Wy.resolve(null).then(t).catch(KA)}:pp;function KA(t){setTimeout(function(){throw t})}function Jm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);El(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ro=Math.random().toString(36).slice(2),er="__reactFiber$"+ro,Al="__reactProps$"+ro,Rr="__reactContainer$"+ro,gp="__reactEvents$"+ro,GA="__reactListeners$"+ro,QA="__reactHandles$"+ro;function oi(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qy(t);t!==null;){if(n=t[er])return n;t=qy(t)}return e}t=n,n=t.parentNode}return null}function oc(t){return t=t[er]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function oh(t){return t[Al]||null}var vp=[],da=-1;function Us(t){return{current:t}}function Ae(t){0>da||(t.current=vp[da],vp[da]=null,da--)}function Ee(t,e){da++,vp[da]=t.current,t.current=e}var Cs={},Vt=Us(Cs),on=Us(!1),_i=Cs;function Da(t,e){var n=t.type.contextTypes;if(!n)return Cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ln(t){return t=t.childContextTypes,t!=null}function ad(){Ae(on),Ae(Vt)}function Ky(t,e,n){if(Vt.current!==Cs)throw Error(B(168));Ee(Vt,e),Ee(on,n)}function BN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,RP(t)||"Unknown",s));return Le({},n,r)}function od(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,_i=Vt.current,Ee(Vt,t),Ee(on,on.current),!0}function Gy(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=BN(t,e,_i),r.__reactInternalMemoizedMergedChildContext=t,Ae(on),Ae(Vt),Ee(Vt,t)):Ae(on),Ee(on,n)}var br=null,lh=!1,Zm=!1;function $N(t){br===null?br=[t]:br.push(t)}function XA(t){lh=!0,$N(t)}function Bs(){if(!Zm&&br!==null){Zm=!0;var t=0,e=_e;try{var n=br;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}br=null,lh=!1}catch(s){throw br!==null&&(br=br.slice(t+1)),fN(qg,Bs),s}finally{_e=e,Zm=!1}}return null}var ha=[],ma=0,ld=null,cd=0,In=[],Sn=0,Ni=null,wr=1,_r="";function ti(t,e){ha[ma++]=cd,ha[ma++]=ld,ld=t,cd=e}function HN(t,e,n){In[Sn++]=wr,In[Sn++]=_r,In[Sn++]=Ni,Ni=t;var r=wr;t=_r;var s=32-$n(r)-1;r&=~(1<<s),n+=1;var a=32-$n(e)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wr=1<<32-$n(e)+s|n<<s|r,_r=a+t}else wr=1<<a|n<<s|r,_r=t}function tv(t){t.return!==null&&(ti(t,1),HN(t,1,0))}function nv(t){for(;t===ld;)ld=ha[--ma],ha[ma]=null,cd=ha[--ma],ha[ma]=null;for(;t===Ni;)Ni=In[--Sn],In[Sn]=null,_r=In[--Sn],In[Sn]=null,wr=In[--Sn],In[Sn]=null}var yn=null,gn=null,Ce=!1,Un=null;function WN(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,gn=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ni!==null?{id:wr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,gn=null,!0):!1;default:return!1}}function xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yp(t){if(Ce){var e=gn;if(e){var n=e;if(!Qy(t,e)){if(xp(t))throw Error(B(418));e=ys(n.nextSibling);var r=yn;e&&Qy(t,e)?WN(r,n):(t.flags=t.flags&-4097|2,Ce=!1,yn=t)}}else{if(xp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ce=!1,yn=t}}}function Xy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function iu(t){if(t!==yn)return!1;if(!Ce)return Xy(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fp(t.type,t.memoizedProps)),e&&(e=gn)){if(xp(t))throw qN(),Error(B(418));for(;e;)WN(t,e),e=ys(e.nextSibling)}if(Xy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=yn?ys(t.stateNode.nextSibling):null;return!0}function qN(){for(var t=gn;t;)t=ys(t.nextSibling)}function Va(){gn=yn=null,Ce=!1}function rv(t){Un===null?Un=[t]:Un.push(t)}var YA=Wr.ReactCurrentBatchConfig;function Co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function au(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yy(t){var e=t._init;return e(t._payload)}function KN(t){function e(w,y){if(t){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Ns(w,y),w.index=0,w.sibling=null,w}function a(w,y,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,S){return y===null||y.tag!==6?(y=of(b,w.mode,S),y.return=w,y):(y=s(y,b),y.return=w,y)}function c(w,y,b,S){var D=b.type;return D===aa?h(w,y,b.props.children,S,b.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===es&&Yy(D)===y.type)?(S=s(y,b.props),S.ref=Co(w,y,b),S.return=w,S):(S=Vu(b.type,b.key,b.props,null,w.mode,S),S.ref=Co(w,y,b),S.return=w,S)}function d(w,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=lf(b,w.mode,S),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function h(w,y,b,S,D){return y===null||y.tag!==7?(y=pi(b,w.mode,S,D),y.return=w,y):(y=s(y,b),y.return=w,y)}function m(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=of(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qc:return b=Vu(y.type,y.key,y.props,null,w.mode,b),b.ref=Co(w,null,y),b.return=w,b;case ia:return y=lf(y,w.mode,b),y.return=w,y;case es:var S=y._init;return m(w,S(y._payload),b)}if(Bo(y)||To(y))return y=pi(y,w.mode,b,null),y.return=w,y;au(w,y)}return null}function p(w,y,b,S){var D=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:l(w,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qc:return b.key===D?c(w,y,b,S):null;case ia:return b.key===D?d(w,y,b,S):null;case es:return D=b._init,p(w,y,D(b._payload),S)}if(Bo(b)||To(b))return D!==null?null:h(w,y,b,S,null);au(w,b)}return null}function g(w,y,b,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(b)||null,l(y,w,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qc:return w=w.get(S.key===null?b:S.key)||null,c(y,w,S,D);case ia:return w=w.get(S.key===null?b:S.key)||null,d(y,w,S,D);case es:var V=S._init;return g(w,y,b,V(S._payload),D)}if(Bo(S)||To(S))return w=w.get(b)||null,h(y,w,S,D,null);au(y,S)}return null}function N(w,y,b,S){for(var D=null,V=null,T=y,x=y=0,j=null;T!==null&&x<b.length;x++){T.index>x?(j=T,T=null):j=T.sibling;var P=p(w,T,b[x],S);if(P===null){T===null&&(T=j);break}t&&T&&P.alternate===null&&e(w,T),y=a(P,y,x),V===null?D=P:V.sibling=P,V=P,T=j}if(x===b.length)return n(w,T),Ce&&ti(w,x),D;if(T===null){for(;x<b.length;x++)T=m(w,b[x],S),T!==null&&(y=a(T,y,x),V===null?D=T:V.sibling=T,V=T);return Ce&&ti(w,x),D}for(T=r(w,T);x<b.length;x++)j=g(T,w,x,b[x],S),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?x:j.key),y=a(j,y,x),V===null?D=j:V.sibling=j,V=j);return t&&T.forEach(function(C){return e(w,C)}),Ce&&ti(w,x),D}function E(w,y,b,S){var D=To(b);if(typeof D!="function")throw Error(B(150));if(b=D.call(b),b==null)throw Error(B(151));for(var V=D=null,T=y,x=y=0,j=null,P=b.next();T!==null&&!P.done;x++,P=b.next()){T.index>x?(j=T,T=null):j=T.sibling;var C=p(w,T,P.value,S);if(C===null){T===null&&(T=j);break}t&&T&&C.alternate===null&&e(w,T),y=a(C,y,x),V===null?D=C:V.sibling=C,V=C,T=j}if(P.done)return n(w,T),Ce&&ti(w,x),D;if(T===null){for(;!P.done;x++,P=b.next())P=m(w,P.value,S),P!==null&&(y=a(P,y,x),V===null?D=P:V.sibling=P,V=P);return Ce&&ti(w,x),D}for(T=r(w,T);!P.done;x++,P=b.next())P=g(T,w,x,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?x:P.key),y=a(P,y,x),V===null?D=P:V.sibling=P,V=P);return t&&T.forEach(function(R){return e(w,R)}),Ce&&ti(w,x),D}function _(w,y,b,S){if(typeof b=="object"&&b!==null&&b.type===aa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qc:e:{for(var D=b.key,V=y;V!==null;){if(V.key===D){if(D=b.type,D===aa){if(V.tag===7){n(w,V.sibling),y=s(V,b.props.children),y.return=w,w=y;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===es&&Yy(D)===V.type){n(w,V.sibling),y=s(V,b.props),y.ref=Co(w,V,b),y.return=w,w=y;break e}n(w,V);break}else e(w,V);V=V.sibling}b.type===aa?(y=pi(b.props.children,w.mode,S,b.key),y.return=w,w=y):(S=Vu(b.type,b.key,b.props,null,w.mode,S),S.ref=Co(w,y,b),S.return=w,w=S)}return o(w);case ia:e:{for(V=b.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=lf(b,w.mode,S),y.return=w,w=y}return o(w);case es:return V=b._init,_(w,y,V(b._payload),S)}if(Bo(b))return N(w,y,b,S);if(To(b))return E(w,y,b,S);au(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,b),y.return=w,w=y):(n(w,y),y=of(b,w.mode,S),y.return=w,w=y),o(w)):n(w,y)}return _}var Oa=KN(!0),GN=KN(!1),ud=Us(null),dd=null,fa=null,sv=null;function iv(){sv=fa=dd=null}function av(t){var e=ud.current;Ae(ud),t._currentValue=e}function bp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ea(t,e){dd=t,sv=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(sv!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(dd===null)throw Error(B(308));fa=t,dd.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var li=null;function ov(t){li===null?li=[t]:li.push(t)}function QN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ov(e)):(n.next=s.next,s.next=n),e.interleaved=n,Dr(t,r)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ts=!1;function lv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Dr(t,n)}return s=r.interleaved,s===null?(e.next=e,ov(r)):(e.next=s.next,s.next=e),r.interleaved=e,Dr(t,n)}function Su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kg(t,n)}}function Jy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hd(t,e,n,r){var s=t.updateQueue;ts=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var m=s.baseState;o=0,h=d=c=null,l=a;do{var p=l.lane,g=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=t,E=l;switch(p=e,g=n,E.tag){case 1:if(N=E.payload,typeof N=="function"){m=N.call(g,m,p);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=E.payload,p=typeof N=="function"?N.call(g,m,p):N,p==null)break e;m=Le({},m,p);break e;case 2:ts=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=m):h=h.next=g,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);ki|=o,t.lanes=o,t.memoizedState=m}}function Zy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var lc={},ir=Us(lc),Cl=Us(lc),Rl=Us(lc);function ci(t){if(t===lc)throw Error(B(174));return t}function cv(t,e){switch(Ee(Rl,e),Ee(Cl,t),Ee(ir,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ep(e,t)}Ae(ir),Ee(ir,e)}function Ma(){Ae(ir),Ae(Cl),Ae(Rl)}function YN(t){ci(Rl.current);var e=ci(ir.current),n=ep(e,t.type);e!==n&&(Ee(Cl,t),Ee(ir,n))}function uv(t){Cl.current===t&&(Ae(ir),Ae(Cl))}var De=Us(0);function md(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ef=[];function dv(){for(var t=0;t<ef.length;t++)ef[t]._workInProgressVersionPrimary=null;ef.length=0}var Pu=Wr.ReactCurrentDispatcher,tf=Wr.ReactCurrentBatchConfig,ji=0,Oe=null,rt=null,ot=null,fd=!1,sl=!1,Dl=0,JA=0;function Et(){throw Error(B(321))}function hv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function mv(t,e,n,r,s,a){if(ji=a,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?nC:rC,t=n(r,s),sl){a=0;do{if(sl=!1,Dl=0,25<=a)throw Error(B(301));a+=1,ot=rt=null,e.updateQueue=null,Pu.current=sC,t=n(r,s)}while(sl)}if(Pu.current=pd,e=rt!==null&&rt.next!==null,ji=0,ot=rt=Oe=null,fd=!1,e)throw Error(B(300));return t}function fv(){var t=Dl!==0;return Dl=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Oe.memoizedState=ot=t:ot=ot.next=t,ot}function Rn(){if(rt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ot===null?Oe.memoizedState:ot.next;if(e!==null)ot=e,rt=t;else{if(t===null)throw Error(B(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ot===null?Oe.memoizedState=ot=t:ot=ot.next=t}return ot}function Vl(t,e){return typeof e=="function"?e(t):e}function nf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((ji&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Oe.lanes|=h,ki|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,qn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Oe.lanes|=a,ki|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rf(t){var e=Rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);qn(a,e.memoizedState)||(sn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function JN(){}function ZN(t,e){var n=Oe,r=Rn(),s=e(),a=!qn(r.memoizedState,s);if(a&&(r.memoizedState=s,sn=!0),r=r.queue,pv(nj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Ol(9,tj.bind(null,n,r,s,e),void 0,null),lt===null)throw Error(B(349));ji&30||ej(n,e,s)}return s}function ej(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tj(t,e,n,r){e.value=n,e.getSnapshot=r,rj(e)&&sj(t)}function nj(t,e,n){return n(function(){rj(e)&&sj(t)})}function rj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function sj(t){var e=Dr(t,1);e!==null&&Hn(e,t,1,-1)}function eb(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e.queue=t,t=t.dispatch=tC.bind(null,Oe,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ij(){return Rn().memoizedState}function Au(t,e,n,r){var s=Jn();Oe.flags|=t,s.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function ch(t,e,n,r){var s=Rn();r=r===void 0?null:r;var a=void 0;if(rt!==null){var o=rt.memoizedState;if(a=o.destroy,r!==null&&hv(r,o.deps)){s.memoizedState=Ol(e,n,a,r);return}}Oe.flags|=t,s.memoizedState=Ol(1|e,n,a,r)}function tb(t,e){return Au(8390656,8,t,e)}function pv(t,e){return ch(2048,8,t,e)}function aj(t,e){return ch(4,2,t,e)}function oj(t,e){return ch(4,4,t,e)}function lj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cj(t,e,n){return n=n!=null?n.concat([t]):null,ch(4,4,lj.bind(null,e,t),n)}function gv(){}function uj(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dj(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hj(t,e,n){return ji&21?(qn(n,e)||(n=vN(),Oe.lanes|=n,ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function ZA(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=tf.transition;tf.transition={};try{t(!1),e()}finally{_e=n,tf.transition=r}}function mj(){return Rn().memoizedState}function eC(t,e,n){var r=_s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fj(t))pj(e,n);else if(n=QN(t,e,n,r),n!==null){var s=Kt();Hn(n,t,r,s),gj(n,e,r)}}function tC(t,e,n){var r=_s(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fj(t))pj(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,qn(l,o)){var c=e.interleaved;c===null?(s.next=s,ov(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=QN(t,e,s,r),n!==null&&(s=Kt(),Hn(n,t,r,s),gj(n,e,r))}}function fj(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function pj(t,e){sl=fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kg(t,n)}}var pd={readContext:Cn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},nC={readContext:Cn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:tb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Au(4194308,4,lj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Au(4194308,4,t,e)},useInsertionEffect:function(t,e){return Au(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eC.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:eb,useDebugValue:gv,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=eb(!1),e=t[0];return t=ZA.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,s=Jn();if(Ce){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),lt===null)throw Error(B(349));ji&30||ej(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,tb(nj.bind(null,r,a,t),[t]),r.flags|=2048,Ol(9,tj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Jn(),e=lt.identifierPrefix;if(Ce){var n=_r,r=wr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rC={readContext:Cn,useCallback:uj,useContext:Cn,useEffect:pv,useImperativeHandle:cj,useInsertionEffect:aj,useLayoutEffect:oj,useMemo:dj,useReducer:nf,useRef:ij,useState:function(){return nf(Vl)},useDebugValue:gv,useDeferredValue:function(t){var e=Rn();return hj(e,rt.memoizedState,t)},useTransition:function(){var t=nf(Vl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:JN,useSyncExternalStore:ZN,useId:mj,unstable_isNewReconciler:!1},sC={readContext:Cn,useCallback:uj,useContext:Cn,useEffect:pv,useImperativeHandle:cj,useInsertionEffect:aj,useLayoutEffect:oj,useMemo:dj,useReducer:rf,useRef:ij,useState:function(){return rf(Vl)},useDebugValue:gv,useDeferredValue:function(t){var e=Rn();return rt===null?e.memoizedState=t:hj(e,rt.memoizedState,t)},useTransition:function(){var t=rf(Vl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:JN,useSyncExternalStore:ZN,useId:mj,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uh={isMounted:function(t){return(t=t._reactInternals)?Fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=_s(t),a=Tr(r,s);a.payload=e,n!=null&&(a.callback=n),e=bs(t,a,s),e!==null&&(Hn(e,t,s,r),Su(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=_s(t),a=Tr(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=bs(t,a,s),e!==null&&(Hn(e,t,s,r),Su(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=_s(t),s=Tr(n,r);s.tag=2,e!=null&&(s.callback=e),e=bs(t,s,r),e!==null&&(Hn(e,t,r,n),Su(e,t,r))}};function nb(t,e,n,r,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Il(n,r)||!Il(s,a):!0}function vj(t,e,n){var r=!1,s=Cs,a=e.contextType;return typeof a=="object"&&a!==null?a=Cn(a):(s=ln(e)?_i:Vt.current,r=e.contextTypes,a=(r=r!=null)?Da(t,s):Cs),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function rb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uh.enqueueReplaceState(e,e.state,null)}function _p(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lv(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Cn(a):(a=ln(e)?_i:Vt.current,s.context=Da(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(wp(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&uh.enqueueReplaceState(s,s.state,null),hd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var n="",r=e;do n+=CP(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function sf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iC=typeof WeakMap=="function"?WeakMap:Map;function xj(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vd||(vd=!0,Rp=r),Np(t,e)},n}function yj(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Np(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Np(t,e),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=yC.bind(null,t,e,n),e.then(t,t))}function ib(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ab(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,bs(n,e,1))),n.lanes|=1),t)}var aC=Wr.ReactCurrentOwner,sn=!1;function Ht(t,e,n,r){e.child=t===null?GN(e,null,n,r):Oa(e,t.child,n,r)}function ob(t,e,n,r,s){n=n.render;var a=e.ref;return Ea(e,s),r=mv(t,e,n,r,a,s),n=fv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(Ce&&n&&tv(e),e.flags|=1,Ht(t,e,r,s),e.child)}function lb(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!jv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,bj(t,e,a,r,s)):(t=Vu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(o,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=Ns(a,r),t.ref=e.ref,t.return=e,e.child=t}function bj(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(Il(a,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return jp(t,e,n,r,s)}function wj(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(ga,pn),pn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(ga,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ee(ga,pn),pn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ee(ga,pn),pn|=r;return Ht(t,e,s,n),e.child}function _j(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jp(t,e,n,r,s){var a=ln(n)?_i:Vt.current;return a=Da(e,a),Ea(e,s),n=mv(t,e,n,r,a,s),r=fv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(Ce&&r&&tv(e),e.flags|=1,Ht(t,e,n,s),e.child)}function cb(t,e,n,r,s){if(ln(n)){var a=!0;od(e)}else a=!1;if(Ea(e,s),e.stateNode===null)Cu(t,e),vj(e,n,r),_p(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Cn(d):(d=ln(n)?_i:Vt.current,d=Da(e,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&rb(e,o,r,d),ts=!1;var p=e.memoizedState;o.state=p,hd(e,r,o,s),c=e.memoizedState,l!==r||p!==c||on.current||ts?(typeof h=="function"&&(wp(e,n,h,r),c=e.memoizedState),(l=ts||nb(e,n,l,r,p,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XN(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Fn(e.type,l),o.props=d,m=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cn(c):(c=ln(n)?_i:Vt.current,c=Da(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&rb(e,o,r,c),ts=!1,p=e.memoizedState,o.state=p,hd(e,r,o,s);var N=e.memoizedState;l!==m||p!==N||on.current||ts?(typeof g=="function"&&(wp(e,n,g,r),N=e.memoizedState),(d=ts||nb(e,n,d,r,p,N,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),o.props=r,o.state=N,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return kp(t,e,n,r,a,s)}function kp(t,e,n,r,s,a){_j(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gy(e,n,!1),Vr(t,e,a);r=e.stateNode,aC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oa(e,t.child,null,a),e.child=Oa(e,null,l,a)):Ht(t,e,l,a),e.memoizedState=r.state,s&&Gy(e,n,!0),e.child}function Nj(t){var e=t.stateNode;e.pendingContext?Ky(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ky(t,e.context,!1),cv(t,e.containerInfo)}function ub(t,e,n,r,s){return Va(),rv(s),e.flags|=256,Ht(t,e,n,r),e.child}var Ep={dehydrated:null,treeContext:null,retryLane:0};function Tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function jj(t,e,n){var r=e.pendingProps,s=De.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(De,s&1),t===null)return yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=mh(o,r,0,null),t=pi(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Tp(n),e.memoizedState=Ep,t):vv(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return oC(t,e,o,r,l,s,n);if(a){a=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ns(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ns(l,a):(a=pi(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Tp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Ep,r}return a=t.child,t=a.sibling,r=Ns(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ou(t,e,n,r){return r!==null&&rv(r),Oa(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oC(t,e,n,r,s,a,o){if(n)return e.flags&256?(e.flags&=-257,r=sf(Error(B(422))),ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=mh({mode:"visible",children:r.children},s,0,null),a=pi(a,s,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Oa(e,t.child,null,o),e.child.memoizedState=Tp(o),e.memoizedState=Ep,a);if(!(e.mode&1))return ou(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(B(419)),r=sf(a,r,void 0),ou(t,e,o,r)}if(l=(o&t.childLanes)!==0,sn||l){if(r=lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Dr(t,s),Hn(r,t,s,-1))}return Nv(),r=sf(Error(B(421))),ou(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bC.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,gn=ys(s.nextSibling),yn=e,Ce=!0,Un=null,t!==null&&(In[Sn++]=wr,In[Sn++]=_r,In[Sn++]=Ni,wr=t.id,_r=t.overflow,Ni=e),e=vv(e,r.children),e.flags|=4096,e)}function db(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bp(t.return,e,n)}function af(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function kj(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(Ht(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&db(t,n,e);else if(t.tag===19)db(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&md(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),af(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&md(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}af(e,!0,n,null,a);break;case"together":af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lC(t,e,n){switch(e.tag){case 3:Nj(e),Va();break;case 5:YN(e);break;case 1:ln(e.type)&&od(e);break;case 4:cv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ee(ud,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?jj(t,e,n):(Ee(De,De.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Ee(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,wj(t,e,n)}return Vr(t,e,n)}var Ej,Ip,Tj,Ij;Ej=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ip=function(){};Tj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ci(ir.current);var a=null;switch(n){case"input":s=Xf(t,s),r=Xf(t,r),a=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),a=[];break;case"textarea":s=Zf(t,s),r=Zf(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=id)}tp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wl.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Se("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Ij=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ro(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cC(t,e,n){var r=e.pendingProps;switch(nv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return ln(e.type)&&ad(),Tt(e),null;case 3:return r=e.stateNode,Ma(),Ae(on),Ae(Vt),dv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(Op(Un),Un=null))),Ip(t,e),Tt(e),null;case 5:uv(e);var s=ci(Rl.current);if(n=e.type,t!==null&&e.stateNode!=null)Tj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Tt(e),null}if(t=ci(ir.current),iu(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[er]=e,r[Al]=a,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<Ho.length;s++)Se(Ho[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":by(r,a),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Se("invalid",r);break;case"textarea":_y(r,a),Se("invalid",r)}tp(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&su(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&su(r.textContent,l,t),s=["children",""+l]):wl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Xc(r),wy(r,a,!0);break;case"textarea":Xc(r),Ny(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=id)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[er]=e,t[Al]=r,Ej(t,e,!1,!1),e.stateNode=t;e:{switch(o=np(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ho.length;s++)Se(Ho[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":by(t,r),s=Xf(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Se("invalid",t);break;case"textarea":_y(t,r),s=Zf(t,r),Se("invalid",t);break;default:s=r}tp(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?iN(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rN(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_l(t,c):typeof c=="number"&&_l(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Se("scroll",t):c!=null&&Ug(t,a,c,o))}switch(n){case"input":Xc(t),wy(t,r,!1);break;case"textarea":Xc(t),Ny(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?_a(t,!!r.multiple,a,!1):r.defaultValue!=null&&_a(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)Ij(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ci(Rl.current),ci(ir.current),iu(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(a=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&su(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Tt(e),null;case 13:if(Ae(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&gn!==null&&e.mode&1&&!(e.flags&128))qN(),Va(),e.flags|=98560,a=!1;else if(a=iu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(B(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[er]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),a=!1}else Un!==null&&(Op(Un),Un=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?st===0&&(st=3):Nv())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return Ma(),Ip(t,e),t===null&&Sl(e.stateNode.containerInfo),Tt(e),null;case 10:return av(e.type._context),Tt(e),null;case 17:return ln(e.type)&&ad(),Tt(e),null;case 19:if(Ae(De),a=e.memoizedState,a===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Ro(a,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=md(t),o!==null){for(e.flags|=128,Ro(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ke()>Fa&&(e.flags|=128,r=!0,Ro(a,!1),e.lanes=4194304)}else{if(!r)if(t=md(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ro(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ce)return Tt(e),null}else 2*Ke()-a.renderingStartTime>Fa&&n!==1073741824&&(e.flags|=128,r=!0,Ro(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ke(),e.sibling=null,n=De.current,Ee(De,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return _v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function uC(t,e){switch(nv(e),e.tag){case 1:return ln(e.type)&&ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(),Ae(on),Ae(Vt),dv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uv(e),null;case 13:if(Ae(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(De),null;case 4:return Ma(),null;case 10:return av(e.type._context),null;case 22:case 23:return _v(),null;case 24:return null;default:return null}}var lu=!1,Ct=!1,dC=typeof WeakSet=="function"?WeakSet:Set,Q=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Sp(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var hb=!1;function hC(t,e){if(hp=nd,t=RN(),ev(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,m=t,p=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==a||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++d===s&&(l=o),p===a&&++h===r&&(c=o),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mp={focusedElem:t,selectionRange:n},nd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var E=N.memoizedProps,_=N.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:Fn(e.type,E),_);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(S){Ue(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return N=hb,hb=!1,N}function il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&Sp(e,n,a)}s=s.next}while(s!==r)}}function dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sj(t){var e=t.alternate;e!==null&&(t.alternate=null,Sj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[Al],delete e[gp],delete e[GA],delete e[QA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pj(t){return t.tag===5||t.tag===3||t.tag===4}function mb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=id));else if(r!==4&&(t=t.child,t!==null))for(Ap(t,e,n),t=t.sibling;t!==null;)Ap(t,e,n),t=t.sibling}function Cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cp(t,e,n),t=t.sibling;t!==null;)Cp(t,e,n),t=t.sibling}var ft=null,zn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)Aj(t,e,n),n=n.sibling}function Aj(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(rh,n)}catch{}switch(n.tag){case 5:Ct||pa(n,e);case 6:var r=ft,s=zn;ft=null,Yr(t,e,n),ft=r,zn=s,ft!==null&&(zn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(zn?(t=ft,n=n.stateNode,t.nodeType===8?Jm(t.parentNode,n):t.nodeType===1&&Jm(t,n),El(t)):Jm(ft,n.stateNode));break;case 4:r=ft,s=zn,ft=n.stateNode.containerInfo,zn=!0,Yr(t,e,n),ft=r,zn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Sp(n,e,o),s=s.next}while(s!==r)}Yr(t,e,n);break;case 1:if(!Ct&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,e,l)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Yr(t,e,n),Ct=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function fb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dC),e.forEach(function(r){var s=wC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,zn=!1;break e;case 3:ft=l.stateNode.containerInfo,zn=!0;break e;case 4:ft=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(ft===null)throw Error(B(160));Aj(a,o,s),ft=null,zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ue(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cj(e,t),e=e.sibling}function Cj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Yn(t),r&4){try{il(3,t,t.return),dh(3,t)}catch(E){Ue(t,t.return,E)}try{il(5,t,t.return)}catch(E){Ue(t,t.return,E)}}break;case 1:Ln(e,t),Yn(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(Ln(e,t),Yn(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var s=t.stateNode;try{_l(s,"")}catch(E){Ue(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&eN(s,a),np(l,o);var d=np(l,a);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?iN(s,m):h==="dangerouslySetInnerHTML"?rN(s,m):h==="children"?_l(s,m):Ug(s,h,m,d)}switch(l){case"input":Yf(s,a);break;case"textarea":tN(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?_a(s,!!a.multiple,g,!1):p!==!!a.multiple&&(a.defaultValue!=null?_a(s,!!a.multiple,a.defaultValue,!0):_a(s,!!a.multiple,a.multiple?[]:"",!1))}s[Al]=a}catch(E){Ue(t,t.return,E)}}break;case 6:if(Ln(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(E){Ue(t,t.return,E)}}break;case 3:if(Ln(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(E){Ue(t,t.return,E)}break;case 4:Ln(e,t),Yn(t);break;case 13:Ln(e,t),Yn(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(bv=Ke())),r&4&&fb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(d=Ct)||h,Ln(e,t),Ct=d):Ln(e,t),Yn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(m=Q=h;Q!==null;){switch(p=Q,g=p.child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:pa(p,p.return);var N=p.stateNode;if(typeof N.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(E){Ue(r,n,E)}}break;case 5:pa(p,p.return);break;case 22:if(p.memoizedState!==null){gb(m);continue}}g!==null?(g.return=p,Q=g):gb(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sN("display",o))}catch(E){Ue(t,t.return,E)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(E){Ue(t,t.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ln(e,t),Yn(t),r&4&&fb(t);break;case 21:break;default:Ln(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pj(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_l(s,""),r.flags&=-33);var a=mb(t);Cp(t,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=mb(t);Ap(t,l,o);break;default:throw Error(B(161))}}catch(c){Ue(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mC(t,e,n){Q=t,Rj(t)}function Rj(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||lu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ct;l=lu;var d=Ct;if(lu=o,(Ct=c)&&!d)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?vb(s):c!==null?(c.return=o,Q=c):vb(s);for(;a!==null;)Q=a,Rj(a),a=a.sibling;Q=s,lu=l,Ct=d}pb(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Q=a):pb(t)}}function pb(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||dh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Zy(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&El(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ct||e.flags&512&&Pp(e)}catch(p){Ue(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function gb(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function vb(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dh(4,e)}catch(c){Ue(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ue(e,s,c)}}var a=e.return;try{Pp(e)}catch(c){Ue(e,a,c)}break;case 5:var o=e.return;try{Pp(e)}catch(c){Ue(e,o,c)}}}catch(c){Ue(e,e.return,c)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var fC=Math.ceil,gd=Wr.ReactCurrentDispatcher,xv=Wr.ReactCurrentOwner,An=Wr.ReactCurrentBatchConfig,ge=0,lt=null,Ze=null,xt=0,pn=0,ga=Us(0),st=0,Ml=null,ki=0,hh=0,yv=0,al=null,nn=null,bv=0,Fa=1/0,yr=null,vd=!1,Rp=null,ws=null,cu=!1,hs=null,xd=0,ol=0,Dp=null,Ru=-1,Du=0;function Kt(){return ge&6?Ke():Ru!==-1?Ru:Ru=Ke()}function _s(t){return t.mode&1?ge&2&&xt!==0?xt&-xt:YA.transition!==null?(Du===0&&(Du=vN()),Du):(t=_e,t!==0||(t=window.event,t=t===void 0?16:jN(t.type)),t):1}function Hn(t,e,n,r){if(50<ol)throw ol=0,Dp=null,Error(B(185));ic(t,n,r),(!(ge&2)||t!==lt)&&(t===lt&&(!(ge&2)&&(hh|=n),st===4&&ss(t,xt)),cn(t,r),n===1&&ge===0&&!(e.mode&1)&&(Fa=Ke()+500,lh&&Bs()))}function cn(t,e){var n=t.callbackNode;YP(t,e);var r=td(t,t===lt?xt:0);if(r===0)n!==null&&Ey(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ey(n),e===1)t.tag===0?XA(xb.bind(null,t)):$N(xb.bind(null,t)),qA(function(){!(ge&6)&&Bs()}),n=null;else{switch(xN(r)){case 1:n=qg;break;case 4:n=pN;break;case 16:n=ed;break;case 536870912:n=gN;break;default:n=ed}n=Uj(n,Dj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dj(t,e){if(Ru=-1,Du=0,ge&6)throw Error(B(327));var n=t.callbackNode;if(Ta()&&t.callbackNode!==n)return null;var r=td(t,t===lt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yd(t,r);else{e=r;var s=ge;ge|=2;var a=Oj();(lt!==t||xt!==e)&&(yr=null,Fa=Ke()+500,fi(t,e));do try{vC();break}catch(l){Vj(t,l)}while(!0);iv(),gd.current=a,ge=s,Ze!==null?e=0:(lt=null,xt=0,e=st)}if(e!==0){if(e===2&&(s=op(t),s!==0&&(r=s,e=Vp(t,s))),e===1)throw n=Ml,fi(t,0),ss(t,r),cn(t,Ke()),n;if(e===6)ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!pC(s)&&(e=yd(t,r),e===2&&(a=op(t),a!==0&&(r=a,e=Vp(t,a))),e===1))throw n=Ml,fi(t,0),ss(t,r),cn(t,Ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ni(t,nn,yr);break;case 3:if(ss(t,r),(r&130023424)===r&&(e=bv+500-Ke(),10<e)){if(td(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=pp(ni.bind(null,t,nn,yr),e);break}ni(t,nn,yr);break;case 4:if(ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$n(r);a=1<<o,o=e[o],o>s&&(s=o),r&=~a}if(r=s,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fC(r/1960))-r,10<r){t.timeoutHandle=pp(ni.bind(null,t,nn,yr),r);break}ni(t,nn,yr);break;case 5:ni(t,nn,yr);break;default:throw Error(B(329))}}}return cn(t,Ke()),t.callbackNode===n?Dj.bind(null,t):null}function Vp(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=yd(t,e),t!==2&&(e=nn,nn=n,e!==null&&Op(e)),t}function Op(t){nn===null?nn=t:nn.push.apply(nn,t)}function pC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!qn(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ss(t,e){for(e&=~yv,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function xb(t){if(ge&6)throw Error(B(327));Ta();var e=td(t,0);if(!(e&1))return cn(t,Ke()),null;var n=yd(t,e);if(t.tag!==0&&n===2){var r=op(t);r!==0&&(e=r,n=Vp(t,r))}if(n===1)throw n=Ml,fi(t,0),ss(t,e),cn(t,Ke()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,nn,yr),cn(t,Ke()),null}function wv(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Fa=Ke()+500,lh&&Bs())}}function Ei(t){hs!==null&&hs.tag===0&&!(ge&6)&&Ta();var e=ge;ge|=1;var n=An.transition,r=_e;try{if(An.transition=null,_e=1,t)return t()}finally{_e=r,An.transition=n,ge=e,!(ge&6)&&Bs()}}function _v(){pn=ga.current,Ae(ga)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WA(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(nv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ad();break;case 3:Ma(),Ae(on),Ae(Vt),dv();break;case 5:uv(r);break;case 4:Ma();break;case 13:Ae(De);break;case 19:Ae(De);break;case 10:av(r.type._context);break;case 22:case 23:_v()}n=n.return}if(lt=t,Ze=t=Ns(t.current,null),xt=pn=e,st=0,Ml=null,yv=hh=ki=0,nn=al=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}li=null}return t}function Vj(t,e){do{var n=Ze;try{if(iv(),Pu.current=pd,fd){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fd=!1}if(ji=0,ot=rt=Oe=null,sl=!1,Dl=0,xv.current=null,n===null||n.return===null){st=1,Ml=e,Ze=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=ib(o);if(g!==null){g.flags&=-257,ab(g,o,l,a,e),g.mode&1&&sb(a,d,e),e=g,c=d;var N=e.updateQueue;if(N===null){var E=new Set;E.add(c),e.updateQueue=E}else N.add(c);break e}else{if(!(e&1)){sb(a,d,e),Nv();break e}c=Error(B(426))}}else if(Ce&&l.mode&1){var _=ib(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ab(_,o,l,a,e),rv(La(c,l));break e}}a=c=La(c,l),st!==4&&(st=2),al===null?al=[a]:al.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=xj(a,c,e);Jy(a,w);break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ws===null||!ws.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=yj(a,l,e);Jy(a,S);break e}}a=a.return}while(a!==null)}Lj(n)}catch(D){e=D,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function Oj(){var t=gd.current;return gd.current=pd,t===null?pd:t}function Nv(){(st===0||st===3||st===2)&&(st=4),lt===null||!(ki&268435455)&&!(hh&268435455)||ss(lt,xt)}function yd(t,e){var n=ge;ge|=2;var r=Oj();(lt!==t||xt!==e)&&(yr=null,fi(t,e));do try{gC();break}catch(s){Vj(t,s)}while(!0);if(iv(),ge=n,gd.current=r,Ze!==null)throw Error(B(261));return lt=null,xt=0,st}function gC(){for(;Ze!==null;)Mj(Ze)}function vC(){for(;Ze!==null&&!BP();)Mj(Ze)}function Mj(t){var e=zj(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?Lj(t):Ze=e,xv.current=null}function Lj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uC(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Ze=null;return}}else if(n=cC(n,e,pn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);st===0&&(st=5)}function ni(t,e,n){var r=_e,s=An.transition;try{An.transition=null,_e=1,xC(t,e,n,r)}finally{An.transition=s,_e=r}return null}function xC(t,e,n,r){do Ta();while(hs!==null);if(ge&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(JP(t,a),t===lt&&(Ze=lt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cu||(cu=!0,Uj(ed,function(){return Ta(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=An.transition,An.transition=null;var o=_e;_e=1;var l=ge;ge|=4,xv.current=null,hC(t,n),Cj(n,t),LA(mp),nd=!!hp,mp=hp=null,t.current=n,mC(n),$P(),ge=l,_e=o,An.transition=a}else t.current=n;if(cu&&(cu=!1,hs=t,xd=s),a=t.pendingLanes,a===0&&(ws=null),qP(n.stateNode),cn(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vd)throw vd=!1,t=Rp,Rp=null,t;return xd&1&&t.tag!==0&&Ta(),a=t.pendingLanes,a&1?t===Dp?ol++:(ol=0,Dp=t):ol=0,Bs(),null}function Ta(){if(hs!==null){var t=xN(xd),e=An.transition,n=_e;try{if(An.transition=null,_e=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,xd=0,ge&6)throw Error(B(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var a=Q,o=a.child;if(Q.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Q=d;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:il(8,h,a)}var m=h.child;if(m!==null)m.return=h,Q=m;else for(;Q!==null;){h=Q;var p=h.sibling,g=h.return;if(Sj(h),h===d){Q=null;break}if(p!==null){p.return=g,Q=p;break}Q=g}}}var N=a.alternate;if(N!==null){var E=N.child;if(E!==null){N.child=null;do{var _=E.sibling;E.sibling=null,E=_}while(E!==null)}}Q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Q=o;else e:for(;Q!==null;){if(a=Q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Q=w;break e}Q=a.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=y;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dh(9,l)}}catch(D){Ue(l,l.return,D)}if(l===o){Q=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Q=S;break e}Q=l.return}}if(ge=s,Bs(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(rh,t)}catch{}r=!0}return r}finally{_e=n,An.transition=e}}return!1}function yb(t,e,n){e=La(n,e),e=xj(t,e,1),t=bs(t,e,1),e=Kt(),t!==null&&(ic(t,1,e),cn(t,e))}function Ue(t,e,n){if(t.tag===3)yb(t,t,n);else for(;e!==null;){if(e.tag===3){yb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){t=La(n,t),t=yj(e,t,1),e=bs(e,t,1),t=Kt(),e!==null&&(ic(e,1,t),cn(e,t));break}}e=e.return}}function yC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(xt&n)===n&&(st===4||st===3&&(xt&130023424)===xt&&500>Ke()-bv?fi(t,0):yv|=n),cn(t,e)}function Fj(t,e){e===0&&(t.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var n=Kt();t=Dr(t,e),t!==null&&(ic(t,e,n),cn(t,n))}function bC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fj(t,n)}function wC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Fj(t,n)}var zj;zj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,lC(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Ce&&e.flags&1048576&&HN(e,cd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cu(t,e),t=e.pendingProps;var s=Da(e,Vt.current);Ea(e,n),s=mv(null,e,r,t,s,n);var a=fv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(r)?(a=!0,od(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lv(e),s.updater=uh,e.stateNode=s,s._reactInternals=e,_p(e,r,t,n),e=kp(null,e,r,!0,a,n)):(e.tag=0,Ce&&a&&tv(e),Ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NC(r),t=Fn(r,t),s){case 0:e=jp(null,e,r,t,n);break e;case 1:e=cb(null,e,r,t,n);break e;case 11:e=ob(null,e,r,t,n);break e;case 14:e=lb(null,e,r,Fn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),jp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),cb(t,e,r,s,n);case 3:e:{if(Nj(e),t===null)throw Error(B(387));r=e.pendingProps,a=e.memoizedState,s=a.element,XN(t,e),hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=La(Error(B(423)),e),e=ub(t,e,r,n,s);break e}else if(r!==s){s=La(Error(B(424)),e),e=ub(t,e,r,n,s);break e}else for(gn=ys(e.stateNode.containerInfo.firstChild),yn=e,Ce=!0,Un=null,n=GN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===s){e=Vr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return YN(e),t===null&&yp(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,fp(r,s)?o=null:a!==null&&fp(r,a)&&(e.flags|=32),_j(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&yp(e),null;case 13:return jj(t,e,n);case 4:return cv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oa(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),ob(t,e,r,s,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Ee(ud,r._currentValue),r._currentValue=o,a!==null)if(qn(a.value,o)){if(a.children===s.children&&!on.current){e=Vr(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Tr(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),bp(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bp(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ea(e,n),s=Cn(s),r=r(s),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,s=Fn(r,e.pendingProps),s=Fn(r.type,s),lb(t,e,r,s,n);case 15:return bj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),Cu(t,e),e.tag=1,ln(r)?(t=!0,od(e)):t=!1,Ea(e,n),vj(e,r,s),_p(e,r,s,n),kp(null,e,r,!0,t,n);case 19:return kj(t,e,n);case 22:return wj(t,e,n)}throw Error(B(156,e.tag))};function Uj(t,e){return fN(t,e)}function _C(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new _C(t,e,n,r)}function jv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NC(t){if(typeof t=="function")return jv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$g)return 11;if(t===Hg)return 14}return 2}function Ns(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vu(t,e,n,r,s,a){var o=2;if(r=t,typeof t=="function")jv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case aa:return pi(n.children,s,a,e);case Bg:o=8,s|=8;break;case qf:return t=Pn(12,n,e,s|2),t.elementType=qf,t.lanes=a,t;case Kf:return t=Pn(13,n,e,s),t.elementType=Kf,t.lanes=a,t;case Gf:return t=Pn(19,n,e,s),t.elementType=Gf,t.lanes=a,t;case Y_:return mh(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q_:o=10;break e;case X_:o=9;break e;case $g:o=11;break e;case Hg:o=14;break e;case es:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function pi(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function mh(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=Y_,t.lanes=n,t.stateNode={isHidden:!1},t}function of(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function lf(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kv(t,e,n,r,s,a,o,l,c){return t=new jC(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Pn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lv(a),t}function kC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bj(t){if(!t)return Cs;t=t._reactInternals;e:{if(Fi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(ln(n))return BN(t,n,e)}return e}function $j(t,e,n,r,s,a,o,l,c){return t=kv(n,r,!0,t,s,a,o,l,c),t.context=Bj(null),n=t.current,r=Kt(),s=_s(n),a=Tr(r,s),a.callback=e??null,bs(n,a,s),t.current.lanes=s,ic(t,s,r),cn(t,r),t}function fh(t,e,n,r){var s=e.current,a=Kt(),o=_s(s);return n=Bj(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bs(s,e,o),t!==null&&(Hn(t,s,o,a),Su(t,s,o)),o}function bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ev(t,e){bb(t,e),(t=t.alternate)&&bb(t,e)}function EC(){return null}var Hj=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tv(t){this._internalRoot=t}ph.prototype.render=Tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));fh(t,e,null,null)};ph.prototype.unmount=Tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){fh(null,t,null,null)}),e[Rr]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=wN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rs.length&&e!==0&&e<rs[n].priority;n++);rs.splice(n,0,t),n===0&&NN(t)}};function Iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wb(){}function TC(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var d=bd(o);a.call(d)}}var o=$j(e,r,t,0,null,!1,!1,"",wb);return t._reactRootContainer=o,t[Rr]=o.current,Sl(t.nodeType===8?t.parentNode:t),Ei(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=bd(c);l.call(d)}}var c=kv(t,0,!1,null,null,!1,!1,"",wb);return t._reactRootContainer=c,t[Rr]=c.current,Sl(t.nodeType===8?t.parentNode:t),Ei(function(){fh(e,c,n,r)}),c}function vh(t,e,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=bd(o);l.call(c)}}fh(e,o,t,s)}else o=TC(n,e,t,s,r);return bd(o)}yN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(Kg(e,n|1),cn(e,Ke()),!(ge&6)&&(Fa=Ke()+500,Bs()))}break;case 13:Ei(function(){var r=Dr(t,1);if(r!==null){var s=Kt();Hn(r,t,1,s)}}),Ev(t,1)}};Gg=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=Kt();Hn(e,t,134217728,n)}Ev(t,134217728)}};bN=function(t){if(t.tag===13){var e=_s(t),n=Dr(t,e);if(n!==null){var r=Kt();Hn(n,t,e,r)}Ev(t,e)}};wN=function(){return _e};_N=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};sp=function(t,e,n){switch(e){case"input":if(Yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=oh(r);if(!s)throw Error(B(90));Z_(r),Yf(r,s)}}}break;case"textarea":tN(t,n);break;case"select":e=n.value,e!=null&&_a(t,!!n.multiple,e,!1)}};lN=wv;cN=Ei;var IC={usingClientEntryPoint:!1,Events:[oc,ua,oh,aN,oN,wv]},Do={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SC={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hN(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||EC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{rh=uu.inject(SC),sr=uu}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(e))throw Error(B(200));return kC(t,e,null,n)};Nn.createRoot=function(t,e){if(!Iv(t))throw Error(B(299));var n=!1,r="",s=Hj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kv(t,1,!1,null,null,n,!1,r,s),t[Rr]=e.current,Sl(t.nodeType===8?t.parentNode:t),new Tv(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=hN(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Ei(t)};Nn.hydrate=function(t,e,n){if(!gh(e))throw Error(B(200));return vh(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Iv(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=Hj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$j(e,null,t,1,n??null,s,!1,a,o),t[Rr]=e.current,Sl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ph(e)};Nn.render=function(t,e,n){if(!gh(e))throw Error(B(200));return vh(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!gh(t))throw Error(B(40));return t._reactRootContainer?(Ei(function(){vh(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};Nn.unstable_batchedUpdates=wv;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return vh(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function Wj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wj)}catch(t){console.error(t)}}Wj(),W_.exports=Nn;var PC=W_.exports,qj,_b=PC;qj=_b.createRoot,_b.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const Nb="popstate";function AC(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:o,hash:l}=r.location;return Mp("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wd(s)}return RC(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CC(){return Math.random().toString(36).substr(2,8)}function jb(t,e){return{usr:t.state,key:t.key,idx:e}}function Mp(t,e,n,r){return n===void 0&&(n=null),Ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?so(e):e,{state:n,key:e&&e.key||r||CC()})}function wd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function so(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=ms.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Ll({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=ms.Pop;let _=h(),w=_==null?null:_-d;d=_,c&&c({action:l,location:E.location,delta:w})}function p(_,w){l=ms.Push;let y=Mp(E.location,_,w);d=h()+1;let b=jb(y,d),S=E.createHref(y);try{o.pushState(b,"",S)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(S)}a&&c&&c({action:l,location:E.location,delta:1})}function g(_,w){l=ms.Replace;let y=Mp(E.location,_,w);d=h();let b=jb(y,d),S=E.createHref(y);o.replaceState(b,"",S),a&&c&&c({action:l,location:E.location,delta:0})}function N(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:wd(_);return y=y.replace(/ $/,"%20"),Me(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let E={get action(){return l},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Nb,m),c=_,()=>{s.removeEventListener(Nb,m),c=null}},createHref(_){return e(s,_)},createURL:N,encodeLocation(_){let w=N(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return o.go(_)}};return E}var kb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kb||(kb={}));function DC(t,e,n){return n===void 0&&(n="/"),VC(t,e,n,!1)}function VC(t,e,n,r){let s=typeof e=="string"?so(e):e,a=za(s.pathname||"/",n);if(a==null)return null;let o=Gj(t);OC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=KC(a);l=WC(o[c],d,r)}return l}function Gj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Me(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=js([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(Me(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Gj(a.children,e,h,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:$C(d,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Qj(a.path))s(a,o,c)}),e}function Qj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=Qj(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function OC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MC=/^:[\w-]+$/,LC=3,FC=2,zC=1,UC=10,BC=-2,Eb=t=>t==="*";function $C(t,e){let n=t.split("/"),r=n.length;return n.some(Eb)&&(r+=BC),e&&(r+=FC),n.filter(s=>!Eb(s)).reduce((s,a)=>s+(MC.test(a)?LC:a===""?zC:UC),r)}function HC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function WC(t,e,n){let{routesMeta:r}=t,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=_d({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:js([a,m.pathname]),pathnameBase:YC(js([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=js([a,m.pathnameBase]))}return o}function _d(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let E=l[m]||"";o=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const N=l[m];return g&&!N?d[p]=void 0:d[p]=(N||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function qC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function KC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function za(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?so(t):t;return{pathname:n?n.startsWith("/")?n:QC(n,e):e,search:JC(r),hash:ZC(s)}}function QC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sv(t,e){let n=XC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=so(t):(s=Ll({},t),Me(!s.pathname||!s.pathname.includes("?"),cf("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),cf("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),cf("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=GC(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const js=t=>t.join("/").replace(/\/\/+/g,"/"),YC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Xj=["post","put","patch","delete"];new Set(Xj);const tR=["get",...Xj];new Set(tR);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}const xh=k.createContext(null),Yj=k.createContext(null),qr=k.createContext(null),yh=k.createContext(null),fr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Jj=k.createContext(null);function nR(t,e){let{relative:n}=e===void 0?{}:e;io()||Me(!1);let{basename:r,navigator:s}=k.useContext(qr),{hash:a,pathname:o,search:l}=bh(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:js([r,o])),s.createHref({pathname:c,search:l,hash:a})}function io(){return k.useContext(yh)!=null}function ct(){return io()||Me(!1),k.useContext(yh).location}function Zj(t){k.useContext(qr).static||k.useLayoutEffect(t)}function Yt(){let{isDataRoute:t}=k.useContext(fr);return t?xR():rR()}function rR(){io()||Me(!1);let t=k.useContext(xh),{basename:e,future:n,navigator:r}=k.useContext(qr),{matches:s}=k.useContext(fr),{pathname:a}=ct(),o=JSON.stringify(Sv(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return Zj(()=>{l.current=!0}),k.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Pv(d,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:js([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,o,a,t])}const sR=k.createContext(null);function iR(t){let e=k.useContext(fr).outlet;return e&&k.createElement(sR.Provider,{value:t},e)}function aR(){let{matches:t}=k.useContext(fr),e=t[t.length-1];return e?e.params:{}}function bh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(qr),{matches:s}=k.useContext(fr),{pathname:a}=ct(),o=JSON.stringify(Sv(s,r.v7_relativeSplatPath));return k.useMemo(()=>Pv(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function oR(t,e){return lR(t,e)}function lR(t,e,n,r){io()||Me(!1);let{navigator:s,static:a}=k.useContext(qr),{matches:o}=k.useContext(fr),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=ct(),m;if(e){var p;let w=typeof e=="string"?so(e):e;d==="/"||(p=w.pathname)!=null&&p.startsWith(d)||Me(!1),m=w}else m=h;let g=m.pathname||"/",N=g;if(d!=="/"){let w=d.replace(/^\//,"").split("/");N="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=!a&&n&&n.matches&&n.matches.length>0?n.matches:DC(t,{pathname:N}),_=mR(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:js([d,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:js([d,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&_?k.createElement(yh.Provider,{value:{location:Fl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ms.Pop}},_):_}function cR(){let t=vR(),e=eR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,null)}const uR=k.createElement(cR,null);class dR extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(fr.Provider,{value:this.props.routeContext},k.createElement(Jj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hR(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext(xh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(fr.Provider,{value:e},r)}function mR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Me(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:g}=n,N=m.route.loader&&p[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||N){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,p)=>{let g,N=!1,E=null,_=null;n&&(g=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||uR,c&&(d<0&&p===0?(N=!0,_=null):d===p&&(N=!0,_=m.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let b;return g?b=E:N?b=_:m.route.Component?b=k.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=h,k.createElement(hR,{match:m,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?k.createElement(dR,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var ek=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ek||{}),Nd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nd||{});function fR(t){let e=k.useContext(xh);return e||Me(!1),e}function pR(t){let e=k.useContext(Yj);return e||Me(!1),e}function gR(t){let e=k.useContext(fr);return e||Me(!1),e}function tk(t){let e=gR(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function vR(){var t;let e=k.useContext(Jj),n=pR(Nd.UseRouteError),r=tk(Nd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xR(){let{router:t}=fR(ek.UseNavigateStable),e=tk(Nd.UseNavigateStable),n=k.useRef(!1);return Zj(()=>{n.current=!0}),k.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fl({fromRouteId:e},a)))},[t,e])}function yR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lp(t){let{to:e,replace:n,state:r,relative:s}=t;io()||Me(!1);let{future:a,static:o}=k.useContext(qr),{matches:l}=k.useContext(fr),{pathname:c}=ct(),d=Yt(),h=Pv(e,Sv(l,a.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(h);return k.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:s}),[d,m,s,n,r]),null}function wh(t){return iR(t.context)}function be(t){Me(!1)}function bR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ms.Pop,navigator:a,static:o=!1,future:l}=t;io()&&Me(!1);let c=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:a,static:o,future:Fl({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=so(r));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:N="default"}=r,E=k.useMemo(()=>{let _=za(h,c);return _==null?null:{location:{pathname:_,search:m,hash:p,state:g,key:N},navigationType:s}},[c,h,m,p,g,N,s]);return E==null?null:k.createElement(qr.Provider,{value:d},k.createElement(yh.Provider,{children:n,value:E}))}function wR(t){let{children:e,location:n}=t;return oR(Fp(e),n)}new Promise(()=>{});function Fp(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let a=[...e,s];if(r.type===k.Fragment){n.push.apply(n,Fp(r.props.children,a));return}r.type!==be&&Me(!1),!r.props.index||!r.props.children||Me(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fp(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jd.apply(this,arguments)}function nk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _R(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NR(t,e){return t.button===0&&(!e||e==="_self")&&!_R(t)}function zp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function jR(t,e){let n=zp(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}const kR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ER=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],TR="6";try{window.__reactRouterVersion=TR}catch{}const IR=k.createContext({isTransitioning:!1}),SR="startTransition",Tb=yP[SR];function PR(t){let{basename:e,children:n,future:r,window:s}=t,a=k.useRef();a.current==null&&(a.current=AC({window:s,v5Compat:!0}));let o=a.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=k.useCallback(m=>{d&&Tb?Tb(()=>c(m)):c(m)},[c,d]);return k.useLayoutEffect(()=>o.listen(h),[o,h]),k.useEffect(()=>yR(r),[r]),k.createElement(bR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const AR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U=k.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,p=nk(e,kR),{basename:g}=k.useContext(qr),N,E=!1;if(typeof d=="string"&&CR.test(d)&&(N=d,AR))try{let b=new URL(window.location.href),S=d.startsWith("//")?new URL(b.protocol+d):new URL(d),D=za(S.pathname,g);S.origin===b.origin&&D!=null?d=D+S.search+S.hash:E=!0}catch{}let _=nR(d,{relative:s}),w=DR(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function y(b){r&&r(b),b.defaultPrevented||w(b)}return k.createElement("a",jd({},p,{href:N||_,onClick:E||a?r:y,ref:n,target:c}))}),it=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,m=nk(e,ER),p=bh(c,{relative:m.relative}),g=ct(),N=k.useContext(Yj),{navigator:E,basename:_}=k.useContext(qr),w=N!=null&&VR(p)&&d===!0,y=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,b=g.pathname,S=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;s||(b=b.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&_&&(S=za(S,_)||S);const D=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let V=b===y||!o&&b.startsWith(y)&&b.charAt(D)==="/",T=S!=null&&(S===y||!o&&S.startsWith(y)&&S.charAt(y.length)==="/"),x={isActive:V,isPending:T,isTransitioning:w},j=V?r:void 0,P;typeof a=="function"?P=a(x):P=[a,V?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(x):l;return k.createElement(U,jd({},m,{"aria-current":j,className:P,ref:n,style:C,to:c,viewTransition:d}),typeof h=="function"?h(x):h)});var Up;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Up||(Up={}));var Ib;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ib||(Ib={}));function RR(t){let e=k.useContext(xh);return e||Me(!1),e}function DR(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Yt(),d=ct(),h=bh(t,{relative:o});return k.useCallback(m=>{if(NR(m,n)){m.preventDefault();let p=r!==void 0?r:wd(d)===wd(h);c(t,{replace:p,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,h,r,s,n,t,a,o,l])}function Av(t){let e=k.useRef(zp(t)),n=k.useRef(!1),r=ct(),s=k.useMemo(()=>jR(r.search,n.current?null:e.current),[r.search]),a=Yt(),o=k.useCallback((l,c)=>{const d=zp(typeof l=="function"?l(s):l);n.current=!0,a("?"+d,c)},[a,s]);return[s,o]}function VR(t,e){e===void 0&&(e={});let n=k.useContext(IR);n==null&&Me(!1);let{basename:r}=RR(Up.useViewTransitionState),s=bh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=za(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=za(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _d(s.pathname,o)!=null||_d(s.pathname,a)!=null}let OR={data:""},MR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||OR,LR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,FR=/\/\*[^]*?\*\/|  +/g,Sb=/\n+/g,is=(t,e)=>{let n="",r="",s="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?is(o,a):a+"{"+is(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=is(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=is.p?is.p(a,o):a+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},xr={},rk=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+rk(t[n]);return e}return t},zR=(t,e,n,r,s)=>{let a=rk(t),o=xr[a]||(xr[a]=(c=>{let d=0,h=11;for(;d<c.length;)h=101*h+c.charCodeAt(d++)>>>0;return"go"+h})(a));if(!xr[o]){let c=a!==t?t:(d=>{let h,m,p=[{}];for(;h=LR.exec(d.replace(FR,""));)h[4]?p.shift():h[3]?(m=h[3].replace(Sb," ").trim(),p.unshift(p[0][m]=p[0][m]||{})):p[0][h[1]]=h[2].replace(Sb," ").trim();return p[0]})(t);xr[o]=is(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&xr.g?xr.g:null;return n&&(xr.g=xr[o]),((c,d,h,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=h?c+d.data:d.data+c)})(xr[o],e,r,l),o},UR=(t,e,n)=>t.reduce((r,s,a)=>{let o=e[a];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":is(l,""):l===!1?"":l}return r+s+(o??"")},"");function _h(t){let e=this||{},n=t.call?t(e.p):t;return zR(n.unshift?n.raw?UR(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,MR(e.target),e.g,e.o,e.k)}let sk,Bp,$p;_h.bind({g:1});let Or=_h.bind({k:1});function BR(t,e,n,r){is.p=e,sk=t,Bp=n,$p=r}function $s(t,e){let n=this||{};return function(){let r=arguments;function s(a,o){let l=Object.assign({},a),c=l.className||s.className;n.p=Object.assign({theme:Bp&&Bp()},l),n.o=/ *go\d+/.test(c),l.className=_h.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),$p&&d[0]&&$p(l),sk(d,l)}return s}}var $R=t=>typeof t=="function",kd=(t,e)=>$R(t)?t(e):t,HR=(()=>{let t=0;return()=>(++t).toString()})(),ik=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),WR=20,ak=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,WR)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return ak(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Ou=[],ui={toasts:[],pausedAt:void 0},zi=t=>{ui=ak(ui,t),Ou.forEach(e=>{e(ui)})},qR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KR=(t={})=>{let[e,n]=k.useState(ui),r=k.useRef(ui);k.useEffect(()=>(r.current!==ui&&n(ui),Ou.push(n),()=>{let a=Ou.indexOf(n);a>-1&&Ou.splice(a,1)}),[]);let s=e.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||qR[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:s}},GR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||HR()}),cc=t=>(e,n)=>{let r=GR(e,t,n);return zi({type:2,toast:r}),r.id},Wt=(t,e)=>cc("blank")(t,e);Wt.error=cc("error");Wt.success=cc("success");Wt.loading=cc("loading");Wt.custom=cc("custom");Wt.dismiss=t=>{zi({type:3,toastId:t})};Wt.remove=t=>zi({type:4,toastId:t});Wt.promise=(t,e,n)=>{let r=Wt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let a=e.success?kd(e.success,s):void 0;return a?Wt.success(a,{id:r,...n,...n==null?void 0:n.success}):Wt.dismiss(r),s}).catch(s=>{let a=e.error?kd(e.error,s):void 0;a?Wt.error(a,{id:r,...n,...n==null?void 0:n.error}):Wt.dismiss(r)}),t};var QR=(t,e)=>{zi({type:1,toast:{id:t,height:e}})},XR=()=>{zi({type:5,time:Date.now()})},ll=new Map,YR=1e3,JR=(t,e=YR)=>{if(ll.has(t))return;let n=setTimeout(()=>{ll.delete(t),zi({type:4,toastId:t})},e);ll.set(t,n)},ZR=t=>{let{toasts:e,pausedAt:n}=KR(t);k.useEffect(()=>{if(n)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Wt.dismiss(l.id);return}return setTimeout(()=>Wt.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=k.useCallback(()=>{n&&zi({type:6,time:Date.now()})},[n]),s=k.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},h=e.filter(g=>(g.position||d)===(a.position||d)&&g.height),m=h.findIndex(g=>g.id===a.id),p=h.filter((g,N)=>N<m&&g.visible).length;return h.filter(g=>g.visible).slice(...l?[p+1]:[0,p]).reduce((g,N)=>g+(N.height||0)+c,0)},[e]);return k.useEffect(()=>{e.forEach(a=>{if(a.dismissed)JR(a.id,a.removeDelay);else{let o=ll.get(a.id);o&&(clearTimeout(o),ll.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:QR,startPause:XR,endPause:r,calculateOffset:s}}},e4=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,t4=Or`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n4=Or`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,r4=$s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${t4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${n4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,s4=Or`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,i4=$s("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${s4} 1s linear infinite;
`,a4=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,o4=Or`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,l4=$s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${a4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${o4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,c4=$s("div")`
  position: absolute;
`,u4=$s("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,d4=Or`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,h4=$s("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${d4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,m4=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?k.createElement(h4,null,e):e:n==="blank"?null:k.createElement(u4,null,k.createElement(i4,{...r}),n!=="loading"&&k.createElement(c4,null,n==="error"?k.createElement(r4,{...r}):k.createElement(l4,{...r})))},f4=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,p4=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,g4="0%{opacity:0;} 100%{opacity:1;}",v4="0%{opacity:1;} 100%{opacity:0;}",x4=$s("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,y4=$s("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,b4=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=ik()?[g4,v4]:[f4(n),p4(n)];return{animation:e?`${Or(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Or(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},w4=k.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?b4(t.position||e||"top-center",t.visible):{opacity:0},a=k.createElement(m4,{toast:t}),o=k.createElement(y4,{...t.ariaProps},kd(t.message,t));return k.createElement(x4,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:a,message:o}):k.createElement(k.Fragment,null,a,o))});BR(k.createElement);var _4=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let a=k.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return k.createElement("div",{ref:a,className:e,style:n},s)},N4=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ik()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},j4=_h`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,du=16,k4=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=ZR(n);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:du,left:du,right:du,bottom:du,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let h=d.position||e,m=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),p=N4(h,m);return k.createElement(_4,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?j4:"",style:p},d.type==="custom"?kd(d.message,d):s?s(d):k.createElement(w4,{toast:d,position:h}))}))},re=Wt;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>k.createElement("svg",{ref:h,...E4,width:s,height:s,stroke:r,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${T4(t)}`,l].join(" "),...d},[...e.map(([m,p])=>k.createElement(m,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=J("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=J("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=J("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=J("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=J("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=J("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=J("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=J("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=J("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=J("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=J("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=J("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=J("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=J("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=J("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=J("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=J("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=J("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=J("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=J("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=J("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=J("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=J("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=J("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=J("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=J("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=J("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=J("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=J("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=J("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pk=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),kh=k.createContext({}),Eh=k.createContext(null),Th=typeof document<"u",Ov=Th?k.useLayoutEffect:k.useEffect,gk=k.createContext({strict:!1}),Mv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),G4="framerAppearId",vk="data-"+Mv(G4);function Q4(t,e,n,r){const{visualElement:s}=k.useContext(kh),a=k.useContext(gk),o=k.useContext(Eh),l=k.useContext(pk).reducedMotion,c=k.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;k.useInsertionEffect(()=>{d&&d.update(n,o)});const h=k.useRef(!!(n[vk]&&!window.HandoffComplete));return Ov(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function va(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function X4(t,e,n){return k.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):va(n)&&(n.current=r))},[e])}function $l(t){return typeof t=="string"||Array.isArray(t)}function Ih(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fv=["initial",...Lv];function Sh(t){return Ih(t.animate)||Fv.some(e=>$l(t[e]))}function xk(t){return!!(Sh(t)||t.variants)}function Y4(t,e){if(Sh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$l(n)?n:void 0,animate:$l(r)?r:void 0}}return t.inherit!==!1?e:{}}function J4(t){const{initial:e,animate:n}=Y4(t,k.useContext(kh));return k.useMemo(()=>({initial:e,animate:n}),[Vb(e),Vb(n)])}function Vb(t){return Array.isArray(t)?t.join(" "):t}const Ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hl={};for(const t in Ob)Hl[t]={isEnabled:e=>Ob[t].some(n=>!!e[n])};function Z4(t){for(const e in t)Hl[e]={...Hl[e],...t[e]}}const zv=k.createContext({}),yk=k.createContext({}),eD=Symbol.for("motionComponentSymbol");function tD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Z4(t);function a(l,c){let d;const h={...k.useContext(pk),...l,layoutId:nD(l)},{isStatic:m}=h,p=J4(l),g=r(l,m);if(!m&&Th){p.visualElement=Q4(s,g,h,e);const N=k.useContext(yk),E=k.useContext(gk).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,E,t,N))}return k.createElement(kh.Provider,{value:p},d&&p.visualElement?k.createElement(d,{visualElement:p.visualElement,...h}):null,n(s,l,X4(g,p.visualElement,c),g,m,p.visualElement))}const o=k.forwardRef(a);return o[eD]=s,o}function nD({layoutId:t}){const e=k.useContext(zv).id;return e&&t!==void 0?e+"-"+t:t}function rD(t){function e(r,s={}){return tD(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const sD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uv(t){return typeof t!="string"||t.includes("-")?!1:!!(sD.indexOf(t)>-1||/[A-Z]/.test(t))}const Ed={};function iD(t){Object.assign(Ed,t)}const dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(dc);function bk(t,{layout:e,layoutId:n}){return Ui.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ed[t]||t==="opacity")}const hn=t=>!!(t&&t.getVelocity),aD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oD=dc.length;function lD(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let a="";for(let o=0;o<oD;o++){const l=dc[o];if(t[l]!==void 0){const c=aD[l]||l;a+=`${c}(${t[l]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(t,r?"":a):n&&r&&(a="none"),a}const wk=t=>e=>typeof e=="string"&&e.startsWith(t),_k=wk("--"),Wp=wk("var(--"),cD=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,uD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vs=(t,e,n)=>Math.min(Math.max(n,t),e),Bi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ul={...Bi,transform:t=>Vs(0,1,t)},hu={...Bi,default:1},dl=t=>Math.round(t*1e5)/1e5,Ph=/(-)?([\d]*\.?[\d])+/g,Nk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hc(t){return typeof t=="string"}const mc=t=>({test:e=>hc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zr=mc("deg"),ar=mc("%"),te=mc("px"),hD=mc("vh"),mD=mc("vw"),Mb={...ar,parse:t=>ar.parse(t)/100,transform:t=>ar.transform(t*100)},Lb={...Bi,transform:Math.round},jk={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:Zr,rotateX:Zr,rotateY:Zr,rotateZ:Zr,scale:hu,scaleX:hu,scaleY:hu,scaleZ:hu,skew:Zr,skewX:Zr,skewY:Zr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:ul,originX:Mb,originY:Mb,originZ:te,zIndex:Lb,fillOpacity:ul,strokeOpacity:ul,numOctaves:Lb};function Bv(t,e,n,r){const{style:s,vars:a,transform:o,transformOrigin:l}=t;let c=!1,d=!1,h=!0;for(const m in e){const p=e[m];if(_k(m)){a[m]=p;continue}const g=jk[m],N=uD(p,g);if(Ui.has(m)){if(c=!0,o[m]=N,!h)continue;p!==(g.default||0)&&(h=!1)}else m.startsWith("origin")?(d=!0,l[m]=N):s[m]=N}if(e.transform||(c||r?s.transform=lD(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${m} ${p} ${g}`}}const $v=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kk(t,e,n){for(const r in e)!hn(e[r])&&!bk(r,n)&&(t[r]=e[r])}function fD({transformTemplate:t},e,n){return k.useMemo(()=>{const r=$v();return Bv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function pD(t,e,n){const r=t.style||{},s={};return kk(s,r,t),Object.assign(s,fD(t,e,n)),t.transformValues?t.transformValues(s):s}function gD(t,e,n){const r={},s=pD(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const vD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vD.has(t)}let Ek=t=>!Td(t);function xD(t){t&&(Ek=e=>e.startsWith("on")?!Td(e):t(e))}try{xD(require("@emotion/is-prop-valid").default)}catch{}function yD(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Ek(s)||n===!0&&Td(s)||!e&&!Td(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Fb(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function bD(t,e,n){const r=Fb(e,t.x,t.width),s=Fb(n,t.y,t.height);return`${r} ${s}`}const wD={offset:"stroke-dashoffset",array:"stroke-dasharray"},_D={offset:"strokeDashoffset",array:"strokeDasharray"};function ND(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?wD:_D;t[a.offset]=te.transform(-r);const o=te.transform(e),l=te.transform(n);t[a.array]=`${o} ${l}`}function Hv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,m,p){if(Bv(t,d,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:N,dimensions:E}=t;g.transform&&(E&&(N.transform=g.transform),delete g.transform),E&&(s!==void 0||a!==void 0||N.transform)&&(N.transformOrigin=bD(E,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&ND(g,o,l,c,!1)}const Tk=()=>({...$v(),attrs:{}}),Wv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jD(t,e,n,r){const s=k.useMemo(()=>{const a=Tk();return Hv(a,e,{enableHardwareAcceleration:!1},Wv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};kk(a,t.style,t),s.style={...a,...s.style}}return s}function kD(t=!1){return(n,r,s,{latestValues:a},o)=>{const c=(Uv(n)?jD:gD)(r,a,o,n),h={...yD(r,typeof n=="string",t),...c,ref:s},{children:m}=r,p=k.useMemo(()=>hn(m)?m.get():m,[m]);return k.createElement(n,{...h,children:p})}}function Ik(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const Sk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pk(t,e,n,r){Ik(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Sk.has(s)?s:Mv(s),e.attrs[s])}function qv(t,e){const{style:n}=t,r={};for(const s in n)(hn(n[s])||e.style&&hn(e.style[s])||bk(s,t))&&(r[s]=n[s]);return r}function Ak(t,e){const n=qv(t,e);for(const r in t)if(hn(t[r])||hn(e[r])){const s=dc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Kv(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function Ck(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Id=t=>Array.isArray(t),ED=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),TD=t=>Id(t)?t[t.length-1]||0:t;function Mu(t){const e=hn(t)?t.get():t;return ED(e)?e.toValue():e}function ID({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,a){const o={latestValues:SD(r,s,a,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const Rk=t=>(e,n)=>{const r=k.useContext(kh),s=k.useContext(Eh),a=()=>ID(t,e,r,s);return n?a():Ck(a)};function SD(t,e,n,r){const s={},a=r(t,{});for(const p in a)s[p]=Mu(a[p]);let{initial:o,animate:l}=t;const c=Sh(t),d=xk(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;return m&&typeof m!="boolean"&&!Ih(m)&&(Array.isArray(m)?m:[m]).forEach(g=>{const N=Kv(t,g);if(!N)return;const{transitionEnd:E,transition:_,...w}=N;for(const y in w){let b=w[y];if(Array.isArray(b)){const S=h?b.length-1:0;b=b[S]}b!==null&&(s[y]=b)}for(const y in E)s[y]=E[y]}),s}const Ge=t=>t;class zb{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function PD(t){let e=new zb,n=new zb,r=0,s=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const m=h&&s,p=m?e:n;return d&&o.add(c),p.add(c)&&m&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){a=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(c),o.has(h)&&(l.schedule(h),t())}s=!1,a&&(a=!1,l.process(c))}};return l}const mu=["prepare","read","update","preRender","render","postRender"],AD=40;function CD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=mu.reduce((m,p)=>(m[p]=PD(()=>n=!0),m),{}),o=m=>a[m].process(s),l=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,AD),1),s.timestamp=m,s.isProcessing=!0,mu.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:mu.reduce((m,p)=>{const g=a[p];return m[p]=(N,E=!1,_=!1)=>(n||c(),g.schedule(N,E,_)),m},{}),cancel:m=>mu.forEach(p=>a[p].cancel(m)),state:s,steps:a}}const{schedule:Te,cancel:zr,state:Pt,steps:uf}=CD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ge,!0),RD={useVisualState:Rk({scrapeMotionValuesFromProps:Ak,createRenderState:Tk,onMount:(t,e,{renderState:n,latestValues:r})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{Hv(n,r,{enableHardwareAcceleration:!1},Wv(e.tagName),t.transformTemplate),Pk(e,n)})}})},DD={useVisualState:Rk({scrapeMotionValuesFromProps:qv,createRenderState:$v})};function VD(t,{forwardMotionProps:e=!1},n,r){return{...Uv(t)?RD:DD,preloadedFeatures:n,useRender:kD(e),createVisualElement:r,Component:t}}function Nr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Dk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ah(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const OD=t=>e=>Dk(e)&&t(e,Ah(e));function Ir(t,e,n,r){return Nr(t,e,OD(n),r)}const MD=(t,e)=>n=>e(t(n)),ks=(...t)=>t.reduce(MD);function Vk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Ub=Vk("dragHorizontal"),Bb=Vk("dragVertical");function Ok(t){let e=!1;if(t==="y")e=Bb();else if(t==="x")e=Ub();else{const n=Ub(),r=Bb();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Mk(){const t=Ok(!0);return t?(t(),!1):!0}class Hs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $b(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,o)=>{if(a.pointerType==="touch"||Mk())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Te.update(()=>l[r](a,o))};return Ir(t.current,n,s,{passive:!t.getProps()[r]})}class LD extends Hs{mount(){this.unmount=ks($b(this.node,!0),$b(this.node,!1))}unmount(){}}class FD extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ks(Nr(this.node.current,"focus",()=>this.onFocus()),Nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Lk=(t,e)=>e?t===e?!0:Lk(t,e.parentElement):!1;function df(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ah(n))}class zD extends Hs{constructor(){super(...arguments),this.removeStartListeners=Ge,this.removeEndListeners=Ge,this.removeAccessibleListeners=Ge,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Ir(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:m}=this.node.getProps();Te.update(()=>{!m&&!Lk(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ir(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ks(a,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||df("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Te.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Nr(this.node.current,"keyup",o),df("down",(l,c)=>{this.startPress(l,c)})},n=Nr(this.node.current,"keydown",e),r=()=>{this.isPressing&&df("cancel",(a,o)=>this.cancelPress(a,o))},s=Nr(this.node.current,"blur",r);this.removeAccessibleListeners=ks(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Te.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Mk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Te.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ir(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ks(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qp=new WeakMap,hf=new WeakMap,UD=t=>{const e=qp.get(t.target);e&&e(t)},BD=t=>{t.forEach(UD)};function $D({root:t,...e}){const n=t||document;hf.has(n)||hf.set(n,{});const r=hf.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(BD,{root:t,...e})),r[s]}function HD(t,e,n){const r=$D(e);return qp.set(t,n),r.observe(t),()=>{qp.delete(t),r.unobserve(t)}}const WD={some:0,all:1};class qD extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:WD[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=d?h:m;p&&p(c)};return HD(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KD(e,n))&&this.startObserver()}unmount(){}}function KD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GD={inView:{Feature:qD},tap:{Feature:zD},focus:{Feature:FD},hover:{Feature:LD}};function Fk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function QD(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function XD(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ch(t,e,n){const r=t.getProps();return Kv(r,e,n!==void 0?n:r.custom,QD(t),XD(t))}let Sd=Ge;const xi=t=>t*1e3,Sr=t=>t/1e3,YD={current:!1},zk=t=>Array.isArray(t)&&typeof t[0]=="number";function Uk(t){return!!(!t||typeof t=="string"&&Bk[t]||zk(t)||Array.isArray(t)&&t.every(Uk))}const Wo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Bk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wo([0,.65,.55,1]),circOut:Wo([.55,0,1,.45]),backIn:Wo([.31,.01,.66,-.59]),backOut:Wo([.33,1.53,.69,.99])};function $k(t){if(t)return zk(t)?Wo(t):Array.isArray(t)?t.map($k):Bk[t]}function JD(t,e,n,{delay:r=0,duration:s,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=$k(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function ZD(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Hk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eV=1e-7,tV=12;function nV(t,e,n,r,s){let a,o,l=0;do o=e+(n-e)/2,a=Hk(o,r,s)-t,a>0?n=o:e=o;while(Math.abs(a)>eV&&++l<tV);return o}function fc(t,e,n,r){if(t===e&&n===r)return Ge;const s=a=>nV(a,0,1,t,n);return a=>a===0||a===1?a:Hk(s(a),e,r)}const rV=fc(.42,0,1,1),sV=fc(0,0,.58,1),Wk=fc(.42,0,.58,1),iV=t=>Array.isArray(t)&&typeof t[0]!="number",qk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Kk=t=>e=>1-t(1-e),Gv=t=>1-Math.sin(Math.acos(t)),Gk=Kk(Gv),aV=qk(Gv),Qk=fc(.33,1.53,.69,.99),Qv=Kk(Qk),oV=qk(Qv),lV=t=>(t*=2)<1?.5*Qv(t):.5*(2-Math.pow(2,-10*(t-1))),Hb={linear:Ge,easeIn:rV,easeInOut:Wk,easeOut:sV,circIn:Gv,circInOut:aV,circOut:Gk,backIn:Qv,backInOut:oV,backOut:Qk,anticipate:lV},Wb=t=>{if(Array.isArray(t)){Sd(t.length===4);const[e,n,r,s]=t;return fc(e,n,r,s)}else if(typeof t=="string")return Sd(Hb[t]!==void 0),Hb[t];return t},Xv=(t,e)=>n=>!!(hc(n)&&dD.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Xk=(t,e,n)=>r=>{if(!hc(r))return r;const[s,a,o,l]=r.match(Ph);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},cV=t=>Vs(0,255,t),mf={...Bi,transform:t=>Math.round(cV(t))},di={test:Xv("rgb","red"),parse:Xk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+mf.transform(t)+", "+mf.transform(e)+", "+mf.transform(n)+", "+dl(ul.transform(r))+")"};function uV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Kp={test:Xv("#"),parse:uV,transform:di.transform},xa={test:Xv("hsl","hue"),parse:Xk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ar.transform(dl(e))+", "+ar.transform(dl(n))+", "+dl(ul.transform(r))+")"},$t={test:t=>di.test(t)||Kp.test(t)||xa.test(t),parse:t=>di.test(t)?di.parse(t):xa.test(t)?xa.parse(t):Kp.parse(t),transform:t=>hc(t)?t:t.hasOwnProperty("red")?di.transform(t):xa.transform(t)},Ve=(t,e,n)=>-n*t+n*e+t;function ff(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,o=0;if(!e)s=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=ff(c,l,t+1/3),a=ff(c,l,t),o=ff(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const pf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},hV=[Kp,di,xa],mV=t=>hV.find(e=>e.test(t));function qb(t){const e=mV(t);let n=e.parse(t);return e===xa&&(n=dV(n)),n}const Yk=(t,e)=>{const n=qb(t),r=qb(e),s={...n};return a=>(s.red=pf(n.red,r.red,a),s.green=pf(n.green,r.green,a),s.blue=pf(n.blue,r.blue,a),s.alpha=Ve(n.alpha,r.alpha,a),di.transform(s))};function fV(t){var e,n;return isNaN(t)&&hc(t)&&(((e=t.match(Ph))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Nk))===null||n===void 0?void 0:n.length)||0)>0}const Jk={regex:cD,countKey:"Vars",token:"${v}",parse:Ge},Zk={regex:Nk,countKey:"Colors",token:"${c}",parse:$t.parse},eE={regex:Ph,countKey:"Numbers",token:"${n}",parse:Bi.parse};function gf(t,{regex:e,countKey:n,token:r,parse:s}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(s)))}function Pd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&gf(n,Jk),gf(n,Zk),gf(n,eE),n}function tE(t){return Pd(t).values}function nE(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Pd(t),a=e.length;return o=>{let l=s;for(let c=0;c<a;c++)c<r?l=l.replace(Jk.token,o[c]):c<r+n?l=l.replace(Zk.token,$t.transform(o[c])):l=l.replace(eE.token,dl(o[c]));return l}}const pV=t=>typeof t=="number"?0:t;function gV(t){const e=tE(t);return nE(t)(e.map(pV))}const Os={test:fV,parse:tE,createTransformer:nE,getAnimatableNone:gV},rE=(t,e)=>n=>`${n>0?e:t}`;function sE(t,e){return typeof t=="number"?n=>Ve(t,e,n):$t.test(t)?Yk(t,e):t.startsWith("var(")?rE(t,e):aE(t,e)}const iE=(t,e)=>{const n=[...t],r=n.length,s=t.map((a,o)=>sE(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}},vV=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=sE(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}},aE=(t,e)=>{const n=Os.createTransformer(e),r=Pd(t),s=Pd(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?ks(iE(r.values,s.values),n):rE(t,e)},Wl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Kb=(t,e)=>n=>Ve(t,e,n);function xV(t){return typeof t=="number"?Kb:typeof t=="string"?$t.test(t)?Yk:aE:Array.isArray(t)?iE:typeof t=="object"?vV:Kb}function yV(t,e,n){const r=[],s=n||xV(t[0]),a=t.length-1;for(let o=0;o<a;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ge:e;l=ks(c,l)}r.push(l)}return r}function oE(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Sd(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yV(e,r,s),l=o.length,c=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=Wl(t[h],t[h+1],d);return o[h](m)};return n?d=>c(Vs(t[0],t[a-1],d)):c}function bV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Wl(0,e,r);t.push(Ve(n,1,s))}}function wV(t){const e=[0];return bV(e,t.length-1),e}function _V(t,e){return t.map(n=>n*e)}function NV(t,e){return t.map(()=>e||Wk).splice(0,t.length-1)}function Ad({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=iV(r)?r.map(Wb):Wb(r),a={done:!1,value:e[0]},o=_V(n&&n.length===e.length?n:wV(e),t),l=oE(o,e,{ease:Array.isArray(s)?s:NV(e,s)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}function lE(t,e){return e?t*(1e3/e):0}const jV=5;function cE(t,e,n){const r=Math.max(e-jV,0);return lE(n-t(r),e-r)}const vf=.001,kV=.01,EV=10,TV=.05,IV=1;function SV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,a,o=1-e;o=Vs(TV,IV,o),t=Vs(kV,EV,Sr(t)),o<1?(s=d=>{const h=d*o,m=h*t,p=h-n,g=Gp(d,o),N=Math.exp(-m);return vf-p/g*N},a=d=>{const m=d*o*t,p=m*n+n,g=Math.pow(o,2)*Math.pow(d,2)*t,N=Math.exp(-m),E=Gp(Math.pow(d,2),o);return(-s(d)+vf>0?-1:1)*((p-g)*N)/E}):(s=d=>{const h=Math.exp(-d*t),m=(d-n)*t+1;return-vf+h*m},a=d=>{const h=Math.exp(-d*t),m=(n-d)*(t*t);return h*m});const l=5/t,c=AV(s,a,l);if(t=xi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const PV=12;function AV(t,e,n){let r=n;for(let s=1;s<PV;s++)r=r-t(r)/e(r);return r}function Gp(t,e){return t*Math.sqrt(1-e*e)}const CV=["duration","bounce"],RV=["stiffness","damping","mass"];function Gb(t,e){return e.some(n=>t[n]!==void 0)}function DV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Gb(t,RV)&&Gb(t,CV)){const n=SV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function uE({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=DV({...r,velocity:-Sr(r.velocity||0)}),g=m||0,N=c/(2*Math.sqrt(l*d)),E=a-s,_=Sr(Math.sqrt(l/d)),w=Math.abs(E)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let y;if(N<1){const b=Gp(_,N);y=S=>{const D=Math.exp(-N*_*S);return a-D*((g+N*_*E)/b*Math.sin(b*S)+E*Math.cos(b*S))}}else if(N===1)y=b=>a-Math.exp(-_*b)*(E+(g+_*E)*b);else{const b=_*Math.sqrt(N*N-1);y=S=>{const D=Math.exp(-N*_*S),V=Math.min(b*S,300);return a-D*((g+N*_*E)*Math.sinh(V)+b*E*Math.cosh(V))/b}}return{calculatedDuration:p&&h||null,next:b=>{const S=y(b);if(p)o.done=b>=h;else{let D=g;b!==0&&(N<1?D=cE(y,b,S):D=0);const V=Math.abs(D)<=n,T=Math.abs(a-S)<=e;o.done=V&&T}return o.value=o.done?a:S,o}}}function Qb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],p={done:!1,value:m},g=x=>l!==void 0&&x<l||c!==void 0&&x>c,N=x=>l===void 0?c:c===void 0||Math.abs(l-x)<Math.abs(c-x)?l:c;let E=n*e;const _=m+E,w=o===void 0?_:o(_);w!==_&&(E=w-m);const y=x=>-E*Math.exp(-x/r),b=x=>w+y(x),S=x=>{const j=y(x),P=b(x);p.done=Math.abs(j)<=d,p.value=p.done?w:P};let D,V;const T=x=>{g(p.value)&&(D=x,V=uE({keyframes:[p.value,N(p.value)],velocity:cE(b,x,p.value),damping:s,stiffness:a,restDelta:d,restSpeed:h}))};return T(0),{calculatedDuration:null,next:x=>{let j=!1;return!V&&D===void 0&&(j=!0,S(x),T(x)),D!==void 0&&x>D?V.next(x-D):(!j&&S(x),p)}}}const VV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>zr(e),now:()=>Pt.isProcessing?Pt.timestamp:performance.now()}},Xb=2e4;function Yb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xb;)e+=n,r=t.next(e);return e>=Xb?1/0:e}const OV={decay:Qb,inertia:Qb,tween:Ad,keyframes:Ad,spring:uE};function Cd({autoplay:t=!0,delay:e=0,driver:n=VV,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:m,...p}){let g=1,N=!1,E,_;const w=()=>{_=new Promise(Y=>{E=Y})};w();let y;const b=OV[s]||Ad;let S;b!==Ad&&typeof r[0]!="number"&&(S=oE([0,100],r,{clamp:!1}),r=[0,100]);const D=b({...p,keyframes:r});let V;l==="mirror"&&(V=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let T="idle",x=null,j=null,P=null;D.calculatedDuration===null&&a&&(D.calculatedDuration=Yb(D));const{calculatedDuration:C}=D;let R=1/0,A=1/0;C!==null&&(R=C+o,A=R*(a+1)-o);let q=0;const le=Y=>{if(j===null)return;g>0&&(j=Math.min(j,Y)),g<0&&(j=Math.min(Y-A/g,j)),x!==null?q=x:q=Math.round(Y-j)*g;const ue=q-e*(g>=0?1:-1),we=g>=0?ue<0:ue>A;q=Math.max(ue,0),T==="finished"&&x===null&&(q=A);let Jt=q,Mt=D;if(a){const mo=Math.min(q,A)/R;let pr=Math.floor(mo),kn=mo%1;!kn&&mo>=1&&(kn=1),kn===1&&pr--,pr=Math.min(pr,a+1),!!(pr%2)&&(l==="reverse"?(kn=1-kn,o&&(kn-=o/R)):l==="mirror"&&(Mt=V)),Jt=Vs(0,1,kn)*R}const ut=we?{done:!1,value:r[0]}:Mt.next(Jt);S&&(ut.value=S(ut.value));let{done:Zt}=ut;!we&&C!==null&&(Zt=g>=0?q>=A:q<=0);const Ki=x===null&&(T==="finished"||T==="running"&&Zt);return m&&m(ut.value),Ki&&H(),ut},ce=()=>{y&&y.stop(),y=void 0},pe=()=>{T="idle",ce(),E(),w(),j=P=null},H=()=>{T="finished",h&&h(),ce(),E()},Z=()=>{if(N)return;y||(y=n(le));const Y=y.now();c&&c(),x!==null?j=Y-x:(!j||T==="finished")&&(j=Y),T==="finished"&&w(),P=j,x=null,T="running",y.start()};t&&Z();const K={then(Y,ue){return _.then(Y,ue)},get time(){return Sr(q)},set time(Y){Y=xi(Y),q=Y,x!==null||!y||g===0?x=Y:j=y.now()-Y/g},get duration(){const Y=D.calculatedDuration===null?Yb(D):D.calculatedDuration;return Sr(Y)},get speed(){return g},set speed(Y){Y===g||!y||(g=Y,K.time=Sr(q))},get state(){return T},play:Z,pause:()=>{T="paused",x=q},stop:()=>{N=!0,T!=="idle"&&(T="idle",d&&d(),pe())},cancel:()=>{P!==null&&le(P),pe()},complete:()=>{T="finished"},sample:Y=>(j=0,le(Y))};return K}function MV(t){let e;return()=>(e===void 0&&(e=t()),e)}const LV=MV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),FV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),fu=10,zV=2e4,UV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Uk(e.ease);function BV(t,e,{onUpdate:n,onComplete:r,...s}){if(!(LV()&&FV.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const h=()=>{c=new Promise(b=>{l=b})};h();let{keyframes:m,duration:p=300,ease:g,times:N}=s;if(UV(e,s)){const b=Cd({...s,repeat:0,delay:0});let S={done:!1,value:m[0]};const D=[];let V=0;for(;!S.done&&V<zV;)S=b.sample(V),D.push(S.value),V+=fu;N=void 0,m=D,p=V-fu,g="linear"}const E=JD(t.owner.current,e,m,{...s,duration:p,ease:g,times:N}),_=()=>{d=!1,E.cancel()},w=()=>{d=!0,Te.update(_),l(),h()};return E.onfinish=()=>{d||(t.set(ZD(m,s)),r&&r(),w())},{then(b,S){return c.then(b,S)},attachTimeline(b){return E.timeline=b,E.onfinish=null,Ge},get time(){return Sr(E.currentTime||0)},set time(b){E.currentTime=xi(b)},get speed(){return E.playbackRate},set speed(b){E.playbackRate=b},get duration(){return Sr(p)},play:()=>{o||(E.play(),zr(_))},pause:()=>E.pause(),stop:()=>{if(o=!0,E.playState==="idle")return;const{currentTime:b}=E;if(b){const S=Cd({...s,autoplay:!1});t.setWithVelocity(S.sample(b-fu).value,S.sample(b).value,fu)}w()},complete:()=>{d||E.finish()},cancel:w}}function $V({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ge,pause:Ge,stop:Ge,then:a=>(a(),Promise.resolve()),cancel:Ge,complete:Ge});return e?Cd({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const HV={type:"spring",stiffness:500,damping:25,restSpeed:10},WV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qV={type:"keyframes",duration:.8},KV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GV=(t,{keyframes:e})=>e.length>2?qV:Ui.has(t)?t.startsWith("scale")?WV(e[1]):HV:KV,Qp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Os.test(e)||e==="0")&&!e.startsWith("url(")),QV=new Set(["brightness","contrast","saturate","opacity"]);function XV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ph)||[];if(!r)return t;const s=n.replace(r,"");let a=QV.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const YV=/([a-z-]*)\(.*?\)/g,Xp={...Os,getAnimatableNone:t=>{const e=t.match(YV);return e?e.map(XV).join(" "):t}},JV={...jk,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Xp,WebkitFilter:Xp},Yv=t=>JV[t];function dE(t,e){let n=Yv(t);return n!==Xp&&(n=Os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hE=t=>/^0[^.\s]+$/.test(t);function ZV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||hE(t)}function eO(t,e,n,r){const s=Qp(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=r.from!==void 0?r.from:t.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),ZV(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(s&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];a[h]=dE(e,l)}return a}function tO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function Jv(t,e){return t[e]||t.default||t}const nO={skipAnimations:!1},Zv=(t,e,n,r={})=>s=>{const a=Jv(r,t)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-xi(o);const c=eO(e,t,n,a),d=c[0],h=c[c.length-1],m=Qp(t,d),p=Qp(t,h);let g={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:N=>{e.set(N),a.onUpdate&&a.onUpdate(N)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(tO(a)||(g={...g,...GV(t,g)}),g.duration&&(g.duration=xi(g.duration)),g.repeatDelay&&(g.repeatDelay=xi(g.repeatDelay)),!m||!p||YD.current||a.type===!1||nO.skipAnimations)return $V(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const N=BV(e,t,g);if(N)return N}return Cd(g)};function Rd(t){return!!(hn(t)&&t.add)}const mE=t=>/^\-?\d*\.?\d+$/.test(t);function ex(t,e){t.indexOf(e)===-1&&t.push(e)}function tx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nx{constructor(){this.subscriptions=[]}add(e){return ex(this.subscriptions,e),()=>tx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rO=t=>!isNaN(parseFloat(t));class sO{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:o}=Pt;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=rO(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?lE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $a(t,e){return new sO(t,e)}const fE=t=>e=>e.test(t),iO={test:t=>t==="auto",parse:t=>t},pE=[Bi,te,ar,Zr,mD,hD,iO],Vo=t=>pE.find(fE(t)),aO=[...pE,$t,Os],oO=t=>aO.find(fE(t));function lO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$a(n))}function cO(t,e){const n=Ch(t,e);let{transitionEnd:r={},transition:s={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const o in a){const l=TD(a[o]);lO(t,o,l)}}function uO(t,e,n){var r,s;const a=Object.keys(e).filter(l=>!t.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),h!=null&&(typeof h=="string"&&(mE(h)||hE(h))?h=parseFloat(h):!oO(h)&&Os.test(d)&&(h=dE(c,d)),t.addValue(c,$a(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function dO(t,e){return e?(e[t]||e.default||e).from:void 0}function hO(t,e,n){const r={};for(const s in t){const a=dO(s,e);if(a!==void 0)r[s]=a;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function mO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fO(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function gE(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(a=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in l){const p=t.getValue(m),g=l[m];if(!p||g===void 0||h&&mO(h,m))continue;const N={delay:n,elapsed:0,...Jv(a||{},m)};if(window.HandoffAppearAnimations){const w=t.getProps()[vk];if(w){const y=window.HandoffAppearAnimations(w,m,p,Te);y!==null&&(N.elapsed=y,N.isHandoff=!0)}}let E=!N.isHandoff&&!fO(p,g);if(N.type==="spring"&&(p.getVelocity()||N.velocity)&&(E=!1),p.animation&&(E=!1),E)continue;p.start(Zv(m,p,g,t.shouldReduceMotion&&Ui.has(m)?{type:!1}:N));const _=p.animation;Rd(c)&&(c.add(m),_.then(()=>c.remove(m))),d.push(_)}return o&&Promise.all(d).then(()=>{o&&cO(t,o)}),d}function Yp(t,e,n={}){const r=Ch(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(gE(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return pO(t,e,d+c,h,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function pO(t,e,n=0,r=0,s=1,a){const o=[],l=(t.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(gO).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(Yp(d,e,{...a,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function gO(t,e){return t.sortNodePosition(e)}function vO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Yp(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Yp(t,e,n);else{const s=typeof e=="function"?Ch(t,e,n.custom):e;r=Promise.all(gE(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const xO=[...Lv].reverse(),yO=Lv.length;function bO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vO(t,n,r)))}function wO(t){let e=bO(t);const n=NO();let r=!0;const s=(c,d)=>{const h=Ch(t,d);if(h){const{transition:m,transitionEnd:p,...g}=h;c={...c,...g,...p}}return c};function a(c){e=c(t)}function o(c,d){const h=t.getProps(),m=t.getVariantContext(!0)||{},p=[],g=new Set;let N={},E=1/0;for(let w=0;w<yO;w++){const y=xO[w],b=n[y],S=h[y]!==void 0?h[y]:m[y],D=$l(S),V=y===d?b.isActive:null;V===!1&&(E=w);let T=S===m[y]&&S!==h[y]&&D;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...N},!b.isActive&&V===null||!S&&!b.prevProp||Ih(S)||typeof S=="boolean")continue;let j=_O(b.prevProp,S)||y===d&&b.isActive&&!T&&D||w>E&&D,P=!1;const C=Array.isArray(S)?S:[S];let R=C.reduce(s,{});V===!1&&(R={});const{prevResolvedValues:A={}}=b,q={...A,...R},le=ce=>{j=!0,g.has(ce)&&(P=!0,g.delete(ce)),b.needsAnimating[ce]=!0};for(const ce in q){const pe=R[ce],H=A[ce];if(N.hasOwnProperty(ce))continue;let Z=!1;Id(pe)&&Id(H)?Z=!Fk(pe,H):Z=pe!==H,Z?pe!==void 0?le(ce):g.add(ce):pe!==void 0&&g.has(ce)?le(ce):b.protectedKeys[ce]=!0}b.prevProp=S,b.prevResolvedValues=R,b.isActive&&(N={...N,...R}),r&&t.blockInitialAnimation&&(j=!1),j&&(!T||P)&&p.push(...C.map(ce=>({animation:ce,options:{type:y,...c}})))}if(g.size){const w={};g.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(w[y]=b)}),p.push({animation:w})}let _=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function l(c,d,h){var m;if(n[c].isActive===d)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(g=>{var N;return(N=g.animationState)===null||N===void 0?void 0:N.setActive(c,d)}),n[c].isActive=d;const p=o(h,c);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function _O(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fk(e,t):!1}function ei(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NO(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}class jO extends Hs{constructor(e){super(e),e.animationState||(e.animationState=wO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ih(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let kO=0;class EO extends Hs{constructor(){super(...arguments),this.id=kO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const TO={animation:{Feature:jO},exit:{Feature:EO}},Jb=(t,e)=>Math.abs(t-e);function IO(t,e){const n=Jb(t.x,e.x),r=Jb(t.y,e.y);return Math.sqrt(n**2+r**2)}class vE{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=yf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=IO(m.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:N}=m,{timestamp:E}=Pt;this.history.push({...N,timestamp:E});const{onStart:_,onMove:w}=this.handlers;p||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=xf(p,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:N,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=yf(m.type==="pointercancel"?this.lastMoveEventInfo:xf(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,_),N&&N(m,_)},!Dk(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ah(e),l=xf(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Pt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,yf(l,this.history)),this.removeListeners=ks(Ir(this.contextWindow,"pointermove",this.handlePointerMove),Ir(this.contextWindow,"pointerup",this.handlePointerUp),Ir(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function xf(t,e){return e?{point:e(t.point)}:t}function Zb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yf({point:t},e){return{point:t,delta:Zb(t,xE(e)),offset:Zb(t,SO(e)),velocity:PO(e,.1)}}function SO(t){return t[0]}function xE(t){return t[t.length-1]}function PO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=xE(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>xi(e)));)n--;if(!r)return{x:0,y:0};const a=Sr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _n(t){return t.max-t.min}function Jp(t,e=0,n=.01){return Math.abs(t-e)<=n}function ew(t,e,n,r=.5){t.origin=r,t.originPoint=Ve(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),(Jp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ve(n.min,n.max,t.origin)-t.originPoint,(Jp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function hl(t,e,n,r){ew(t.x,e.x,n.x,r?r.originX:void 0),ew(t.y,e.y,n.y,r?r.originY:void 0)}function tw(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function AO(t,e,n){tw(t.x,e.x,n.x),tw(t.y,e.y,n.y)}function nw(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function ml(t,e,n){nw(t.x,e.x,n.x),nw(t.y,e.y,n.y)}function CO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ve(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ve(n,t,r.max):Math.min(t,n)),t}function rw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RO(t,{top:e,left:n,bottom:r,right:s}){return{x:rw(t.x,n,s),y:rw(t.y,e,r)}}function sw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function DO(t,e){return{x:sw(t.x,e.x),y:sw(t.y,e.y)}}function VO(t,e){let n=.5;const r=_n(t),s=_n(e);return s>r?n=Wl(e.min,e.max-r,t.min):r>s&&(n=Wl(t.min,t.max-s,e.min)),Vs(0,1,n)}function OO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zp=.35;function MO(t=Zp){return t===!1?t=0:t===!0&&(t=Zp),{x:iw(t,"left","right"),y:iw(t,"top","bottom")}}function iw(t,e,n){return{min:aw(t,e),max:aw(t,n)}}function aw(t,e){return typeof t=="number"?t:t[e]||0}const ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),ya=()=>({x:ow(),y:ow()}),lw=()=>({min:0,max:0}),Je=()=>({x:lw(),y:lw()});function Tn(t){return[t("x"),t("y")]}function yE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function LO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bf(t){return t===void 0||t===1}function eg({scale:t,scaleX:e,scaleY:n}){return!bf(t)||!bf(e)||!bf(n)}function ri(t){return eg(t)||bE(t)||t.z||t.rotate||t.rotateX||t.rotateY}function bE(t){return cw(t.x)||cw(t.y)}function cw(t){return t&&t!=="0%"}function Dd(t,e,n){const r=t-n,s=e*r;return n+s}function uw(t,e,n,r,s){return s!==void 0&&(t=Dd(t,s,r)),Dd(t,n,r)+e}function tg(t,e=0,n=1,r,s){t.min=uw(t.min,e,n,r,s),t.max=uw(t.max,e,n,r,s)}function wE(t,{x:e,y:n}){tg(t.x,e.translate,e.scale,e.originPoint),tg(t.y,n.translate,n.scale,n.originPoint)}function zO(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ba(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,wE(t,o)),r&&ri(a.latestValues)&&ba(t,a.latestValues))}e.x=dw(e.x),e.y=dw(e.y)}function dw(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ns(t,e){t.min=t.min+e,t.max=t.max+e}function hw(t,e,[n,r,s]){const a=e[s]!==void 0?e[s]:.5,o=Ve(t.min,t.max,a);tg(t,e[n],e[r],o,e.scale)}const UO=["x","scaleX","originX"],BO=["y","scaleY","originY"];function ba(t,e){hw(t.x,e,UO),hw(t.y,e,BO)}function _E(t,e){return yE(FO(t.getBoundingClientRect(),e))}function $O(t,e,n){const r=_E(t,n),{scroll:s}=e;return s&&(ns(r.x,s.offset.x),ns(r.y,s.offset.y)),r}const NE=({current:t})=>t?t.ownerDocument.defaultView:null,HO=new WeakMap;class WO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ah(h,"page").point)},a=(h,m)=>{const{drag:p,dragPropagation:g,onDragStart:N}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ok(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(_=>{let w=this.getAxisMotionValue(_).get()||0;if(ar.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[_];b&&(w=_n(b)*(parseFloat(w)/100))}}this.originPoint[_]=w}),N&&Te.update(()=>N(h,m),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:N,onDrag:E}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=m;if(g&&this.currentDirection===null){this.currentDirection=qO(_),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),E&&E(h,m)},l=(h,m)=>this.stop(h,m),c=()=>Tn(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new vE(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:NE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Te.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!pu(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=CO(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&va(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=RO(s.layoutBox,n):this.constraints=!1,this.elastic=MO(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Tn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=OO(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!va(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=$O(r,s.root,this.visualElement.getTransformPagePoint());let o=DO(s.layout.layoutBox,a);if(n){const l=n(LO(o));this.hasMutatedConstraints=!!l,l&&(o=yE(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Tn(h=>{if(!pu(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,N={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,N)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Zv(e,r,0,n))}stopAnimation(){Tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Tn(n=>{const{drag:r}=this.getProps();if(!pu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(e[n]-Ve(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!va(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=VO({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tn(o=>{if(!pu(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ve(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;HO.set(this.visualElement,this);const e=this.visualElement.current,n=Ir(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();va(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Nr(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Tn(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Zp,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function pu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KO extends Hs{constructor(e){super(e),this.removeGroupControls=Ge,this.removeListeners=Ge,this.controls=new WO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const mw=t=>(e,n)=>{t&&Te.update(()=>t(e,n))};class GO extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Ge}onPointerDown(e){this.session=new vE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:mw(e),onStart:mw(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&Te.update(()=>s(a,o))}}}mount(){this.removePointerDownListener=Ir(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function QO(){const t=k.useContext(Eh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=k.useId();return k.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Lu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=fw(t,e.target.x),r=fw(t,e.target.y);return`${n}% ${r}%`}},XO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Os.parse(t);if(s.length>5)return r;const a=Os.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=Ve(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),a(s)}};class YO extends an.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;iD(JO),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Lu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Te.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jE(t){const[e,n]=QO(),r=k.useContext(zv);return an.createElement(YO,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(yk),isPresent:e,safeToRemove:n})}const JO={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:XO},kE=["TopLeft","TopRight","BottomLeft","BottomRight"],ZO=kE.length,pw=t=>typeof t=="string"?parseFloat(t):t,gw=t=>typeof t=="number"||te.test(t);function e3(t,e,n,r,s,a){s?(t.opacity=Ve(0,n.opacity!==void 0?n.opacity:1,t3(r)),t.opacityExit=Ve(e.opacity!==void 0?e.opacity:1,0,n3(r))):a&&(t.opacity=Ve(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ZO;o++){const l=`border${kE[o]}Radius`;let c=vw(e,l),d=vw(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||gw(c)===gw(d)?(t[l]=Math.max(Ve(pw(c),pw(d),r),0),(ar.test(d)||ar.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Ve(e.rotate||0,n.rotate||0,r))}function vw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const t3=EE(0,.5,Gk),n3=EE(.5,.95,Ge);function EE(t,e,n){return r=>r<t?0:r>e?1:n(Wl(t,e,r))}function xw(t,e){t.min=e.min,t.max=e.max}function En(t,e){xw(t.x,e.x),xw(t.y,e.y)}function yw(t,e,n,r,s){return t-=e,t=Dd(t,1/n,r),s!==void 0&&(t=Dd(t,1/s,r)),t}function r3(t,e=0,n=1,r=.5,s,a=t,o=t){if(ar.test(e)&&(e=parseFloat(e),e=Ve(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ve(a.min,a.max,r);t===a&&(l-=e),t.min=yw(t.min,e,n,l,s),t.max=yw(t.max,e,n,l,s)}function bw(t,e,[n,r,s],a,o){r3(t,e[n],e[r],e[s],e.scale,a,o)}const s3=["x","scaleX","originX"],i3=["y","scaleY","originY"];function ww(t,e,n,r){bw(t.x,e,s3,n?n.x:void 0,r?r.x:void 0),bw(t.y,e,i3,n?n.y:void 0,r?r.y:void 0)}function _w(t){return t.translate===0&&t.scale===1}function TE(t){return _w(t.x)&&_w(t.y)}function a3(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function IE(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Nw(t){return _n(t.x)/_n(t.y)}class o3{constructor(){this.members=[]}add(e){ex(this.members,e),e.scheduleRender()}remove(e){if(tx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jw(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const l3=(t,e)=>t.depth-e.depth;class c3{constructor(){this.children=[],this.isDirty=!1}add(e){ex(this.children,e),this.isDirty=!0}remove(e){tx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(l3),this.isDirty=!1,this.children.forEach(e)}}function u3(t,e){const n=performance.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(zr(r),t(a-e))};return Te.read(r,!0),()=>zr(r)}function d3(t){window.MotionDebug&&window.MotionDebug.record(t)}function h3(t){return t instanceof SVGElement&&t.tagName!=="svg"}function m3(t,e,n){const r=hn(t)?t:$a(t);return r.start(Zv("",r,e,n)),r.animation}const kw=["","X","Y","Z"],f3={visibility:"hidden"},Ew=1e3;let p3=0;const si={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function SE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=p3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,si.totalNodes=si.resolvedTargetDeltas=si.recalculatedProjection=0,this.nodes.forEach(x3),this.nodes.forEach(N3),this.nodes.forEach(j3),this.nodes.forEach(y3),d3(si)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new c3)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h3(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let m;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=u3(p,250),Lu.hasAnimatedSinceResize&&(Lu.hasAnimatedSinceResize=!1,this.nodes.forEach(Iw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||S3,{onLayoutAnimationStart:_,onLayoutAnimationComplete:w}=h.getProps(),y=!this.targetLayout||!IE(this.targetLayout,N)||g,b=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const S={...Jv(E,"layout"),onPlay:_,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||Iw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tw);return}this.isUpdating||this.nodes.forEach(w3),this.isUpdating=!1,this.nodes.forEach(_3),this.nodes.forEach(g3),this.nodes.forEach(v3),this.clearAllSnapshots();const l=performance.now();Pt.delta=Vs(0,1e3/60,l-Pt.timestamp),Pt.timestamp=l,Pt.isProcessing=!0,uf.update.process(Pt),uf.preRender.process(Pt),uf.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(b3),this.sharedNodes.forEach(E3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!TE(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||ri(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),P3(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Je();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ns(l.x,c.offset.x),ns(l.y,c.offset.y)),l}removeElementScroll(o){const l=Je();En(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;if(d!==this.root&&h&&m.layoutScroll){if(h.isRoot){En(l,o);const{scroll:p}=this.root;p&&(ns(l.x,-p.offset.x),ns(l.y,-p.offset.y))}ns(l.x,h.offset.x),ns(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const c=Je();En(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ba(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ri(h.latestValues)&&ba(c,h.latestValues)}return ri(this.latestValues)&&ba(c,this.latestValues),c}removeTransform(o){const l=Je();En(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ri(d.latestValues))continue;eg(d.latestValues)&&d.updateSnapshot();const h=Je(),m=d.measurePageBox();En(h,m),ww(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ri(this.latestValues)&&ww(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),ml(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),wE(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),ml(this.relativeTargetOrigin,this.target,g.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}si.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eg(this.parent.latestValues)||bE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;En(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;zO(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:N}=l;if(!N){this.projectionTransform&&(this.projectionDelta=ya(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ya(),this.projectionDeltaWithTransform=ya());const E=this.projectionTransform;hl(this.projectionDelta,this.layoutCorrected,N,this.latestValues),this.projectionTransform=jw(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),si.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Je(),g=c?c.source:void 0,N=this.layout?this.layout.source:void 0,E=g!==N,_=this.getStack(),w=!_||_.members.length<=1,y=!!(E&&!w&&this.options.crossfade===!0&&!this.path.some(I3));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const D=S/1e3;Sw(m.x,o.x,D),Sw(m.y,o.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ml(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T3(this.relativeTarget,this.relativeTargetOrigin,p,D),b&&a3(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Je()),En(b,this.relativeTarget)),E&&(this.animationValues=h,e3(h,d,this.latestValues,D,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Lu.hasAnimatedSinceResize=!0,this.currentAnimation=m3(0,Ew,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ew),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&PE(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Je();const m=_n(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=_n(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}En(l,c),ba(l,h),hl(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new o3),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<kw.length;h++){const m="rotate"+kw[h];c[m]&&(d[m]=c[m],o.setStaticValue(m,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return f3;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Mu(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Mu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ri(this.latestValues)&&(E.transform=h?h({},""):"none",this.hasProjected=!1),E}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=jw(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x:g,y:N}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${N.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in Ed){if(p[E]===void 0)continue;const{correct:_,applyTo:w}=Ed[E],y=d.transform==="none"?p[E]:_(p[E],m);if(w){const b=w.length;for(let S=0;S<b;S++)d[w[S]]=y}else d[E]=y}return this.options.layoutId&&(d.pointerEvents=m===this?Mu(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Tw),this.root.sharedNodes.clear()}}}function g3(t){t.updateLayout()}function v3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?Tn(m=>{const p=o?n.measuredBox[m]:n.layoutBox[m],g=_n(p);p.min=r[m].min,p.max=p.min+g}):PE(a,n.layoutBox,r)&&Tn(m=>{const p=o?n.measuredBox[m]:n.layoutBox[m],g=_n(r[m]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const l=ya();hl(l,r,n.layoutBox);const c=ya();o?hl(c,t.applyTransform(s,!0),n.measuredBox):hl(c,r,n.layoutBox);const d=!TE(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:g}=m;if(p&&g){const N=Je();ml(N,n.layoutBox,p.layoutBox);const E=Je();ml(E,r,g.layoutBox),IE(N,E)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=N,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function x3(t){si.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function y3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function b3(t){t.clearSnapshot()}function Tw(t){t.clearMeasurements()}function w3(t){t.isLayoutDirty=!1}function _3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Iw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function N3(t){t.resolveTargetDelta()}function j3(t){t.calcProjection()}function k3(t){t.resetRotation()}function E3(t){t.removeLeadSnapshot()}function Sw(t,e,n){t.translate=Ve(e.translate,0,n),t.scale=Ve(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Pw(t,e,n,r){t.min=Ve(e.min,n.min,r),t.max=Ve(e.max,n.max,r)}function T3(t,e,n,r){Pw(t.x,e.x,n.x,r),Pw(t.y,e.y,n.y,r)}function I3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S3={duration:.45,ease:[.4,0,.1,1]},Aw=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Cw=Aw("applewebkit/")&&!Aw("chrome/")?Math.round:Ge;function Rw(t){t.min=Cw(t.min),t.max=Cw(t.max)}function P3(t){Rw(t.x),Rw(t.y)}function PE(t,e,n){return t==="position"||t==="preserve-aspect"&&!Jp(Nw(e),Nw(n),.2)}const A3=SE({attachResizeListener:(t,e)=>Nr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wf={current:void 0},AE=SE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wf.current){const t=new A3({});t.mount(window),t.setOptions({layoutScroll:!0}),wf.current=t}return wf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C3={pan:{Feature:GO},drag:{Feature:KO,ProjectionNode:AE,MeasureLayout:jE}},R3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function D3(t){const e=R3.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ng(t,e,n=1){const[r,s]=D3(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return mE(o)?parseFloat(o):o}else return Wp(s)?ng(s,e,n+1):s}function V3(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const a=s.get();if(!Wp(a))return;const o=ng(a,r);o&&s.set(o)});for(const s in e){const a=e[s];if(!Wp(a))continue;const o=ng(a,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=a))}return{target:e,transitionEnd:n}}const O3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),CE=t=>O3.has(t),M3=t=>Object.keys(t).some(CE),Dw=t=>t===Bi||t===te,Vw=(t,e)=>parseFloat(t.split(", ")[e]),Ow=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Vw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?Vw(a[1],t):0}},L3=new Set(["x","y","z"]),F3=dc.filter(t=>!L3.has(t));function z3(t){const e=[];return F3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ha={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ow(4,13),y:Ow(5,14)};Ha.translateX=Ha.x;Ha.translateY=Ha.y;const U3=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=Ha[d](r,a)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=Ha[d](c,a)}),t},B3=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(CE);let a=[],o=!1;const l=[];if(s.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],m=Vo(h);const p=e[c];let g;if(Id(p)){const N=p.length,E=p[0]===null?1:0;h=p[E],m=Vo(h);for(let _=E;_<N&&p[_]!==null;_++)g?Sd(Vo(p[_])===g):g=Vo(p[_])}else g=Vo(p);if(m!==g)if(Dw(m)&&Dw(g)){const N=d.get();typeof N=="string"&&d.set(parseFloat(N)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&g===te&&(e[c]=p.map(parseFloat))}else m!=null&&m.transform&&(g!=null&&g.transform)&&(h===0||p===0)?h===0?d.set(g.transform(h)):e[c]=m.transform(p):(o||(a=z3(t),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=U3(e,t,l);return a.length&&a.forEach(([h,m])=>{t.getValue(h).set(m)}),t.render(),Th&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function $3(t,e,n,r){return M3(e)?B3(t,e,n,r):{target:e,transitionEnd:r}}const H3=(t,e,n,r)=>{const s=V3(t,e,r);return e=s.target,r=s.transitionEnd,$3(t,e,n,r)},rg={current:null},RE={current:!1};function W3(){if(RE.current=!0,!!Th)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rg.current=t.matches;t.addListener(e),e()}else rg.current=!1}function q3(t,e,n){const{willChange:r}=e;for(const s in e){const a=e[s],o=n[s];if(hn(a))t.addValue(s,a),Rd(r)&&r.add(s);else if(hn(o))t.addValue(s,$a(a,{owner:t})),Rd(r)&&r.remove(s);else if(o!==a)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(a)}else{const l=t.getStaticValue(s);t.addValue(s,$a(l!==void 0?l:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Mw=new WeakMap,DE=Object.keys(Hl),K3=DE.length,Lw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],G3=Fv.length;class Q3{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Sh(n),this.isVariantNode=xk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const m in h){const p=h[m];l[m]!==void 0&&hn(p)&&(p.set(l[m],!1),Rd(d)&&d.add(m))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Mw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RE.current||W3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Mw.delete(this.current),this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ui.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Te.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,a){let o,l;for(let c=0;c<K3;c++){const d=DE[c],{isEnabled:h,Feature:m,ProjectionNode:p,MeasureLayout:g}=Hl[d];p&&(o=p),h(n)&&(!this.features[d]&&m&&(this.features[d]=new m(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:m,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||m&&va(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Lw.length;r++){const s=Lw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=q3(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<G3;r++){const s=Fv[r],a=this.props[s];($l(a)||a===!1)&&(n[s]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$a(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Kv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class VE extends Q3{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},a){let o=hO(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),a){uO(this,r,o);const l=H3(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function X3(t){return window.getComputedStyle(t)}class Y3 extends VE{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ui.has(n)){const r=Yv(n);return r&&r.default||0}else{const r=X3(e),s=(_k(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _E(e,n)}build(e,n,r,s){Bv(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return qv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){Ik(e,n,r,s)}}class J3 extends VE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ui.has(n)){const r=Yv(n);return r&&r.default||0}return n=Sk.has(n)?n:Mv(n),e.getAttribute(n)}measureInstanceViewportBox(){return Je()}scrapeMotionValuesFromProps(e,n){return Ak(e,n)}build(e,n,r,s){Hv(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){Pk(e,n,r,s)}mount(e){this.isSVGTag=Wv(e.tagName),super.mount(e)}}const Z3=(t,e)=>Uv(t)?new J3(e,{enableHardwareAcceleration:!1}):new Y3(e,{enableHardwareAcceleration:!0}),eM={layout:{ProjectionNode:AE,MeasureLayout:jE}},tM={...TO,...GD,...C3,...eM},$=rD((t,e)=>VD(t,e,tM,Z3));function OE(){const t=k.useRef(!1);return Ov(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function nM(){const t=OE(),[e,n]=k.useState(0),r=k.useCallback(()=>{t.current&&n(e+1)},[e]);return[k.useCallback(()=>Te.postRender(r),[r]),e]}class rM extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sM({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=s.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),k.createElement(rM,{isPresent:e,childRef:r,sizeRef:s},k.cloneElement(t,{ref:r}))}const _f=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=Ck(iM),c=k.useId(),d=k.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),a?void 0:[n]);return k.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),k.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=k.createElement(sM,{isPresent:n},t)),k.createElement(Eh.Provider,{value:d},t)};function iM(){return new Map}function aM(t){return k.useEffect(()=>()=>t(),[])}const ii=t=>t.key||"";function oM(t,e){t.forEach(n=>{const r=ii(n);e.set(r,n)})}function lM(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Dt=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=k.useContext(zv).forceRender||nM()[0],c=OE(),d=lM(t);let h=d;const m=k.useRef(new Map).current,p=k.useRef(h),g=k.useRef(new Map).current,N=k.useRef(!0);if(Ov(()=>{N.current=!1,oM(d,g),p.current=h}),aM(()=>{N.current=!0,g.clear(),m.clear()}),N.current)return k.createElement(k.Fragment,null,h.map(y=>k.createElement(_f,{key:ii(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},y)));h=[...h];const E=p.current.map(ii),_=d.map(ii),w=E.length;for(let y=0;y<w;y++){const b=E[y];_.indexOf(b)===-1&&!m.has(b)&&m.set(b,void 0)}return o==="wait"&&m.size&&(h=[]),m.forEach((y,b)=>{if(_.indexOf(b)!==-1)return;const S=g.get(b);if(!S)return;const D=E.indexOf(b);let V=y;if(!V){const T=()=>{m.delete(b);const x=Array.from(g.keys()).filter(j=>!_.includes(j));if(x.forEach(j=>g.delete(j)),p.current=d.filter(j=>{const P=ii(j);return P===b||x.includes(P)}),!m.size){if(c.current===!1)return;l(),r&&r()}};V=k.createElement(_f,{key:ii(S),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:a,mode:o},S),m.set(b,V)}h.splice(D,0,V)}),h=h.map(y=>{const b=y.key;return m.has(b)?y:k.createElement(_f,{key:ii(y),isPresent:!0,presenceAffectsLayout:a,mode:o},y)}),k.createElement(k.Fragment,null,m.size?h:h.map(y=>k.cloneElement(y)))};var Fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,g=d&63;c||(g=64,o||(p=64)),r.push(n[h],n[m],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ME(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||d==null||m==null)throw new uM;const p=a<<2|l>>4;if(r.push(p),d!==64){const g=l<<4&240|d>>2;if(r.push(g),m!==64){const N=d<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dM=function(t){const e=ME(t);return LE.encodeByteArray(e,!0)},Vd=function(t){return dM(t).replace(/\./g,"")},FE=function(t){try{return LE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=()=>hM().__FIREBASE_DEFAULTS__,fM=()=>{if(typeof process>"u"||typeof Fw>"u")return;const t=Fw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FE(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return mM()||fM()||pM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UE=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BE=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},$E=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vd(JSON.stringify(n)),Vd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function xM(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wM(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _M(){return!xM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qE(){try{return typeof indexedDB=="object"}catch{return!1}}function KE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function NM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="FirebaseError";class On extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jM,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$i.prototype.create)}}class $i{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?kM(a,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new On(s,l,r)}}function kM(t,e){return t.replace(EM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const EM=/\{\$([^}]+)}/g;function TM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ql(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],o=e[s];if(zw(a)&&zw(o)){if(!ql(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function zw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IM(t,e){const n=new SM(t,e);return n.subscribe.bind(n)}class SM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Nf),s.error===void 0&&(s.error=Nf),s.complete===void 0&&(s.complete=Nf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=1e3,CM=2,RM=4*60*60*1e3,DM=.5;function Uw(t,e=AM,n=CM){const r=e*Math.pow(n,t),s=Math.round(DM*r*(Math.random()-.5)*2);return Math.min(RM,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t){return t&&t._delegate?t._delegate:t}class Dn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MM(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OM(t){return t===ai?void 0:t}function MM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const FM={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},zM=me.INFO,UM={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},BM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=UM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dh{constructor(e){this.name=e,this._logLevel=zM,this._logHandler=BM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const $M=(t,e)=>e.some(n=>t instanceof n);let Bw,$w;function HM(){return Bw||(Bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WM(){return $w||($w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,sg=new WeakMap,QE=new WeakMap,jf=new WeakMap,rx=new WeakMap;function qM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Es(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,t)}).catch(()=>{}),rx.set(e,t),e}function KM(t){if(sg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});sg.set(t,e)}let ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GM(t){ig=t(ig)}function QM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kf(this),e,...n);return QE.set(r,e.sort?e.sort():[e]),Es(r)}:WM().includes(t)?function(...e){return t.apply(kf(this),e),Es(GE.get(this))}:function(...e){return Es(t.apply(kf(this),e))}}function XM(t){return typeof t=="function"?QM(t):(t instanceof IDBTransaction&&KM(t),$M(t,HM())?new Proxy(t,ig):t)}function Es(t){if(t instanceof IDBRequest)return qM(t);if(jf.has(t))return jf.get(t);const e=XM(t);return e!==t&&(jf.set(t,e),rx.set(e,t)),e}const kf=t=>rx.get(t);function XE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),l=Es(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Es(o.result),c.oldVersion,c.newVersion,Es(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const YM=["get","getKey","getAll","getAllKeys","count"],JM=["put","add","delete","clear"],Ef=new Map;function Hw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YM.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Ef.set(e,a),a}GM(t=>({...t,get:(e,n,r)=>Hw(e,n)||t.get(e,n,r),has:(e,n)=>!!Hw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",Ww="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Dh("@firebase/app"),tL="@firebase/app-compat",nL="@firebase/analytics-compat",rL="@firebase/analytics",sL="@firebase/app-check-compat",iL="@firebase/app-check",aL="@firebase/auth",oL="@firebase/auth-compat",lL="@firebase/database",cL="@firebase/data-connect",uL="@firebase/database-compat",dL="@firebase/functions",hL="@firebase/functions-compat",mL="@firebase/installations",fL="@firebase/installations-compat",pL="@firebase/messaging",gL="@firebase/messaging-compat",vL="@firebase/performance",xL="@firebase/performance-compat",yL="@firebase/remote-config",bL="@firebase/remote-config-compat",wL="@firebase/storage",_L="@firebase/storage-compat",NL="@firebase/firestore",jL="@firebase/vertexai-preview",kL="@firebase/firestore-compat",EL="firebase",TL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",IL={[ag]:"fire-core",[tL]:"fire-core-compat",[rL]:"fire-analytics",[nL]:"fire-analytics-compat",[iL]:"fire-app-check",[sL]:"fire-app-check-compat",[aL]:"fire-auth",[oL]:"fire-auth-compat",[lL]:"fire-rtdb",[cL]:"fire-data-connect",[uL]:"fire-rtdb-compat",[dL]:"fire-fn",[hL]:"fire-fn-compat",[mL]:"fire-iid",[fL]:"fire-iid-compat",[pL]:"fire-fcm",[gL]:"fire-fcm-compat",[vL]:"fire-perf",[xL]:"fire-perf-compat",[yL]:"fire-rc",[bL]:"fire-rc-compat",[wL]:"fire-gcs",[_L]:"fire-gcs-compat",[NL]:"fire-fst",[kL]:"fire-fst-compat",[jL]:"fire-vertex","fire-js":"fire-js",[EL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,SL=new Map,lg=new Map;function qw(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(lg.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of Od.values())qw(n,t);for(const n of SL.values())qw(n,t);return!0}function Ws(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new $i("app","Firebase",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=TL;function YE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ts.create("bad-app-name",{appName:String(s)});if(n||(n=BE()),!n)throw Ts.create("no-options");const a=Od.get(s);if(a){if(ql(n,a.options)&&ql(r,a.config))return a;throw Ts.create("duplicate-app",{appName:s})}const o=new LM(s);for(const c of lg.values())o.addComponent(c);const l=new AL(n,r,o);return Od.set(s,l),l}function Vh(t=og){const e=Od.get(t);if(!e&&t===og&&BE())return YE();if(!e)throw Ts.create("no-app",{appName:t});return e}function un(t,e,n){var r;let s=(r=IL[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${e}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(l.join(" "));return}Kn(new Dn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="firebase-heartbeat-database",RL=1,Kl="firebase-heartbeat-store";let Tf=null;function JE(){return Tf||(Tf=XE(CL,RL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function DL(t){try{const n=(await JE()).transaction(Kl),r=await n.objectStore(Kl).get(ZE(t));return await n.done,r}catch(e){if(e instanceof On)Ur.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function Kw(t,e){try{const r=(await JE()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,ZE(t)),await r.done}catch(n){if(n instanceof On)Ur.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function ZE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1024,OL=30*24*60*60*1e3;class ML{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Gw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=OL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gw(),{heartbeatsToSend:r,unsentEntries:s}=LL(this._heartbeatsCache.heartbeats),a=Vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ur.warn(n),""}}}function Gw(){return new Date().toISOString().substring(0,10)}function LL(t,e=VL){const n=[];let r=t.slice();for(const s of t){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),Qw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qE()?KE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qw(t){return Vd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){Kn(new Dn("platform-logger",e=>new ZM(e),"PRIVATE")),Kn(new Dn("heartbeat",e=>new ML(e),"PRIVATE")),un(ag,Ww,t),un(ag,Ww,"esm2017"),un("fire-js","")}zL("");function sx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function e2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UL=e2,t2=new $i("auth","Firebase",e2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Dh("@firebase/auth");function BL(t,...e){Md.logLevel<=me.WARN&&Md.warn(`Auth (${Hi}): ${t}`,...e)}function Fu(t,...e){Md.logLevel<=me.ERROR&&Md.error(`Auth (${Hi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw ix(t,...e)}function or(t,...e){return ix(t,...e)}function n2(t,e,n){const r=Object.assign(Object.assign({},UL()),{[e]:n});return new $i("auth","Firebase",r).create(e,{appName:t.name})}function Pr(t){return n2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ix(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t2.create(t,...e)}function ne(t,e,...n){if(!t)throw ix(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fu(e),new Error(e)}function Br(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $L(){return Xw()==="http:"||Xw()==="https:"}function Xw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($L()||WE()||"connection"in navigator)?navigator.onLine:!0}function WL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=vM()||bM()}get(){return HL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new gc(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xn(t,e,n,r,s={}){return s2(t,s,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=pc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return yM()||(d.referrerPolicy="no-referrer"),r2.fetch()(i2(t,t.config.apiHost,n,l),d)})}async function s2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qL),e);try{const s=new QL(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw gu(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw gu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw n2(t,h,d);Gn(t,h)}}catch(s){if(s instanceof On)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function vc(t,e,n,r,s={}){const a=await Xn(t,e,n,r,s);return"mfaPendingCredential"in a&&Gn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function i2(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ax(t.config,s):`${t.config.apiScheme}://${s}`}function GL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),KL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=or(t,e,r);return s.customData._tokenResponse=n,s}function Yw(t){return t!==void 0&&t.enterprise!==void 0}class XL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function YL(t,e){return Xn(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return Xn(t,"POST","/v1/accounts:delete",e)}async function a2(t,e){return Xn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZL(t,e=!1){const n=je(t),r=await n.getIdToken(e),s=ox(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:fl(If(s.auth_time)),issuedAtTime:fl(If(s.iat)),expirationTime:fl(If(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function If(t){return Number(t)*1e3}function ox(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const s=FE(n);return s?JSON.parse(s):(Fu("Failed to decode base64 JWT payload"),null)}catch(s){return Fu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Jw(t){const e=ox(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof On&&e6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Si(t,a2(n,{idToken:r}));ne(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?o2(a.providerUserInfo):[],l=r6(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function n6(t){const e=je(t);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function o2(t){return t.map(e=>{var{providerId:n}=e,r=sx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(t,e){const n=await s2(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=i2(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",r2.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i6(t,e){return Xn(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=Jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await s6(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,o=new Ia;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(ne(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=sx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ug(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Si(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZL(this,e)}reload(){return n6(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await Si(this,JL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,o,l,c,d,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:S,isAnonymous:D,providerData:V,stsTokenManager:T}=n;ne(b&&T,e,"internal-error");const x=Ia.fromJSON(this.name,T);ne(typeof b=="string",e,"internal-error"),Jr(m,e.name),Jr(p,e.name),ne(typeof S=="boolean",e,"internal-error"),ne(typeof D=="boolean",e,"internal-error"),Jr(g,e.name),Jr(N,e.name),Jr(E,e.name),Jr(_,e.name),Jr(w,e.name),Jr(y,e.name);const j=new kr({uid:b,auth:e,email:p,emailVerified:S,displayName:m,isAnonymous:D,photoURL:N,phoneNumber:g,tenantId:E,stsTokenManager:x,createdAt:w,lastLoginAt:y});return V&&Array.isArray(V)&&(j.providerData=V.map(P=>Object.assign({},P))),_&&(j._redirectEventId=_),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ia;s.updateFromServerResponse(n);const a=new kr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ld(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?o2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new Ia;l.updateFromIdToken(r);const c=new kr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ug(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;function Er(t){Br(t instanceof Function,"Expected a class definition");let e=Zw.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l2.type="NONE";const e1=l2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t,e,n){return`firebase:${t}:${e}:${n}`}class Sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=zu(this.userKey,s.apiKey,a),this.fullPersistenceKey=zu("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sa(Er(e1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||Er(e1);const o=zu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){const m=kr._fromJSON(e,h);d!==a&&(l=m),a=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Sa(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Sa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f2(e))return"Blackberry";if(p2(e))return"Webos";if(u2(e))return"Safari";if((e.includes("chrome/")||d2(e))&&!e.includes("edge/"))return"Chrome";if(m2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function c2(t=Ot()){return/firefox\//i.test(t)}function u2(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d2(t=Ot()){return/crios\//i.test(t)}function h2(t=Ot()){return/iemobile/i.test(t)}function m2(t=Ot()){return/android/i.test(t)}function f2(t=Ot()){return/blackberry/i.test(t)}function p2(t=Ot()){return/webos/i.test(t)}function lx(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a6(t=Ot()){var e;return lx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o6(){return wM()&&document.documentMode===10}function g2(t=Ot()){return lx(t)||m2(t)||p2(t)||f2(t)||/windows phone/i.test(t)||h2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t,e=[]){let n;switch(t){case"Browser":n=t1(Ot());break;case"Worker":n=`${t1(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e={}){return Xn(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=6;class d6{constructor(e){var n,r,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:u6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n1(this),this.idTokenSubscription=new n1(this),this.beforeStateQueue=new l6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await a2(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Pr(this));const n=e?je(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c6(this),n=new d6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $i("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qs(t){return je(t)}class n1{constructor(e){this.auth=e,this.observer=null,this.addObserver=IM(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m6(t){Oh=t}function x2(t){return Oh.loadJS(t)}function f6(){return Oh.recaptchaEnterpriseScript}function p6(){return Oh.gapiScript}function g6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const v6="recaptcha-enterprise",x6="NO_RECAPTCHA";class y6{constructor(e){this.type=v6,this.auth=qs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{YL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new XL(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(a,o,l){const c=window.grecaptcha;Yw(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(x6)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&Yw(window.grecaptcha))s(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=f6();c.length!==0&&(c+=l),x2(c).then(()=>{s(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function r1(t,e,n,r=!1){const s=new y6(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Fd(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await r1(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await r1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e){const n=Ws(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ql(a,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function w6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _6(t,e,n){const r=qs(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=y2(e),{host:o,port:l}=N6(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),j6()}function y2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N6(t){const e=y2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:s1(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:s1(o)}}}function s1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function k6(t,e){return Xn(t,"POST","/v1/accounts:update",e)}async function E6(t,e){return Xn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){return vc(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}async function I6(t,e){return Xn(t,"POST","/v1/accounts:sendOobCode",Kr(t,e))}async function S6(t,e){return I6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function A6(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends cx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fd(e,n,"signInWithPassword",T6);case"emailLink":return P6(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fd(e,r,"signUpPassword",E6);case"emailLink":return A6(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e){return vc(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="http://localhost";class Pi extends cx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=sx(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Pi(r,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pa(e,n)}buildRequest(){const e={requestUri:C6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D6(t){const e=qo(Ko(t)).link,n=e?qo(Ko(e)).deep_link_id:null,r=qo(Ko(t)).deep_link_id;return(r?qo(Ko(r)).link:null)||r||n||e||t}class ux{constructor(e){var n,r,s,a,o,l;const c=qo(Ko(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=R6((s=c.mode)!==null&&s!==void 0?s:null);ne(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=D6(e);try{return new ux(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ux.parseLink(n);return ne(r,"argument-error"),Gl._fromEmailAndCode(e,r.code,r.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends b2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends xc{constructor(){super("facebook.com")}static credential(e){return Pi._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pi._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return os.credential(n,r)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends xc{constructor(){super("github.com")}static credential(e){return Pi._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends xc{constructor(){super("twitter.com")}static credential(e,n){return Pi._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return vc(t,"POST","/v1/accounts:signUp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await kr._fromIdTokenResponse(e,r,s),o=i1(r);return new Ai({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=i1(r);return new Ai({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function i1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends On{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new zd(e,n,r,s)}}function w2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(t,a,e,r):a})}async function O6(t,e,n=!1){const r=await Si(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ai._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e,n=!1){const{auth:r}=t;if(tr(r.app))return Promise.reject(Pr(r));const s="reauthenticate";try{const a=await Si(t,w2(r,s,e,t),n);ne(a.idToken,r,"internal-error");const o=ox(a.idToken);ne(o,r,"internal-error");const{sub:l}=o;return ne(t.uid===l,r,"user-mismatch"),Ai._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e,n=!1){if(tr(t.app))return Promise.reject(Pr(t));const r="signIn",s=await w2(t,r,e),a=await Ai._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function L6(t,e){return _2(qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t){const e=qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F6(t,e,n){const r=qs(t);await Fd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",S6)}async function z6(t,e,n){if(tr(t.app))return Promise.reject(Pr(t));const r=qs(t),o=await Fd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&N2(t),c}),l=await Ai._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function a1(t,e,n){return tr(t.app)?Promise.reject(Pr(t)):L6(je(t),ao.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&N2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return Xn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=je(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Si(r,U6(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function B6(t,e){return $6(je(t),null,e)}async function $6(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const o=await Si(t,k6(r,a));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e){return je(t).setPersistence(e)}function W6(t,e,n,r){return je(t).onIdTokenChanged(e,n,r)}function q6(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function K6(t){return je(t).signOut()}const Ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=1e3,Q6=10;class k2 extends j2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);o6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Q6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k2.type="LOCAL";const E2=k2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends j2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T2.type="SESSION";const I2=T2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await X6(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=dx("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function J6(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function Z6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t5(){return S2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="firebaseLocalStorageDb",n5=1,Bd="firebaseLocalStorage",A2="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(t,e){return t.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function r5(){const t=indexedDB.deleteDatabase(P2);return new yc(t).toPromise()}function dg(){const t=indexedDB.open(P2,n5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bd,{keyPath:A2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bd)?e(r):(r.close(),await r5(),e(await dg()))})})}async function l1(t,e,n){const r=Lh(t,!0).put({[A2]:e,value:n});return new yc(r).toPromise()}async function s5(t,e){const n=Lh(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function c1(t,e){const n=Lh(t,!0).delete(e);return new yc(n).toPromise()}const i5=800,a5=3;class C2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(t5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z6(),!this.activeServiceWorker)return;this.sender=new Y6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await l1(e,Ud,"1"),await c1(e,Ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Lh(s,!1).getAll();return new yc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C2.type="LOCAL";const o5=C2;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e){return e?Er(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends cx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c5(t){return _2(t.auth,new hx(t),t.bypassAuthState)}function u5(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),M6(n,new hx(t),t.bypassAuthState)}async function d5(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),O6(n,new hx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c5;case"linkViaPopup":case"linkViaRedirect":return d5;case"reauthViaPopup":case"reauthViaRedirect":return u5;default:Gn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new gc(2e3,1e4);class wa extends R2{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=dx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h5.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="pendingRedirect",Uu=new Map;class f5 extends R2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const r=await p5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p5(t,e){const n=x5(e),r=v5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function g5(t,e){Uu.set(t._key(),e)}function v5(t){return Er(t._redirectPersistence)}function x5(t){return zu(m5,t.config.apiKey,t.name)}async function y5(t,e,n=!1){if(tr(t.app))return Promise.reject(Pr(t));const r=qs(t),s=l5(r,e),o=await new f5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=10*60*1e3;class w5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(or(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b5&&this.cachedEventUids.clear(),this.cachedEventUids.has(u1(e))}saveEventToCache(e){this.cachedEventUids.add(u1(e)),this.lastProcessedEventTime=Date.now()}}function u1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e={}){return Xn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k5=/^https?/;async function E5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N5(t);for(const n of e)try{if(T5(n))return}catch{}Gn(t,"unauthorized-domain")}function T5(t){const e=cg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!k5.test(n))return!1;if(j5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new gc(3e4,6e4);function d1(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S5(t){return new Promise((e,n)=>{var r,s,a;function o(){d1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d1(),n(or(t,"network-request-failed"))},timeout:I5.get()})}if(!((s=(r=lr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=lr().gapi)===null||a===void 0)&&a.load)o();else{const l=g6("iframefcb");return lr()[l]=()=>{gapi.load?o():n(or(t,"network-request-failed"))},x2(`${p6()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Bu=null,e})}let Bu=null;function P5(t){return Bu=Bu||S5(t),Bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new gc(5e3,15e3),C5="__/auth/iframe",R5="emulator/auth/iframe",D5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O5(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ax(e,R5):`https://${t.config.authDomain}/${C5}`,r={apiKey:e.apiKey,appName:t.name,v:Hi},s=V5.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${pc(r).slice(1)}`}async function M5(t){const e=await P5(t),n=lr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:O5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D5,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const o=or(t,"network-request-failed"),l=lr().setTimeout(()=>{a(o)},A5.get());function c(){lr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F5=500,z5=600,U5="_blank",B5="http://localhost";class h1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $5(t,e,n,r=F5,s=z5){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},L5),{width:r.toString(),height:s.toString(),top:a,left:o}),d=Ot().toLowerCase();n&&(l=d2(d)?U5:n),c2(d)&&(e=e||B5,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,N])=>`${p}${g}=${N},`,"");if(a6(d)&&l!=="_self")return H5(e||"",l),new h1(null);const m=window.open(e||"",l,h);ne(m,t,"popup-blocked");try{m.focus()}catch{}return new h1(m)}function H5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="__/auth/handler",q5="emulator/auth/handler",K5=encodeURIComponent("fac");async function m1(t,e,n,r,s,a){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hi,eventId:s};if(e instanceof b2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof xc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${K5}=${encodeURIComponent(c)}`:"";return`${G5(t)}?${pc(l).slice(1)}${d}`}function G5({config:t}){return t.emulator?ax(t,q5):`https://${t.authDomain}/${W5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="webStorageSupport";class Q5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I2,this._completeRedirectFn=y5,this._overrideRedirectResult=g5}async _openPopup(e,n,r,s){var a;Br((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await m1(e,n,r,cg(),s);return $5(e,o,dx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await m1(e,n,r,cg(),s);return J6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Br(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await M5(e),r=new w5(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sf,{type:Sf},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Sf];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g2()||u2()||lx()}}const X5=Q5;var f1="@firebase/auth",p1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z5(t){Kn(new Dn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v2(t)},d=new h6(r,s,a,c);return w6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Dn("auth-internal",e=>{const n=qs(e.getProvider("auth").getImmediate());return(r=>new Y5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(f1,p1,J5(t)),un(f1,p1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=5*60,tF=$E("authIdTokenMaxAge")||eF;let g1=null;const nF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tF)return;const s=n==null?void 0:n.token;g1!==s&&(g1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rF(t=Vh()){const e=Ws(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b6(t,{popupRedirectResolver:X5,persistence:[o5,E2,I2]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=nF(a.toString());q6(n,o,()=>o(n.currentUser)),W6(n,l=>o(l))}}const s=zE("auth");return s&&_6(n,`http://${s}`),n}function sF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=or("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",sF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z5("Browser");var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,V2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,x){function j(){}j.prototype=x.prototype,T.D=x.prototype,T.prototype=new j,T.prototype.constructor=T,T.C=function(P,C,R){for(var A=Array(arguments.length-2),q=2;q<arguments.length;q++)A[q-2]=arguments[q];return x.prototype[C].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,x,j){j||(j=0);var P=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)P[C]=x.charCodeAt(j++)|x.charCodeAt(j++)<<8|x.charCodeAt(j++)<<16|x.charCodeAt(j++)<<24;else for(C=0;16>C;++C)P[C]=x[j++]|x[j++]<<8|x[j++]<<16|x[j++]<<24;x=T.g[0],j=T.g[1],C=T.g[2];var R=T.g[3],A=x+(R^j&(C^R))+P[0]+3614090360&4294967295;x=j+(A<<7&4294967295|A>>>25),A=R+(C^x&(j^C))+P[1]+3905402710&4294967295,R=x+(A<<12&4294967295|A>>>20),A=C+(j^R&(x^j))+P[2]+606105819&4294967295,C=R+(A<<17&4294967295|A>>>15),A=j+(x^C&(R^x))+P[3]+3250441966&4294967295,j=C+(A<<22&4294967295|A>>>10),A=x+(R^j&(C^R))+P[4]+4118548399&4294967295,x=j+(A<<7&4294967295|A>>>25),A=R+(C^x&(j^C))+P[5]+1200080426&4294967295,R=x+(A<<12&4294967295|A>>>20),A=C+(j^R&(x^j))+P[6]+2821735955&4294967295,C=R+(A<<17&4294967295|A>>>15),A=j+(x^C&(R^x))+P[7]+4249261313&4294967295,j=C+(A<<22&4294967295|A>>>10),A=x+(R^j&(C^R))+P[8]+1770035416&4294967295,x=j+(A<<7&4294967295|A>>>25),A=R+(C^x&(j^C))+P[9]+2336552879&4294967295,R=x+(A<<12&4294967295|A>>>20),A=C+(j^R&(x^j))+P[10]+4294925233&4294967295,C=R+(A<<17&4294967295|A>>>15),A=j+(x^C&(R^x))+P[11]+2304563134&4294967295,j=C+(A<<22&4294967295|A>>>10),A=x+(R^j&(C^R))+P[12]+1804603682&4294967295,x=j+(A<<7&4294967295|A>>>25),A=R+(C^x&(j^C))+P[13]+4254626195&4294967295,R=x+(A<<12&4294967295|A>>>20),A=C+(j^R&(x^j))+P[14]+2792965006&4294967295,C=R+(A<<17&4294967295|A>>>15),A=j+(x^C&(R^x))+P[15]+1236535329&4294967295,j=C+(A<<22&4294967295|A>>>10),A=x+(C^R&(j^C))+P[1]+4129170786&4294967295,x=j+(A<<5&4294967295|A>>>27),A=R+(j^C&(x^j))+P[6]+3225465664&4294967295,R=x+(A<<9&4294967295|A>>>23),A=C+(x^j&(R^x))+P[11]+643717713&4294967295,C=R+(A<<14&4294967295|A>>>18),A=j+(R^x&(C^R))+P[0]+3921069994&4294967295,j=C+(A<<20&4294967295|A>>>12),A=x+(C^R&(j^C))+P[5]+3593408605&4294967295,x=j+(A<<5&4294967295|A>>>27),A=R+(j^C&(x^j))+P[10]+38016083&4294967295,R=x+(A<<9&4294967295|A>>>23),A=C+(x^j&(R^x))+P[15]+3634488961&4294967295,C=R+(A<<14&4294967295|A>>>18),A=j+(R^x&(C^R))+P[4]+3889429448&4294967295,j=C+(A<<20&4294967295|A>>>12),A=x+(C^R&(j^C))+P[9]+568446438&4294967295,x=j+(A<<5&4294967295|A>>>27),A=R+(j^C&(x^j))+P[14]+3275163606&4294967295,R=x+(A<<9&4294967295|A>>>23),A=C+(x^j&(R^x))+P[3]+4107603335&4294967295,C=R+(A<<14&4294967295|A>>>18),A=j+(R^x&(C^R))+P[8]+1163531501&4294967295,j=C+(A<<20&4294967295|A>>>12),A=x+(C^R&(j^C))+P[13]+2850285829&4294967295,x=j+(A<<5&4294967295|A>>>27),A=R+(j^C&(x^j))+P[2]+4243563512&4294967295,R=x+(A<<9&4294967295|A>>>23),A=C+(x^j&(R^x))+P[7]+1735328473&4294967295,C=R+(A<<14&4294967295|A>>>18),A=j+(R^x&(C^R))+P[12]+2368359562&4294967295,j=C+(A<<20&4294967295|A>>>12),A=x+(j^C^R)+P[5]+4294588738&4294967295,x=j+(A<<4&4294967295|A>>>28),A=R+(x^j^C)+P[8]+2272392833&4294967295,R=x+(A<<11&4294967295|A>>>21),A=C+(R^x^j)+P[11]+1839030562&4294967295,C=R+(A<<16&4294967295|A>>>16),A=j+(C^R^x)+P[14]+4259657740&4294967295,j=C+(A<<23&4294967295|A>>>9),A=x+(j^C^R)+P[1]+2763975236&4294967295,x=j+(A<<4&4294967295|A>>>28),A=R+(x^j^C)+P[4]+1272893353&4294967295,R=x+(A<<11&4294967295|A>>>21),A=C+(R^x^j)+P[7]+4139469664&4294967295,C=R+(A<<16&4294967295|A>>>16),A=j+(C^R^x)+P[10]+3200236656&4294967295,j=C+(A<<23&4294967295|A>>>9),A=x+(j^C^R)+P[13]+681279174&4294967295,x=j+(A<<4&4294967295|A>>>28),A=R+(x^j^C)+P[0]+3936430074&4294967295,R=x+(A<<11&4294967295|A>>>21),A=C+(R^x^j)+P[3]+3572445317&4294967295,C=R+(A<<16&4294967295|A>>>16),A=j+(C^R^x)+P[6]+76029189&4294967295,j=C+(A<<23&4294967295|A>>>9),A=x+(j^C^R)+P[9]+3654602809&4294967295,x=j+(A<<4&4294967295|A>>>28),A=R+(x^j^C)+P[12]+3873151461&4294967295,R=x+(A<<11&4294967295|A>>>21),A=C+(R^x^j)+P[15]+530742520&4294967295,C=R+(A<<16&4294967295|A>>>16),A=j+(C^R^x)+P[2]+3299628645&4294967295,j=C+(A<<23&4294967295|A>>>9),A=x+(C^(j|~R))+P[0]+4096336452&4294967295,x=j+(A<<6&4294967295|A>>>26),A=R+(j^(x|~C))+P[7]+1126891415&4294967295,R=x+(A<<10&4294967295|A>>>22),A=C+(x^(R|~j))+P[14]+2878612391&4294967295,C=R+(A<<15&4294967295|A>>>17),A=j+(R^(C|~x))+P[5]+4237533241&4294967295,j=C+(A<<21&4294967295|A>>>11),A=x+(C^(j|~R))+P[12]+1700485571&4294967295,x=j+(A<<6&4294967295|A>>>26),A=R+(j^(x|~C))+P[3]+2399980690&4294967295,R=x+(A<<10&4294967295|A>>>22),A=C+(x^(R|~j))+P[10]+4293915773&4294967295,C=R+(A<<15&4294967295|A>>>17),A=j+(R^(C|~x))+P[1]+2240044497&4294967295,j=C+(A<<21&4294967295|A>>>11),A=x+(C^(j|~R))+P[8]+1873313359&4294967295,x=j+(A<<6&4294967295|A>>>26),A=R+(j^(x|~C))+P[15]+4264355552&4294967295,R=x+(A<<10&4294967295|A>>>22),A=C+(x^(R|~j))+P[6]+2734768916&4294967295,C=R+(A<<15&4294967295|A>>>17),A=j+(R^(C|~x))+P[13]+1309151649&4294967295,j=C+(A<<21&4294967295|A>>>11),A=x+(C^(j|~R))+P[4]+4149444226&4294967295,x=j+(A<<6&4294967295|A>>>26),A=R+(j^(x|~C))+P[11]+3174756917&4294967295,R=x+(A<<10&4294967295|A>>>22),A=C+(x^(R|~j))+P[2]+718787259&4294967295,C=R+(A<<15&4294967295|A>>>17),A=j+(R^(C|~x))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+x&4294967295,T.g[1]=T.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,x){x===void 0&&(x=T.length);for(var j=x-this.blockSize,P=this.B,C=this.h,R=0;R<x;){if(C==0)for(;R<=j;)s(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<x;)if(P[C++]=T.charCodeAt(R++),C==this.blockSize){s(this,P),C=0;break}}else for(;R<x;)if(P[C++]=T[R++],C==this.blockSize){s(this,P),C=0;break}}this.h=C,this.o+=x},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var x=1;x<T.length-8;++x)T[x]=0;var j=8*this.o;for(x=T.length-8;x<T.length;++x)T[x]=j&255,j/=256;for(this.u(T),T=Array(16),x=j=0;4>x;++x)for(var P=0;32>P;P+=8)T[j++]=this.g[x]>>>P&255;return T};function a(T,x){var j=l;return Object.prototype.hasOwnProperty.call(j,T)?j[T]:j[T]=x(T)}function o(T,x){this.h=x;for(var j=[],P=!0,C=T.length-1;0<=C;C--){var R=T[C]|0;P&&R==x||(j[C]=R,P=!1)}this.g=j}var l={};function c(T){return-128<=T&&128>T?a(T,function(x){return new o([x|0],0>x?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return _(d(-T));for(var x=[],j=1,P=0;T>=j;P++)x[P]=T/j|0,j*=4294967296;return new o(x,0)}function h(T,x){if(T.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(T.charAt(0)=="-")return _(h(T.substring(1),x));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=d(Math.pow(x,8)),P=m,C=0;C<T.length;C+=8){var R=Math.min(8,T.length-C),A=parseInt(T.substring(C,C+R),x);8>R?(R=d(Math.pow(x,R)),P=P.j(R).add(d(A))):(P=P.j(j),P=P.add(d(A)))}return P}var m=c(0),p=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-_(this).m();for(var T=0,x=1,j=0;j<this.g.length;j++){var P=this.i(j);T+=(0<=P?P:4294967296+P)*x,x*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(E(this))return"-"+_(this).toString(T);for(var x=d(Math.pow(T,6)),j=this,P="";;){var C=S(j,x).g;j=w(j,C.j(x));var R=((0<j.g.length?j.g[0]:j.h)>>>0).toString(T);if(j=C,N(j))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(var x=0;x<T.g.length;x++)if(T.g[x]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=w(this,T),E(T)?-1:N(T)?0:1};function _(T){for(var x=T.g.length,j=[],P=0;P<x;P++)j[P]=~T.g[P];return new o(j,~T.h).add(p)}t.abs=function(){return E(this)?_(this):this},t.add=function(T){for(var x=Math.max(this.g.length,T.g.length),j=[],P=0,C=0;C<=x;C++){var R=P+(this.i(C)&65535)+(T.i(C)&65535),A=(R>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);P=A>>>16,R&=65535,A&=65535,j[C]=A<<16|R}return new o(j,j[j.length-1]&-2147483648?-1:0)};function w(T,x){return T.add(_(x))}t.j=function(T){if(N(this)||N(T))return m;if(E(this))return E(T)?_(this).j(_(T)):_(_(this).j(T));if(E(T))return _(this.j(_(T)));if(0>this.l(g)&&0>T.l(g))return d(this.m()*T.m());for(var x=this.g.length+T.g.length,j=[],P=0;P<2*x;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(var C=0;C<T.g.length;C++){var R=this.i(P)>>>16,A=this.i(P)&65535,q=T.i(C)>>>16,le=T.i(C)&65535;j[2*P+2*C]+=A*le,y(j,2*P+2*C),j[2*P+2*C+1]+=R*le,y(j,2*P+2*C+1),j[2*P+2*C+1]+=A*q,y(j,2*P+2*C+1),j[2*P+2*C+2]+=R*q,y(j,2*P+2*C+2)}for(P=0;P<x;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=x;P<2*x;P++)j[P]=0;return new o(j,0)};function y(T,x){for(;(T[x]&65535)!=T[x];)T[x+1]+=T[x]>>>16,T[x]&=65535,x++}function b(T,x){this.g=T,this.h=x}function S(T,x){if(N(x))throw Error("division by zero");if(N(T))return new b(m,m);if(E(T))return x=S(_(T),x),new b(_(x.g),_(x.h));if(E(x))return x=S(T,_(x)),new b(_(x.g),x.h);if(30<T.g.length){if(E(T)||E(x))throw Error("slowDivide_ only works with positive integers.");for(var j=p,P=x;0>=P.l(T);)j=D(j),P=D(P);var C=V(j,1),R=V(P,1);for(P=V(P,2),j=V(j,2);!N(P);){var A=R.add(P);0>=A.l(T)&&(C=C.add(j),R=A),P=V(P,1),j=V(j,1)}return x=w(T,C.j(x)),new b(C,x)}for(C=m;0<=T.l(x);){for(j=Math.max(1,Math.floor(T.m()/x.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=d(j),A=R.j(x);E(A)||0<A.l(T);)j-=P,R=d(j),A=R.j(x);N(R)&&(R=p),C=C.add(R),T=w(T,A)}return new b(C,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var x=Math.max(this.g.length,T.g.length),j=[],P=0;P<x;P++)j[P]=this.i(P)&T.i(P);return new o(j,this.h&T.h)},t.or=function(T){for(var x=Math.max(this.g.length,T.g.length),j=[],P=0;P<x;P++)j[P]=this.i(P)|T.i(P);return new o(j,this.h|T.h)},t.xor=function(T){for(var x=Math.max(this.g.length,T.g.length),j=[],P=0;P<x;P++)j[P]=this.i(P)^T.i(P);return new o(j,this.h^T.h)};function D(T){for(var x=T.g.length+1,j=[],P=0;P<x;P++)j[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(j,T.h)}function V(T,x){var j=x>>5;x%=32;for(var P=T.g.length-j,C=[],R=0;R<P;R++)C[R]=0<x?T.i(R+j)>>>x|T.i(R+j+1)<<32-x:T.i(R+j);return new o(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,V2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,yi=o}).apply(typeof v1<"u"?v1:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O2,Go,M2,$u,hg,L2,F2,z2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,v){return u==Array.prototype||u==Object.prototype||(u[f]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,f){if(f)e:{var v=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var O=u[I];if(!(O in v))break e;v=v[O]}u=u[u.length-1],I=v[u],f=f(I),f!=I&&f!=null&&e(v,u,{configurable:!0,writable:!0,value:f})}}function a(u,f){u instanceof String&&(u+="");var v=0,I=!1,O={next:function(){if(!I&&v<u.length){var M=v++;return{value:f(M,u[M]),done:!1}}return I=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(u){return u||function(){return a(this,function(f,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function d(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,v){return u.call.apply(u.bind,arguments)}function m(u,f,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,I),u.apply(f,O)}}return function(){return u.apply(f,arguments)}}function p(u,f,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function g(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function N(u,f){function v(){}v.prototype=f.prototype,u.aa=f.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,O,M){for(var W=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)W[ke-2]=arguments[ke];return f.prototype[O].apply(I,W)}}function E(u){const f=u.length;if(0<f){const v=Array(f);for(let I=0;I<f;I++)v[I]=u[I];return v}return[]}function _(u,f){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(c(I)){const O=u.length||0,M=I.length||0;u.length=O+M;for(let W=0;W<M;W++)u[O+W]=I[W]}else u.push(I)}}class w{constructor(f,v){this.i=f,this.j=v,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function S(u){return S[" "](u),u}S[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function V(u,f,v){for(const I in u)f.call(v,u[I],I,u)}function T(u,f){for(const v in u)f.call(void 0,u[v],v,u)}function x(u){const f={};for(const v in u)f[v]=u[v];return f}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,f){let v,I;for(let O=1;O<arguments.length;O++){I=arguments[O];for(v in I)u[v]=I[v];for(let M=0;M<j.length;M++)v=j[M],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function C(u){var f=1;u=u.split(":");const v=[];for(;0<f&&u.length;)v.push(u.shift()),f--;return u.length&&v.push(u.join(":")),v}function R(u){l.setTimeout(()=>{throw u},0)}function A(){var u=Z;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class q{constructor(){this.h=this.g=null}add(f,v){const I=le.get();I.set(f,v),this.h?this.h.next=I:this.g=I,this.h=I}}var le=new w(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(f,v){this.h=f,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,H=!1,Z=new q,K=()=>{const u=l.Promise.resolve(void 0);pe=()=>{u.then(Y)}};var Y=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){R(v)}var f=le;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}H=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Jt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};l.addEventListener("test",v,f),l.removeEventListener("test",v,f)}catch{}return u}();function Mt(u,f){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(D){e:{try{S(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else v=="mouseover"?f=u.fromElement:v=="mouseout"&&(f=u.toElement);this.relatedTarget=f,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ut[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Mt.aa.h.call(this)}}N(Mt,we);var ut={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),Ki=0;function mo(u,f,v,I,O){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!I,this.ha=O,this.key=++Ki,this.da=this.fa=!1}function pr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kn(u){this.src=u,this.g={},this.h=0}kn.prototype.add=function(u,f,v,I,O){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var W=mm(u,f,I,O);return-1<W?(f=u[W],v||(f.fa=!1)):(f=new mo(f,this.src,M,!!I,O),f.fa=v,u.push(f)),f};function Ac(u,f){var v=f.type;if(v in u.g){var I=u.g[v],O=Array.prototype.indexOf.call(I,f,void 0),M;(M=0<=O)&&Array.prototype.splice.call(I,O,1),M&&(pr(f),u.g[v].length==0&&(delete u.g[v],u.h--))}}function mm(u,f,v,I){for(var O=0;O<u.length;++O){var M=u[O];if(!M.da&&M.listener==f&&M.capture==!!v&&M.ha==I)return O}return-1}var fm="closure_lm_"+(1e6*Math.random()|0),pm={};function p0(u,f,v,I,O){if(Array.isArray(f)){for(var M=0;M<f.length;M++)p0(u,f[M],v,I,O);return null}return v=x0(v),u&&u[Zt]?u.K(f,v,d(I)?!!I.capture:!!I,O):TS(u,f,v,!1,I,O)}function TS(u,f,v,I,O,M){if(!f)throw Error("Invalid event type");var W=d(O)?!!O.capture:!!O,ke=vm(u);if(ke||(u[fm]=ke=new kn(u)),v=ke.add(f,v,I,W,M),v.proxy)return v;if(I=IS(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)Jt||(O=W),O===void 0&&(O=!1),u.addEventListener(f.toString(),I,O);else if(u.attachEvent)u.attachEvent(v0(f.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function IS(){function u(v){return f.call(u.src,u.listener,v)}const f=SS;return u}function g0(u,f,v,I,O){if(Array.isArray(f))for(var M=0;M<f.length;M++)g0(u,f[M],v,I,O);else I=d(I)?!!I.capture:!!I,v=x0(v),u&&u[Zt]?(u=u.i,f=String(f).toString(),f in u.g&&(M=u.g[f],v=mm(M,v,I,O),-1<v&&(pr(M[v]),Array.prototype.splice.call(M,v,1),M.length==0&&(delete u.g[f],u.h--)))):u&&(u=vm(u))&&(f=u.g[f.toString()],u=-1,f&&(u=mm(f,v,I,O)),(v=-1<u?f[u]:null)&&gm(v))}function gm(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Zt])Ac(f.i,u);else{var v=u.type,I=u.proxy;f.removeEventListener?f.removeEventListener(v,I,u.capture):f.detachEvent?f.detachEvent(v0(v),I):f.addListener&&f.removeListener&&f.removeListener(I),(v=vm(f))?(Ac(v,u),v.h==0&&(v.src=null,f[fm]=null)):pr(u)}}}function v0(u){return u in pm?pm[u]:pm[u]="on"+u}function SS(u,f){if(u.da)u=!0;else{f=new Mt(f,this);var v=u.listener,I=u.ha||u.src;u.fa&&gm(u),u=v.call(I,f)}return u}function vm(u){return u=u[fm],u instanceof kn?u:null}var xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function x0(u){return typeof u=="function"?u:(u[xm]||(u[xm]=function(f){return u.handleEvent(f)}),u[xm])}function Nt(){ue.call(this),this.i=new kn(this),this.M=this,this.F=null}N(Nt,ue),Nt.prototype[Zt]=!0,Nt.prototype.removeEventListener=function(u,f,v,I){g0(this,u,f,v,I)};function Lt(u,f){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=f.type||f,typeof f=="string")f=new we(f,u);else if(f instanceof we)f.target=f.target||u;else{var O=f;f=new we(I,u),P(f,O)}if(O=!0,v)for(var M=v.length-1;0<=M;M--){var W=f.g=v[M];O=Cc(W,I,!0,f)&&O}if(W=f.g=u,O=Cc(W,I,!0,f)&&O,O=Cc(W,I,!1,f)&&O,v)for(M=0;M<v.length;M++)W=f.g=v[M],O=Cc(W,I,!1,f)&&O}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var v=u.g[f],I=0;I<v.length;I++)pr(v[I]);delete u.g[f],u.h--}}this.F=null},Nt.prototype.K=function(u,f,v,I){return this.i.add(String(u),f,!1,v,I)},Nt.prototype.L=function(u,f,v,I){return this.i.add(String(u),f,!0,v,I)};function Cc(u,f,v,I){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,M=0;M<f.length;++M){var W=f[M];if(W&&!W.da&&W.capture==v){var ke=W.listener,dt=W.ha||W.src;W.fa&&Ac(u.i,W),O=ke.call(dt,I)!==!1&&O}}return O&&!I.defaultPrevented}function y0(u,f,v){if(typeof u=="function")v&&(u=p(u,v));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(u,f||0)}function b0(u){u.g=y0(()=>{u.g=null,u.i&&(u.i=!1,b0(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class PS extends ue{constructor(f,v){super(),this.m=f,this.l=v,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:b0(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(u){ue.call(this),this.h=u,this.g={}}N(fo,ue);var w0=[];function _0(u){V(u.g,function(f,v){this.g.hasOwnProperty(v)&&gm(f)},u),u.g={}}fo.prototype.N=function(){fo.aa.N.call(this),_0(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ym=l.JSON.stringify,AS=l.JSON.parse,CS=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function bm(){}bm.prototype.h=null;function N0(u){return u.h||(u.h=u.i())}function j0(){}var po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wm(){we.call(this,"d")}N(wm,we);function _m(){we.call(this,"c")}N(_m,we);var Xs={},k0=null;function Rc(){return k0=k0||new Nt}Xs.La="serverreachability";function E0(u){we.call(this,Xs.La,u)}N(E0,we);function go(u){const f=Rc();Lt(f,new E0(f))}Xs.STAT_EVENT="statevent";function T0(u,f){we.call(this,Xs.STAT_EVENT,u),this.stat=f}N(T0,we);function Ft(u){const f=Rc();Lt(f,new T0(f,u))}Xs.Ma="timingevent";function I0(u,f){we.call(this,Xs.Ma,u),this.size=f}N(I0,we);function vo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},f)}function xo(){this.g=!0}xo.prototype.xa=function(){this.g=!1};function RS(u,f,v,I,O,M){u.info(function(){if(u.g)if(M)for(var W="",ke=M.split("&"),dt=0;dt<ke.length;dt++){var ve=ke[dt].split("=");if(1<ve.length){var jt=ve[0];ve=ve[1];var kt=jt.split("_");W=2<=kt.length&&kt[1]=="type"?W+(jt+"="+ve+"&"):W+(jt+"=redacted&")}}else W=null;else W=M;return"XMLHTTP REQ ("+I+") [attempt "+O+"]: "+f+`
`+v+`
`+W})}function DS(u,f,v,I,O,M,W){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+O+"]: "+f+`
`+v+`
`+M+" "+W})}function Gi(u,f,v,I){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+OS(u,v)+(I?" "+I:"")})}function VS(u,f){u.info(function(){return"TIMEOUT: "+f})}xo.prototype.info=function(){};function OS(u,f){if(!u.g)return f;if(!f)return null;try{var v=JSON.parse(f);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var O=I[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return ym(v)}catch{return f}}var Dc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},S0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nm;function Vc(){}N(Vc,bm),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},Nm=new Vc;function Gr(u,f,v,I){this.j=u,this.i=f,this.l=v,this.R=I||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new P0}function P0(){this.i=null,this.g="",this.h=!1}var A0={},jm={};function km(u,f,v){u.L=1,u.v=Fc(gr(f)),u.m=v,u.P=!0,C0(u,null)}function C0(u,f){u.F=Date.now(),Oc(u),u.A=gr(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),q0(v.i,"t",I),u.C=0,v=u.j.J,u.h=new P0,u.g=uy(u.j,v?f:null,!u.m),0<u.O&&(u.M=new PS(p(u.Y,u,u.g),u.O)),f=u.U,v=u.g,I=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(w0[0]=O.toString()),O=w0);for(var M=0;M<O.length;M++){var W=p0(v,O[M],I||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),go(),RS(u.i,u.u,u.A,u.l,u.R,u.m)}Gr.prototype.ca=function(u){u=u.target;const f=this.M;f&&vr(u)==3?f.j():this.Y(u)},Gr.prototype.Y=function(u){try{if(u==this.g)e:{const kt=vr(this.g);var f=this.g.Ba();const Yi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Z0(this.g)))){this.J||kt!=4||f==7||(f==8||0>=Yi?go(3):go(2)),Em(this);var v=this.g.Z();this.X=v;t:if(R0(this)){var I=Z0(this.g);u="";var O=I.length,M=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),yo(this);var W="";break t}this.h.i=new l.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,u+=this.h.i.decode(I[f],{stream:!(M&&f==O-1)});I.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=v==200,DS(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,dt=this.g;if((ke=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ke)){var ve=ke;break t}}ve=null}if(v=ve)Gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tm(this,v);else{this.o=!1,this.s=3,Ft(12),Ys(this),yo(this);break e}}if(this.P){v=!0;let Mn;for(;!this.J&&this.C<W.length;)if(Mn=MS(this,W),Mn==jm){kt==4&&(this.s=4,Ft(14),v=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==A0){this.s=4,Ft(15),Gi(this.i,this.l,W,"[Invalid Chunk]"),v=!1;break}else Gi(this.i,this.l,Mn,null),Tm(this,Mn);if(R0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||W.length!=0||this.h.h||(this.s=1,Ft(16),v=!1),this.o=this.o&&v,!v)Gi(this.i,this.l,W,"[Invalid Chunked Response]"),Ys(this),yo(this);else if(0<W.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Rm(jt),jt.M=!0,Ft(11))}}else Gi(this.i,this.l,W,null),Tm(this,W);kt==4&&Ys(this),this.o&&!this.J&&(kt==4?ay(this.j,this):(this.o=!1,Oc(this)))}else eP(this.g),v==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),Ys(this),yo(this)}}}catch{}finally{}};function R0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function MS(u,f){var v=u.C,I=f.indexOf(`
`,v);return I==-1?jm:(v=Number(f.substring(v,I)),isNaN(v)?A0:(I+=1,I+v>f.length?jm:(f=f.slice(I,I+v),u.C=I+v,f)))}Gr.prototype.cancel=function(){this.J=!0,Ys(this)};function Oc(u){u.S=Date.now()+u.I,D0(u,u.I)}function D0(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=vo(p(u.ba,u),f)}function Em(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Gr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(VS(this.i,this.A),this.L!=2&&(go(),Ft(17)),Ys(this),this.s=2,yo(this)):D0(this,this.S-u)};function yo(u){u.j.G==0||u.J||ay(u.j,u)}function Ys(u){Em(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,_0(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Tm(u,f){try{var v=u.j;if(v.G!=0&&(v.g==u||Im(v.h,u))){if(!u.K&&Im(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(f)}catch{I=null}if(Array.isArray(I)&&I.length==3){var O=I;if(O[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Wc(v),$c(v);else break e;Cm(v),Ft(18)}}else v.za=O[1],0<v.za-v.T&&37500>O[2]&&v.F&&v.v==0&&!v.C&&(v.C=vo(p(v.Za,v),6e3));if(1>=M0(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Zs(v,11)}else if((u.K||v.g==u)&&Wc(v),!y(f))for(O=v.Da.g.parse(f),f=0;f<O.length;f++){let ve=O[f];if(v.T=ve[0],ve=ve[1],v.G==2)if(ve[0]=="c"){v.K=ve[1],v.ia=ve[2];const jt=ve[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const kt=ve[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const Yi=ve[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(I=1.5*Yi,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Mn=u.g;if(Mn){const Kc=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var M=I.h;M.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Sm(M,M.h),M.h=null))}if(I.D){const Dm=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dm&&(I.ya=Dm,Ie(I.I,I.D,Dm))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var W=u;if(I.qa=cy(I,I.J?I.ia:null,I.W),W.K){L0(I.h,W);var ke=W,dt=I.L;dt&&(ke.I=dt),ke.B&&(Em(ke),Oc(ke)),I.g=W}else sy(I);0<v.i.length&&Hc(v)}else ve[0]!="stop"&&ve[0]!="close"||Zs(v,7);else v.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Zs(v,7):Am(v):ve[0]!="noop"&&v.l&&v.l.ta(ve),v.v=0)}}go(4)}catch{}}var LS=class{constructor(u,f){this.g=u,this.map=f}};function V0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function O0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function M0(u){return u.h?1:u.g?u.g.size:0}function Im(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Sm(u,f){u.g?u.g.add(f):u.h=f}function L0(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}V0.prototype.cancel=function(){if(this.i=F0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function F0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const v of u.g.values())f=f.concat(v.D);return f}return E(u.i)}function FS(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],v=u.length,I=0;I<v;I++)f.push(u[I]);return f}f=[],v=0;for(I in u)f[v++]=u[I];return f}function zS(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}f=[],v=0;for(const I in u)f[v++]=I;return f}}}function z0(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var v=zS(u),I=FS(u),O=I.length,M=0;M<O;M++)f.call(void 0,I[M],v&&v[M],u)}var U0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function US(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),O=null;if(0<=I){var M=u[v].substring(0,I);O=u[v].substring(I+1)}else M=u[v];f(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Js(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Js){this.h=u.h,Mc(this,u.j),this.o=u.o,this.g=u.g,Lc(this,u.s),this.l=u.l;var f=u.i,v=new _o;v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),B0(this,v),this.m=u.m}else u&&(f=String(u).match(U0))?(this.h=!1,Mc(this,f[1]||"",!0),this.o=bo(f[2]||""),this.g=bo(f[3]||"",!0),Lc(this,f[4]),this.l=bo(f[5]||"",!0),B0(this,f[6]||"",!0),this.m=bo(f[7]||"")):(this.h=!1,this.i=new _o(null,this.h))}Js.prototype.toString=function(){var u=[],f=this.j;f&&u.push(wo(f,$0,!0),":");var v=this.g;return(v||f=="file")&&(u.push("//"),(f=this.o)&&u.push(wo(f,$0,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wo(v,v.charAt(0)=="/"?HS:$S,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wo(v,qS)),u.join("")};function gr(u){return new Js(u)}function Mc(u,f,v){u.j=v?bo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Lc(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function B0(u,f,v){f instanceof _o?(u.i=f,KS(u.i,u.h)):(v||(f=wo(f,WS)),u.i=new _o(f,u.h))}function Ie(u,f,v){u.i.set(f,v)}function Fc(u){return Ie(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wo(u,f,v){return typeof u=="string"?(u=encodeURI(u).replace(f,BS),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function BS(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $0=/[#\/\?@]/g,$S=/[#\?:]/g,HS=/[#\?]/g,WS=/[#\?@]/g,qS=/#/g;function _o(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Qr(u){u.g||(u.g=new Map,u.h=0,u.i&&US(u.i,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}t=_o.prototype,t.add=function(u,f){Qr(this),this.i=null,u=Qi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(f),this.h+=1,this};function H0(u,f){Qr(u),f=Qi(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function W0(u,f){return Qr(u),f=Qi(u,f),u.g.has(f)}t.forEach=function(u,f){Qr(this),this.g.forEach(function(v,I){v.forEach(function(O){u.call(f,O,I,this)},this)},this)},t.na=function(){Qr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),v=[];for(let I=0;I<f.length;I++){const O=u[I];for(let M=0;M<O.length;M++)v.push(f[I])}return v},t.V=function(u){Qr(this);let f=[];if(typeof u=="string")W0(this,u)&&(f=f.concat(this.g.get(Qi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)f=f.concat(u[v])}return f},t.set=function(u,f){return Qr(this),this.i=null,u=Qi(this,u),W0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function q0(u,f,v){H0(u,f),0<v.length&&(u.i=null,u.g.set(Qi(u,f),E(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var v=0;v<f.length;v++){var I=f[v];const M=encodeURIComponent(String(I)),W=this.V(I);for(I=0;I<W.length;I++){var O=M;W[I]!==""&&(O+="="+encodeURIComponent(String(W[I]))),u.push(O)}}return this.i=u.join("&")};function Qi(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function KS(u,f){f&&!u.j&&(Qr(u),u.i=null,u.g.forEach(function(v,I){var O=I.toLowerCase();I!=O&&(H0(this,I),q0(this,O,v))},u)),u.j=f}function GS(u,f){const v=new xo;if(l.Image){const I=new Image;I.onload=g(Xr,v,"TestLoadImage: loaded",!0,f,I),I.onerror=g(Xr,v,"TestLoadImage: error",!1,f,I),I.onabort=g(Xr,v,"TestLoadImage: abort",!1,f,I),I.ontimeout=g(Xr,v,"TestLoadImage: timeout",!1,f,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else f(!1)}function QS(u,f){const v=new xo,I=new AbortController,O=setTimeout(()=>{I.abort(),Xr(v,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:I.signal}).then(M=>{clearTimeout(O),M.ok?Xr(v,"TestPingServer: ok",!0,f):Xr(v,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),Xr(v,"TestPingServer: error",!1,f)})}function Xr(u,f,v,I,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),I(v)}catch{}}function XS(){this.g=new CS}function YS(u,f,v){const I=v||"";try{z0(u,function(O,M){let W=O;d(O)&&(W=ym(O)),f.push(I+M+"="+encodeURIComponent(W))})}catch(O){throw f.push(I+"type="+encodeURIComponent("_badmap")),O}}function zc(u){this.l=u.Ub||null,this.j=u.eb||!1}N(zc,bm),zc.prototype.g=function(){return new Uc(this.l,this.j)},zc.prototype.i=function(u){return function(){return u}}({});function Uc(u,f){Nt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Uc,Nt),t=Uc.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,jo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;K0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function K0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?No(this):jo(this),this.readyState==3&&K0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,No(this))},t.Qa=function(u){this.g&&(this.response=u,No(this))},t.ga=function(){this.g&&No(this)};function No(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jo(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var v=f.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=f.next();return u.join(`\r
`)};function jo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function G0(u){let f="";return V(u,function(v,I){f+=I,f+=":",f+=v,f+=`\r
`}),f}function Pm(u,f,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=G0(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ie(u,f,v))}function ze(u){Nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(ze,Nt);var JS=/^https?$/i,ZS=["POST","PUT"];t=ze.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nm.g(),this.v=this.o?N0(this.o):N0(Nm),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(M){Q0(this,M);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var O in I)v.set(O,I[O]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const M of I.keys())v.set(M,I.get(M));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(M=>M.toLowerCase()=="content-type"),O=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ZS,f,void 0))||I||O||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,W]of v)this.g.setRequestHeader(M,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{J0(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){Q0(this,M)}};function Q0(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,X0(u),Bc(u)}function X0(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Lt(this,"complete"),Lt(this,"abort"),Bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bc(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Y0(this):this.bb())},t.bb=function(){Y0(this)};function Y0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||vr(u)!=4||u.Z()!=2)){if(u.u&&vr(u)==4)y0(u.Ea,0,u);else if(Lt(u,"readystatechange"),vr(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var v;if(!(v=f)){var I;if(I=W===0){var O=String(u.D).match(U0)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),I=!JS.test(O?O.toLowerCase():"")}v=I}if(v)Lt(u,"complete"),Lt(u,"success");else{u.m=6;try{var M=2<vr(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",X0(u)}}finally{Bc(u)}}}}function Bc(u,f){if(u.g){J0(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Lt(u,"ready");try{v.onreadystatechange=I}catch{}}}function J0(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function vr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),AS(f)}};function Z0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function eP(u){const f={};u=(u.g&&2<=vr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(y(u[I]))continue;var v=C(u[I]);const O=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const M=f[O]||[];f[O]=M,M.push(v)}T(f,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(u,f,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||f}function ey(u){this.Aa=0,this.i=[],this.j=new xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ko("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ko("baseRetryDelayMs",5e3,u),this.cb=ko("retryDelaySeedMs",1e4,u),this.Wa=ko("forwardChannelMaxRetries",2,u),this.wa=ko("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new V0(u&&u.concurrentRequestLimit),this.Da=new XS,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ey.prototype,t.la=8,t.G=1,t.connect=function(u,f,v,I){Ft(0),this.W=u,this.H=f||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=cy(this,null,this.W),Hc(this)};function Am(u){if(ty(u),u.G==3){var f=u.U++,v=gr(u.I);if(Ie(v,"SID",u.K),Ie(v,"RID",f),Ie(v,"TYPE","terminate"),Eo(u,v),f=new Gr(u,u.j,f),f.L=2,f.v=Fc(gr(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=f.v,v=!0),v||(f.g=uy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Oc(f)}ly(u)}function $c(u){u.g&&(Rm(u),u.g.cancel(),u.g=null)}function ty(u){$c(u),u.u&&(l.clearTimeout(u.u),u.u=null),Wc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Hc(u){if(!O0(u.h)&&!u.s){u.s=!0;var f=u.Ga;pe||K(),H||(pe(),H=!0),Z.add(f,u),u.B=0}}function tP(u,f){return M0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=vo(p(u.Ga,u,f),oy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Gr(this,this.j,u);let M=this.o;if(this.S&&(M?(M=x(M),P(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var f=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(f+=I,4096<f){f=v;break e}if(f===4096||v===this.i.length-1){f=v+1;break e}}f=1e3}else f=1e3;f=ry(this,O,f),v=gr(this.I),Ie(v,"RID",u),Ie(v,"CVER",22),this.D&&Ie(v,"X-HTTP-Session-Id",this.D),Eo(this,v),M&&(this.O?f="headers="+encodeURIComponent(String(G0(M)))+"&"+f:this.m&&Pm(v,this.m,M)),Sm(this.h,O),this.Ua&&Ie(v,"TYPE","init"),this.P?(Ie(v,"$req",f),Ie(v,"SID","null"),O.T=!0,km(O,v,null)):km(O,v,f),this.G=2}}else this.G==3&&(u?ny(this,u):this.i.length==0||O0(this.h)||ny(this))};function ny(u,f){var v;f?v=f.l:v=u.U++;const I=gr(u.I);Ie(I,"SID",u.K),Ie(I,"RID",v),Ie(I,"AID",u.T),Eo(u,I),u.m&&u.o&&Pm(I,u.m,u.o),v=new Gr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),f&&(u.i=f.D.concat(u.i)),f=ry(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sm(u.h,v),km(v,I,f)}function Eo(u,f){u.H&&V(u.H,function(v,I){Ie(f,I,v)}),u.l&&z0({},function(v,I){Ie(f,I,v)})}function ry(u,f,v){v=Math.min(u.i.length,v);var I=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let M=-1;for(;;){const W=["count="+v];M==-1?0<v?(M=O[0].g,W.push("ofs="+M)):M=0:W.push("ofs="+M);let ke=!0;for(let dt=0;dt<v;dt++){let ve=O[dt].g;const jt=O[dt].map;if(ve-=M,0>ve)M=Math.max(0,O[dt].g-100),ke=!1;else try{YS(jt,W,"req"+ve+"_")}catch{I&&I(jt)}}if(ke){I=W.join("&");break e}}}return u=u.i.splice(0,v),f.D=u,I}function sy(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;pe||K(),H||(pe(),H=!0),Z.add(f,u),u.v=0}}function Cm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=vo(p(u.Fa,u),oy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,iy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=vo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),$c(this),iy(this))};function Rm(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function iy(u){u.g=new Gr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=gr(u.qa);Ie(f,"RID","rpc"),Ie(f,"SID",u.K),Ie(f,"AID",u.T),Ie(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ie(f,"TO",u.ja),Ie(f,"TYPE","xmlhttp"),Eo(u,f),u.m&&u.o&&Pm(f,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Fc(gr(f)),v.m=null,v.P=!0,C0(v,u)}t.Za=function(){this.C!=null&&(this.C=null,$c(this),Cm(this),Ft(19))};function Wc(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function ay(u,f){var v=null;if(u.g==f){Wc(u),Rm(u),u.g=null;var I=2}else if(Im(u.h,f))v=f.D,L0(u.h,f),I=1;else return;if(u.G!=0){if(f.o)if(I==1){v=f.m?f.m.length:0,f=Date.now()-f.F;var O=u.B;I=Rc(),Lt(I,new I0(I,v)),Hc(u)}else sy(u);else if(O=f.s,O==3||O==0&&0<f.X||!(I==1&&tP(u,f)||I==2&&Cm(u)))switch(v&&0<v.length&&(f=u.h,f.i=f.i.concat(v)),O){case 1:Zs(u,5);break;case 4:Zs(u,10);break;case 3:Zs(u,6);break;default:Zs(u,2)}}}function oy(u,f){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*f}function Zs(u,f){if(u.j.info("Error code "+f),f==2){var v=p(u.fb,u),I=u.Xa;const O=!I;I=new Js(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Mc(I,"https"),Fc(I),O?GS(I.toString(),v):QS(I.toString(),v)}else Ft(2);u.G=0,u.l&&u.l.sa(f),ly(u),ty(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function ly(u){if(u.G=0,u.ka=[],u.l){const f=F0(u.h);(f.length!=0||u.i.length!=0)&&(_(u.ka,f),_(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function cy(u,f,v){var I=v instanceof Js?gr(v):new Js(v);if(I.g!="")f&&(I.g=f+"."+I.g),Lc(I,I.s);else{var O=l.location;I=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var M=new Js(null);I&&Mc(M,I),f&&(M.g=f),O&&Lc(M,O),v&&(M.l=v),I=M}return v=u.D,f=u.ya,v&&f&&Ie(I,v,f),Ie(I,"VER",u.la),Eo(u,I),I}function uy(u,f,v){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new ze(new zc({eb:v})):new ze(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dy(){}t=dy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qc(){}qc.prototype.g=function(u,f){return new mn(u,f)};function mn(u,f){Nt.call(this),this.g=new ey(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Xi(this)}N(mn,Nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Am(this.g)},mn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ym(u),u=v);f.i.push(new LS(f.Ya++,u)),f.G==3&&Hc(f)},mn.prototype.N=function(){this.g.l=null,delete this.j,Am(this.g),delete this.g,mn.aa.N.call(this)};function hy(u){wm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const v in f){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}N(hy,wm);function my(){_m.call(this),this.status=1}N(my,_m);function Xi(u){this.g=u}N(Xi,dy),Xi.prototype.ua=function(){Lt(this.g,"a")},Xi.prototype.ta=function(u){Lt(this.g,new hy(u))},Xi.prototype.sa=function(u){Lt(this.g,new my)},Xi.prototype.ra=function(){Lt(this.g,"b")},qc.prototype.createWebChannel=qc.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,z2=function(){return new qc},F2=function(){return Rc()},L2=Xs,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dc.NO_ERROR=0,Dc.TIMEOUT=8,Dc.HTTP_ERROR=6,$u=Dc,S0.COMPLETE="complete",M2=S0,j0.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Go=j0,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,O2=ze}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});const x1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Dh("@firebase/firestore");function Mo(){return Ci.logLevel}function X(t,...e){if(Ci.logLevel<=me.DEBUG){const n=e.map(mx);Ci.debug(`Firestore (${oo}): ${t}`,...n)}}function $r(t,...e){if(Ci.logLevel<=me.ERROR){const n=e.map(mx);Ci.error(`Firestore (${oo}): ${t}`,...n)}}function Wa(t,...e){if(Ci.logLevel<=me.WARN){const n=e.map(mx);Ci.warn(`Firestore (${oo}): ${t}`,...n)}}function mx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function Ne(t,e){t||se()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class aF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oF{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ar,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ar)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new U2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new At(e)}}class lF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ne(this.o===void 0);const r=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new uF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=hF(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function qa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Re(0,0))}static max(){return new ae(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),o=n.get(s);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Ql{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const mF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Ql{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return mF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(a(),s++)}if(a(),o)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Pe.fromString(e))}static fromName(e){return new ee(Pe.fromString(e).popFirst(5))}static empty(){return new ee(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Pe(e.slice()))}}function fF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Ms(s,ee.empty(),e)}function pF(t){return new Ms(t.readTime,t.key,-1)}class Ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ms(ae.min(),ee.empty(),-1)}static max(){return new Ms(ae.max(),ee.empty(),-1)}}function gF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==vF)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&n()},c=>r(c))}),o=!0,a===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===a&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function yF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fx.oe=-1;function Fh(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function bF(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??gt.RED,this.left=s??gt.EMPTY,this.right=a??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new gt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,s,a){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b1(this.data.getIterator())}getIteratorFrom(e){return new b1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class b1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new yt(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new H2("Invalid base64 string: "+a):a}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const wF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=wF.exec(t);if(Ne(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gx(t){const e=t.mapValue.fields.__previous_value__;return px(e)?gx(e):e}function Xl(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,r,s,a,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class Yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?px(t)?4:jF(t)?9007199254740991:NF(t)?10:11:se()}function dr(t,e){if(t===e)return!0;const n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=Ls(s.timestampValue),l=Ls(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Ri(s.bytesValue).isEqual(Ri(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return qe(s.geoPointValue.latitude)===qe(a.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return qe(s.integerValue)===qe(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=qe(s.doubleValue),l=qe(a.doubleValue);return o===l?$d(o)===$d(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return qa(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(y1(o)!==y1(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!dr(o[c],l[c])))return!1;return!0}(t,e);default:return se()}}function Jl(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Ka(t,e){if(t===e)return 0;const n=Di(t),r=Di(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=qe(a.integerValue||a.doubleValue),c=qe(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return w1(t.timestampValue,e.timestampValue);case 4:return w1(Xl(t),Xl(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Ri(a),c=Ri(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=xe(l[d],c[d]);if(h!==0)return h}return xe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=xe(qe(a.latitude),qe(o.latitude));return l!==0?l:xe(qe(a.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _1(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,d,h;const m=a.fields||{},p=o.fields||{},g=(l=m.value)===null||l===void 0?void 0:l.arrayValue,N=(c=p.value)===null||c===void 0?void 0:c.arrayValue,E=xe(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=N==null?void 0:N.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:_1(g,N)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===yu.mapValue&&o===yu.mapValue)return 0;if(a===yu.mapValue)return 1;if(o===yu.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const p=xe(c[m],h[m]);if(p!==0)return p;const g=Ka(l[c[m]],d[h[m]]);if(g!==0)return g}return xe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw se()}}function w1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Ls(t),r=Ls(e),s=xe(n.seconds,r.seconds);return s!==0?s:xe(n.nanos,r.nanos)}function _1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ka(n[s],r[s]);if(a)return a}return xe(n.length,r.length)}function Ga(t){return mg(t)}function mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=mg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const o of r)a?a=!1:s+=",",s+=`${o}:${mg(n.fields[o])}`;return s+"}"}(t.mapValue):se()}function N1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fg(t){return!!t&&"integerValue"in t}function vx(t){return!!t&&"arrayValue"in t}function j1(t){return!!t&&"nullValue"in t}function k1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hu(t){return!!t&&"mapValue"in t}function NF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=vt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=pl(o):s.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new rn(pl(this.value))}}function W2(t){const e=[];return Wi(t.fields,(n,r)=>{const s=new vt([n]);if(Hu(r)){const a=W2(r.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,s,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Rt(e,0,ae.min(),ae.min(),ae.min(),rn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,ae.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,ae.min(),ae.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,ae.min(),ae.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.position=e,this.inclusive=n}}function E1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Ka(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function T1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function kF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{}class et extends q2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TF(e,n,r):n==="array-contains"?new PF(e,r):n==="in"?new AF(e,r):n==="not-in"?new CF(e,r):n==="array-contains-any"?new RF(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IF(e,r):new SF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends q2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return K2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function K2(t){return t.op==="and"}function G2(t){return EF(t)&&K2(t)}function EF(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function pg(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(G2(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function Q2(t,e){return t instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&dr(r.value,s.value)}(t,e):t instanceof Qn?function(r,s){return s instanceof Qn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,o,l)=>a&&Q2(o,s.filters[l]),!0):!1}(t,e):void se()}function X2(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(X2).join(" ,")+"}"}(t):"Filter"}class TF extends et{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class IF extends et{constructor(e,n){super(e,"in",n),this.keys=Y2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SF extends et{constructor(e,n){super(e,"not-in",n),this.keys=Y2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Y2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class PF extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vx(n)&&Jl(n.arrayValue,this.value)}}class AF extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class CF extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class RF extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n=null,r=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.ue=null}}function I1(t,e=null,n=[],r=[],s=null,a=null,o=null){return new DF(t,e,n,r,s,a,o)}function xx(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.ue=n}return e.ue}function yx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T1(t.startAt,e.startAt)&&T1(t.endAt,e.endAt)}function gg(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n=null,r=[],s=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VF(t,e,n,r,s,a,o,l){return new lo(t,e,n,r,s,a,o,l)}function bx(t){return new lo(t)}function S1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J2(t){return t.collectionGroup!==null}function gl(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new yt(vt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Zl(a,r))}),n.has(vt.keyField().canonicalString())||e.ce.push(new Zl(vt.keyField(),r))}return e.ce}function cr(t){const e=oe(t);return e.le||(e.le=OF(e,gl(t))),e.le}function OF(t,e){if(t.limitType==="F")return I1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Zl(s.field,a)});const n=t.endAt?new Hd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hd(t.startAt.position,t.startAt.inclusive):null;return I1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vg(t,e){const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wd(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zh(t,e){return yx(cr(t),cr(e))&&t.limitType===e.limitType}function Z2(t){return`${xx(cr(t))}|lt:${t.limitType}`}function ta(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>X2(s)).join(", ")}]`),Fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ga(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ga(s)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of gl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=E1(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,gl(r),s)||r.endAt&&!function(o,l,c){const d=E1(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,gl(r),s))}(t,e)}function MF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eT(t){return(e,n)=>{let r=!1;for(const s of gl(t)){const a=LF(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function LF(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Ka(c,d):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return $2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new Fe(ee.comparator);function Hr(){return FF}const tT=new Fe(ee.comparator);function Qo(...t){let e=tT;for(const n of t)e=e.insert(n.key,n);return e}function nT(t){let e=tT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return vl()}function rT(){return vl()}function vl(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const zF=new Fe(ee.comparator),UF=new yt(ee.comparator);function he(...t){let e=UF;for(const n of t)e=e.add(n);return e}const BF=new yt(xe);function $F(){return BF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function sT(t){return{integerValue:""+t}}function HF(t,e){return bF(e)?sT(e):wx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function WF(t,e,n){return t instanceof ec?function(s,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&px(a)&&(a=gx(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof tc?aT(t,e):t instanceof nc?oT(t,e):function(s,a){const o=iT(s,a),l=P1(o)+P1(s.Pe);return fg(o)&&fg(s.Pe)?sT(l):wx(s.serializer,l)}(t,e)}function qF(t,e,n){return t instanceof tc?aT(t,e):t instanceof nc?oT(t,e):n}function iT(t,e){return t instanceof qd?function(r){return fg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ec extends Bh{}class tc extends Bh{constructor(e){super(),this.elements=e}}function aT(t,e){const n=lT(e);for(const r of t.elements)n.some(s=>dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends Bh{constructor(e){super(),this.elements=e}}function oT(t,e){let n=lT(e);for(const r of t.elements)n=n.filter(s=>!dr(s,r));return{arrayValue:{values:n}}}class qd extends Bh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function P1(t){return qe(t.integerValue||t.doubleValue)}function lT(t){return vx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.field=e,this.transform=n}}function GF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tc&&s instanceof tc||r instanceof nc&&s instanceof nc?qa(r.elements,s.elements,dr):r instanceof qd&&s instanceof qd?dr(r.Pe,s.Pe):r instanceof ec&&s instanceof ec}(t.transform,e.transform)}class QF{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $h{}function cT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dT(t.key,Wn.none()):new _c(t.key,t.data,Wn.none());{const n=t.data,r=rn.empty();let s=new yt(vt.comparator);for(let a of e.fields)if(!s.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),s=s.add(a)}return new Ks(t.key,r,new vn(s.toArray()),Wn.none())}}function XF(t,e,n){t instanceof _c?function(s,a,o){const l=s.value.clone(),c=C1(s.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(s,a,o){if(!Wu(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=C1(s.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(uT(s)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xl(t,e,n,r){return t instanceof _c?function(a,o,l,c){if(!Wu(a.precondition,o))return l;const d=a.value.clone(),h=R1(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(a,o,l,c){if(!Wu(a.precondition,o))return l;const d=R1(a.fieldTransforms,c,o),h=o.data;return h.setAll(uT(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(a,o,l){return Wu(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function YF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=iT(r.transform,s||null);a!=null&&(n===null&&(n=rn.empty()),n.set(r.field,a))}return n||null}function A1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qa(r,s,(a,o)=>GF(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends $h{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ks extends $h{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C1(t,e,n){const r=new Map;Ne(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],o=a.transform,l=e.data.field(a.field);r.set(a.field,qF(o,l,n[s]))}return r}function R1(t,e,n){const r=new Map;for(const s of t){const a=s.transform,o=n.data.field(s.field);r.set(s.field,WF(a,o,e))}return r}class dT extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JF extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&XF(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rT();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(s.key)?null:l;const c=cT(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(n,r)=>A1(n,r))&&qa(this.baseMutations,e.baseMutations,(n,r)=>A1(n,r))}}class _x{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length);let s=function(){return zF}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,r[o].version);return new _x(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,fe;function nz(t){switch(t){default:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function hT(t){if(t===void 0)return $r("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ye.OK:return F.OK;case Ye.CANCELLED:return F.CANCELLED;case Ye.UNKNOWN:return F.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return F.INTERNAL;case Ye.UNAVAILABLE:return F.UNAVAILABLE;case Ye.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ye.NOT_FOUND:return F.NOT_FOUND;case Ye.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ye.ABORTED:return F.ABORTED;case Ye.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ye.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(fe=Ye||(Ye={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=new yi([4294967295,4294967295],0);function D1(t){const e=rz().encode(t),n=new V2;return n.update(e),new Uint8Array(n.digest())}function V1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yi([n,r],0),new yi([s,a],0)]}class Nx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(yi.fromNumber(r)));return s.compare(sz)===1&&(s=new yi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=D1(e),[r,s]=V1(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,s,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Nx(a,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=D1(e),[r,s]=V1(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,s,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(ae.min(),s,new Fe(xe),Hr(),he())}}class Nc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nc(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class mT{constructor(e,n){this.targetId=e,this.me=n}}class fT{constructor(e,n,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class O1{constructor(){this.fe=0,this.ge=L1(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se()}}),new Nc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=L1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iz{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=M1(),this.Qe=new Fe(xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(gg(a))if(r===0){const o=new ee(a.path);this.Ue(n,o,Rt.newNoDocument(o,ae.min()))}else Ne(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=Ri(r).toUint8Array()}catch(c){if(c instanceof H2)return Wa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Nx(o,s,a)}catch(c){return Wa(c instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,a,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const l=this.Je(o);if(l){if(a.current&&gg(l.target)){const c=new ee(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Rt.newNoDocument(c,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=he();this.qe.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const s=new Hh(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=M1(),this.Qe=new Fe(xe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new O1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new O1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function M1(){return new Fe(ee.comparator)}function L1(){return new Fe(ee.comparator)}const az={asc:"ASCENDING",desc:"DESCENDING"},oz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lz={and:"AND",or:"OR"};class cz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xg(t,e){return t.useProto3Json||Fh(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uz(t,e){return Kd(t,e.toTimestamp())}function ur(t){return Ne(!!t),ae.fromTimestamp(function(n){const r=Ls(n);return new Re(r.seconds,r.nanos)}(t))}function jx(t,e){return yg(t,e).canonicalString()}function yg(t,e){const n=function(s){return new Pe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gT(t){const e=Pe.fromString(t);return Ne(wT(e)),e}function bg(t,e){return jx(t.databaseId,e.path)}function Pf(t,e){const n=gT(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(xT(n))}function vT(t,e){return jx(t.databaseId,e)}function dz(t){const e=gT(t);return e.length===4?Pe.emptyPath():xT(e)}function wg(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xT(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function F1(t,e,n){return{name:bg(t,e),fields:n.value.mapValue.fields}}function hz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(d,h){return d.useProto3Json?(Ne(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?F.UNKNOWN:hT(d.code);return new G(h,d.message||"")}(o);n=new fT(r,s,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pf(t,r.document.name),a=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):ae.min(),l=new rn({mapValue:{fields:r.document.fields}}),c=Rt.newFoundDocument(s,a,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new qu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Pf(t,r.document),a=r.readTime?ur(r.readTime):ae.min(),o=Rt.newNoDocument(s,a),l=r.removedTargetIds||[];n=new qu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Pf(t,r.document),a=r.removedTargetIds||[];n=new qu([],a,s,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,o=new tz(s,a),l=r.targetId;n=new mT(l,o)}}return n}function mz(t,e){let n;if(e instanceof _c)n={update:F1(t,e.key,e.value)};else if(e instanceof dT)n={delete:bg(t,e.key)};else if(e instanceof Ks)n={update:F1(t,e.key,e.data),updateMask:_z(e.fieldMask)};else{if(!(e instanceof JF))return se();n={verify:bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof ec)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof tc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qd)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:uz(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:se()}(t,e.precondition)),n}function fz(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(s,a){let o=s.updateTime?ur(s.updateTime):ur(a);return o.isEqual(ae.min())&&(o=ur(a)),new QF(o,s.transformResults||[])}(n,e))):[]}function pz(t,e){return{documents:[vT(t,e.path)]}}function gz(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vT(t,s);const a=function(d){if(d.length!==0)return bT(Qn.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:na(p.field),direction:yz(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=xg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function vz(t){let e=dz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(m){const p=yT(m);return p instanceof Qn&&G2(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(N){return new Zl(ra(N.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,Fh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,g=m.values||[];return new Hd(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,g=m.values||[];return new Hd(g,p)}(n.endAt)),VF(e,s,o,a,l,"F",c,d)}function xz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ra(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ra(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ra(n.unaryFilter.field);return et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ra(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return et.create(ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>yT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function yz(t){return az[t]}function bz(t){return oz[t]}function wz(t){return lz[t]}function na(t){return{fieldPath:t.canonicalString()}}function ra(t){return vt.fromServerFormat(t.fieldPath)}function bT(t){return t instanceof et?function(n){if(n.op==="=="){if(k1(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(j1(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k1(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(j1(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:bz(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(s=>bT(s));return r.length===1?r[0]:{compositeFilter:{op:wz(n.op),filters:r}}}(t):se()}function _z(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,a=ae.min(),o=ae.min(),l=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.ct=e}}function jz(t){const e=vz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.un=new Ez}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Ms.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class Ez{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yt(Pe.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qa(0)}static kn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.changes=new co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xl(r.mutation,s,vn.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const s=hi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let o=Qo();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let a=Hr();const o=vl(),l=function(){return vl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ks)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),xl(h.mutation,d,h.mutation.getFieldMask(),Re.now())):o.set(d.key,vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var m;return l.set(d,new Iz(h,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=vl();let s=new Fe((o,l)=>o-l),a=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||vn.empty();h=l.applyToLocalView(d,h),r.set(c,h);const m=(s.get(l.batchId)||he()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=rT();h.forEach(p=>{if(!a.has(p)){const g=cT(n.get(p),r.get(p));g!==null&&m.set(p,g),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):z.resolve(hi());let l=-1,c=a;return o.next(d=>z.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,he())).next(h=>({batchId:l,changes:nT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=Qo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let o=Qo();return this.indexManager.getCollectionParents(e,a).next(l=>z.forEach(l,c=>{const d=function(m,p){return new lo(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(o=>{a.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Rt.newInvalidDocument(h)))});let l=Qo();return o.forEach((c,d)=>{const h=a.get(c);h!==void 0&&xl(h.mutation,d,vn.empty(),Re.now()),Uh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:jz(s.bundledQuery),readTime:ur(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.overlays=new Fe(ee.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hi();return z.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.ht(e,n,a)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=hi(),a=n.length+1,o=new ee(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>r&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Fe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=a.get(d.largestBatchId);h===null&&(h=hi(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=hi(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return z.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ez(n,r));let a=this.Ir.get(n);a===void 0&&(a=he(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Tr=new yt(at.Er),this.dr=new yt(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new at(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new Pe([])),r=new at(n,e),s=new at(n,e+1),a=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new Pe([])),r=new at(n,e),s=new at(n,e+1);let a=he();return this.dr.forEachInRange([r,s],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new at(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||xe(e.wr,n.wr)}static Ar(e,n){return xe(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(at.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZF(a,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new at(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);a.push(l)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(xe);return n.forEach(s=>{const a=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],l=>{r=r.add(l.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ee.isDocumentKey(a)||(a=a.child(""));const o=new at(new ee(a),0);let l=new yt(xe);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},o),z.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const a=new at(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new at(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.Mr=e,this.docs=function(){return new Fe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Rt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Hr();const o=n.path,l=new ee(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||gF(pF(h),r)<=0||(s.has(h.key)||Uh(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(e,n,r,s){se()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vz(this)}getSize(e){return z.resolve(this.size)}}class Vz extends Tz{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.persistence=e,this.Nr=new co(n=>xx(n),yx),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kx,this.targetCount=0,this.kr=Qa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(a).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fx(0),this.Kr=!1,this.Kr=!0,this.$r=new Cz,this.referenceDelegate=e(this),this.Ur=new Oz(this),this.indexManager=new kz,this.remoteDocumentCache=function(s){return new Dz(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Nz(n),this.Gr=new Pz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Az,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Rz(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new Lz(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(a=>this.referenceDelegate.jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Lz extends xF{constructor(e){super(),this.currentSequenceNumber=e}}class Ex{constructor(e){this.persistence=e,this.Jr=new kx,this.Yr=null}static Zr(e){return new Ex(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=ee.fromPath(r);return this.ei(e,s).next(a=>{a||n.removeEntry(s,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=he(),s=he();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Tx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _M()?8:yF(Ot())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,s,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Fz;return this.Xi(e,n,o).next(l=>{if(a.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>a.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Mo()<=me.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ta(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Mo()<=me.DEBUG&&X("QueryEngine","Query:",ta(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Mo()<=me.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ta(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):z.resolve())}Yi(e,n){if(S1(n))return z.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wd(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=he(...a);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,o,c.readTime)?this.Yi(e,Wd(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return S1(n)||s.isEqual(ae.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,s)?z.resolve(null):(Mo()<=me.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ta(n)),this.rs(e,o,n,fF(s,-1)).next(l=>l))})}ts(e,n){let r=new yt(eT(e));return n.forEach((s,a)=>{Uh(e,a)&&(r=r.add(a))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return Mo()<=me.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ta(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ms.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Fe(xe),this._s=new co(a=>xx(a),yx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Bz(t,e,n,r){return new Uz(t,e,n,r)}async function _T(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let c=he();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function $z(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const m=d.batch,p=m.keys();let g=z.resolve();return p.forEach(N=>{g=g.next(()=>h.getEntry(c,N)).next(E=>{const _=d.docVersions.get(N);Ne(_!==null),E.version.compareTo(_)<0&&(m.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),h.addEntry(E)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=he();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function NT(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Hz(t,e){const n=oe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,m)=>{const p=s.get(m);if(!p)return;l.push(n.Ur.removeMatchingKeys(a,h.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(a,h.addedDocuments,m)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(wt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(m,g),function(E,_,w){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&l.push(n.Ur.updateTargetData(a,g))});let c=Hr(),d=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(Wz(a,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(ae.min())){const h=n.Ur.getLastRemoteSnapshotVersion(a).next(m=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(h)}return z.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(n.os=s,a))}function Wz(t,e,n){let r=he(),s=he();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Hr();return n.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function qz(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kz(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(a=>a?(s=a,z.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function _g(t,e,n){const r=oe(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wc(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function z1(t,e,n){const r=oe(t);let s=ae.min(),a=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const m=oe(c),p=m._s.get(h);return p!==void 0?z.resolve(m.os.get(p)):m.Ur.getTargetData(d,h)}(r,o,cr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ae.min(),n?a:he())).next(l=>(Gz(r,MF(e),l),{documents:l,Ts:a})))}function Gz(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class U1{constructor(){this.activeTargetIds=$F()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qz{constructor(){this.so=new U1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new U1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu=null;function Af(){return bu===null?bu=function(){return 268435456+Math.round(2147483648*Math.random())}():bu++,"0x"+bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class Zz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,o){const l=Af(),c=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,a,o),this.No(n,c,d,s).then(h=>(X("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Wa("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,a,o,l){return this.Mo(n,r,s,a,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),s&&s.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const s=Yz[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=Af();return new Promise((o,l)=>{const c=new O2;c.setWithCredentials(!0),c.listenOnce(M2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $u.NO_ERROR:const h=c.getResponseJson();X(It,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case $u.TIMEOUT:X(It,`RPC '${e}' ${a} timed out`),l(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const m=c.getStatus();if(X(It,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const N=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(g.status);l(new G(N,g.message))}else l(new G(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new G(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{X(It,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);X(It,`RPC '${e}' ${a} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Af(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=z2(),l=F2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");X(It,`Creating RPC '${e}' stream ${s}: ${h}`,c);const m=o.createWebChannel(h,c);let p=!1,g=!1;const N=new Jz({Io:_=>{g?X(It,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(X(It,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),X(It,`RPC '${e}' stream ${s} sending:`,_),m.send(_))},To:()=>m.close()}),E=(_,w,y)=>{_.listen(w,b=>{try{y(b)}catch(S){setTimeout(()=>{throw S},0)}})};return E(m,Go.EventType.OPEN,()=>{g||(X(It,`RPC '${e}' stream ${s} transport opened.`),N.yo())}),E(m,Go.EventType.CLOSE,()=>{g||(g=!0,X(It,`RPC '${e}' stream ${s} transport closed`),N.So())}),E(m,Go.EventType.ERROR,_=>{g||(g=!0,Wa(It,`RPC '${e}' stream ${s} transport errored:`,_),N.So(new G(F.UNAVAILABLE,"The operation could not be completed")))}),E(m,Go.EventType.MESSAGE,_=>{var w;if(!g){const y=_.data[0];Ne(!!y);const b=y,S=b.error||((w=b[0])===null||w===void 0?void 0:w.error);if(S){X(It,`RPC '${e}' stream ${s} received error:`,S);const D=S.status;let V=function(j){const P=Ye[j];if(P!==void 0)return hT(P)}(D),T=S.message;V===void 0&&(V=F.INTERNAL,T="Unknown error status: "+D+" with message "+S.message),g=!0,N.So(new G(V,T)),m.close()}else X(It,`RPC '${e}' stream ${s} received:`,y),N.bo(y)}}),E(l,L2.STAT_EVENT,_=>{_.stat===hg.PROXY?X(It,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===hg.NOPROXY&&X(It,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return new cz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r,s,a,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eU extends kT{constructor(e,n,r,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hz(this.serializer,e),r=function(a){if(!("targetChange"in a))return ae.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?ur(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wg(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=gg(c)?{documents:pz(a,c)}:{query:gz(a,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=pT(a,o.resumeToken);const d=xg(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ae.min())>0){l.readTime=Kd(a,o.snapshotVersion.toTimestamp());const d=xg(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=xz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wg(this.serializer),n.removeTarget=e,this.a_(n)}}class tU extends kT{constructor(e,n,r,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=fz(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mz(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,yg(n,r),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(F.UNKNOWN,a.toString())})}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,yg(n,r),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{qi(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=oe(c);d.L_.add(4),await jc(d),d.q_.set("Unknown"),d.L_.delete(4),await qh(d)}(this))})}),this.q_=new rU(r,s)}}async function qh(t){if(qi(t))for(const e of t.B_)await e(!0)}async function jc(t){for(const e of t.B_)await e(!1)}function ET(t,e){const n=oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ax(n)?Px(n):uo(n).r_()&&Sx(n,e))}function Ix(t,e){const n=oe(t),r=uo(n);n.N_.delete(e),r.r_()&&TT(n,e),n.N_.size===0&&(r.r_()?r.o_():qi(n)&&n.q_.set("Unknown"))}function Sx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).A_(e)}function TT(t,e){t.Q_.xe(e),uo(t).R_(e)}function Px(t){t.Q_=new iz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.q_.v_()}function Ax(t){return qi(t)&&!uo(t).n_()&&t.N_.size>0}function qi(t){return oe(t).L_.size===0}function IT(t){t.Q_=void 0}async function iU(t){t.q_.set("Online")}async function aU(t){t.N_.forEach((e,n)=>{Sx(t,e)})}async function oU(t,e){IT(t),Ax(t)?(t.q_.M_(e),Px(t)):t.q_.set("Unknown")}async function lU(t,e,n){if(t.q_.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const l of a.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof qu?t.Q_.Ke(e):e instanceof mT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await NT(t.localStore);n.compareTo(r)>=0&&await function(a,o){const l=a.Q_.rt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(d);h&&a.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),TT(a,c);const m=new ps(h.target,c,d,h.sequenceNumber);Sx(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!wc(e))throw e;t.L_.add(1),await jc(t),t.q_.set("Offline"),n||(n=()=>NT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await qh(t)})}function ST(t,e){return e().catch(n=>Gd(t,n,e))}async function Kh(t){const e=oe(t),n=Fs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cU(e);)try{const s=await qz(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,uU(e,s)}catch(s){await Gd(e,s)}PT(e)&&AT(e)}function cU(t){return qi(t)&&t.O_.length<10}function uU(t,e){t.O_.push(e);const n=Fs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function PT(t){return qi(t)&&!Fs(t).n_()&&t.O_.length>0}function AT(t){Fs(t).start()}async function dU(t){Fs(t).p_()}async function hU(t){const e=Fs(t);for(const n of t.O_)e.m_(n.mutations)}async function mU(t,e,n){const r=t.O_.shift(),s=_x.from(r,e,n);await ST(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Kh(t)}async function fU(t,e){e&&Fs(t).V_&&await async function(r,s){if(function(o){return nz(o)&&o!==F.ABORTED}(s.code)){const a=r.O_.shift();Fs(r).s_(),await ST(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Kh(r)}}(t,e),PT(t)&&AT(t)}async function $1(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=qi(n);n.L_.add(3),await jc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await qh(n)}async function pU(t,e){const n=oe(t);e?(n.L_.delete(2),await qh(n)):e||(n.L_.add(2),await jc(n),n.q_.set("Unknown"))}function uo(t){return t.K_||(t.K_=function(n,r,s){const a=oe(n);return a.w_(),new eU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:iU.bind(null,t),Ro:aU.bind(null,t),mo:oU.bind(null,t),d_:lU.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ax(t)?Px(t):t.q_.set("Unknown")):(await t.K_.stop(),IT(t))})),t.K_}function Fs(t){return t.U_||(t.U_=function(n,r,s){const a=oe(n);return a.w_(),new tU(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dU.bind(null,t),mo:fU.bind(null,t),f_:hU.bind(null,t),g_:mU.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kh(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const o=Date.now()+r,l=new Cx(e,n,o,s,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rx(t,e){if($r("AsyncQueue",`${e}: ${t}`),wc(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Qo(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new Aa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.W_=new Fe(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,s,a,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Xa(e,n,Aa.emptySet(n),o,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vU{constructor(){this.queries=W1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=oe(n),a=s.queries;s.queries=W1(),a.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}}function W1(){return new co(t=>Z2(t),zh)}async function CT(t,e){const n=oe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new gU,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Rx(o,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Dx(n)}async function RT(t,e){const n=oe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xU(t,e){const n=oe(t);let r=!1;for(const s of e){const a=s.query,o=n.queries.get(a);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&Dx(n)}function yU(t,e,n){const r=oe(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function Dx(t){t.Y_.forEach(e=>{e.next()})}var Ng,q1;(q1=Ng||(Ng={})).ea="default",q1.Cache="cache";class DT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class bU{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=eT(e),this.Ra=new Aa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new H1,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const p=s.get(h),g=Uh(this.query,m)?m:null,N=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?N!==E&&(r.track({type:3,doc:g}),_=!0):this.ga(p,g)||(r.track({type:2,doc:g}),_=!0,(c&&this.Aa(g,c)>0||d&&this.Aa(g,d)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(c||d)&&(l=!0)),_&&(g?(o=o.add(g),a=E?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:l,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,m)=>function(g,N){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return E(g)-E(N)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new Xa(this.query,e.Ra,a,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new H1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new OT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new VT(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _U{constructor(e){this.key=e,this.va=!1}}class NU{constructor(e,n,r,s,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new co(l=>Z2(l),zh),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(ee.comparator),this.Na=new Map,this.La=new kx,this.Ba={},this.ka=new Map,this.qa=Qa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jU(t,e,n=!0){const r=BT(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await MT(r,e,n,!0),s}async function kU(t,e){const n=BT(t);await MT(n,e,!0,!1)}async function MT(t,e,n,r){const s=await Kz(t.localStore,cr(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await EU(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&ET(t.remoteStore,s),l}async function EU(t,e,n,r,s){t.Ka=(m,p,g)=>async function(E,_,w,y){let b=_.view.ma(w);b.ns&&(b=await z1(E.localStore,_.query,!1).then(({documents:T})=>_.view.ma(T,b)));const S=y&&y.targetChanges.get(_.targetId),D=y&&y.targetMismatches.get(_.targetId)!=null,V=_.view.applyChanges(b,E.isPrimaryClient,S,D);return G1(E,_.targetId,V.wa),V.snapshot}(t,m,p,g);const a=await z1(t.localStore,e,!0),o=new bU(e,a.Ts),l=o.ma(a.documents),c=Nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);G1(t,n,d.wa);const h=new wU(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function TU(t,e,n){const r=oe(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter(o=>!zh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _g(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ix(r.remoteStore,s.targetId),jg(r,s.targetId)}).catch(bc)):(jg(r,s.targetId),await _g(r.localStore,s.targetId,!0))}async function IU(t,e){const n=oe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ix(n.remoteStore,r.targetId))}async function SU(t,e,n){const r=OU(t);try{const s=await function(o,l){const c=oe(o),d=Re.now(),h=l.reduce((g,N)=>g.add(N.key),he());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let N=Hr(),E=he();return c.cs.getEntries(g,h).next(_=>{N=_,N.forEach((w,y)=>{y.isValidDocument()||(E=E.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,N)).next(_=>{m=_;const w=[];for(const y of l){const b=YF(y,m.get(y.key).overlayedDocument);b!=null&&w.push(new Ks(y.key,b,W2(b.value.mapValue),Wn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,w,l)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(g,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:nT(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new Fe(xe)),d=d.insert(l,c),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await kc(r,s.changes),await Kh(r.remoteStore)}catch(s){const a=Rx(s,"Failed to persist write");n.reject(a)}}async function LT(t,e){const n=oe(t);try{const r=await Hz(n.localStore,e);e.targetChanges.forEach((s,a)=>{const o=n.Na.get(a);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Ne(o.va):s.removedDocuments.size>0&&(Ne(o.va),o.va=!1))}),await kc(n,r,e)}catch(r){await bc(r)}}function K1(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((a,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=oe(o);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const p of m.j_)p.Z_(l)&&(d=!0)}),d&&Dx(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PU(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let o=new Fe(ee.comparator);o=o.insert(a,Rt.newNoDocument(a,ae.min()));const l=he().add(a),c=new Hh(ae.min(),new Map,new Fe(xe),o,l);await LT(r,c),r.Oa=r.Oa.remove(a),r.Na.delete(e),Vx(r)}else await _g(r.localStore,e,!1).then(()=>jg(r,e,n)).catch(bc)}async function AU(t,e){const n=oe(t),r=e.batch.batchId;try{const s=await $z(n.localStore,e);zT(n,r,null),FT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kc(n,s)}catch(s){await bc(s)}}async function CU(t,e,n){const r=oe(t);try{const s=await function(o,l){const c=oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(Ne(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);zT(r,e,n),FT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kc(r,s)}catch(s){await bc(s)}}function FT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zT(t,e,n){const r=oe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||UT(t,r)})}function UT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Ix(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Vx(t))}function G1(t,e,n){for(const r of n)r instanceof VT?(t.La.addReference(r.key,e),RU(t,r)):r instanceof OT?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||UT(t,r.key)):se()}function RU(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),Vx(t))}function Vx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new _U(n)),t.Oa=t.Oa.insert(n,r),ET(t.remoteStore,new ps(cr(bx(n.path)),r,"TargetPurposeLimboResolution",fx.oe))}}async function kc(t,e,n){const r=oe(t),s=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Tx.Wi(c.targetId,d);a.push(m)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,d){const h=oe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(d,p=>z.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(m,p.targetId,g)).next(()=>z.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(m,p.targetId,g)))))}catch(m){if(!wc(m))throw m;X("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const g=h.os.get(p),N=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(N);h.os=h.os.insert(p,E)}}}(r.localStore,a))}async function DU(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await _T(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(l=>{l.forEach(c=>{c.reject(new G(F.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kc(n,r.hs)}}function VU(t,e){const n=oe(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let s=he();const a=n.Ma.get(e);if(!a)return s;for(const o of a){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function BT(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PU.bind(null,e),e.Ca.d_=xU.bind(null,e.eventManager),e.Ca.$a=yU.bind(null,e.eventManager),e}function OU(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CU.bind(null,e),e}class Qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Bz(this.persistence,new zz,e.initialUser,this.serializer)}Ga(e){return new Mz(Ex.Zr,this.serializer)}Wa(e){return new Qz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qd.provider={build:()=>new Qd};class kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DU.bind(null,this.syncEngine),await pU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vU}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=function(a){return new Zz(a)}(e.databaseInfo);return function(a,o,l,c){return new nU(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,o,l){return new sU(r,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>K1(this.syncEngine,n,0),function(){return B1.D()?new B1:new Xz}())}createSyncEngine(e,n){return function(s,a,o,l,c,d,h){const m=new NU(s,a,o,l,c,d);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=oe(s);X("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await jc(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}kg.provider={build:()=>new kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=B2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Rx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await _T(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LU(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>$1(e.remoteStore,s)),t._onlineComponents=e}async function LU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await Rf(t,new Qd)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Rf(t,new Qd);return t._offlineComponents}async function HT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Q1(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Q1(t,new kg))),t._onlineComponents}function FU(t){return HT(t).then(e=>e.syncEngine)}async function WT(t){const e=await HT(t),n=e.eventManager;return n.onListen=jU.bind(null,e.syncEngine),n.onUnlisten=TU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IU.bind(null,e.syncEngine),n}function zU(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new $T({next:p=>{h.Za(),o.enqueueAndForget(()=>RT(a,m));const g=p.docs.has(l);!g&&p.fromCache?d.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?d.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new DT(bx(l.path),h,{includeMetadataChanges:!0,_a:!0});return CT(a,m)}(await WT(t),t.asyncQueue,e,n,r)),r.promise}function UU(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new $T({next:p=>{h.Za(),o.enqueueAndForget(()=>RT(a,m)),p.fromCache&&c.source==="server"?d.reject(new G(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new DT(l,h,{includeMetadataChanges:!0,_a:!0});return CT(a,m)}(await WT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BU(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y1(t){if(!ee.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J1(t){if(ee.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $U(t,e){if(e<=0)throw new G(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iF;switch(r.type){case"firstParty":return new cF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X1.get(n);r&&(X("ComponentProvider","Removing Datastore"),X1.delete(n),r.terminate())}(this),Promise.resolve()}}function HU(t,e,n,r={}){var s;const a=(t=hr(t,Qh))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=At.MOCK_USER;else{l=HE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new At(d)}t._authCredentials=new aF(new U2(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Is extends Gs{constructor(e,n,r){super(e,n,bx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ee(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Vn(t,e,...n){if(t=je(t),KT("collection","path",e),t instanceof Qh){const r=Pe.fromString(e,...n);return J1(r),new Is(t,null,r)}{if(!(t instanceof Gt||t instanceof Is))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return J1(r),new Is(t.firestore,null,r)}}function nr(t,e,...n){if(t=je(t),arguments.length===1&&(e=B2.newId()),KT("doc","path",e),t instanceof Qh){const r=Pe.fromString(e,...n);return Y1(r),new Gt(t,null,new ee(r))}{if(!(t instanceof Gt||t instanceof Is))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Y1(r),new Gt(t.firestore,t instanceof Is?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jT(this,"async_queue_retry"),this.Vu=()=>{const r=Cf();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ar;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wc(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw $r("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Cx.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ho extends Qh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new e_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function WU(t,e){const n=typeof t=="object"?t:Vh(),r=typeof t=="string"?t:"(default)",s=Ws(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=UE("firestore");a&&HU(s,...a)}return s}function Ox(t){if(t._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qU(t),t._firestoreClient}function qU(t){var e,n,r;const s=t._freezeSettings(),a=function(l,c,d,h){return new _F(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new MU(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(wt.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ya(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=/^__.*__$/;class GU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}class GT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Fx{constructor(e,n,r,s,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QT(this.Cu)&&KU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class QU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}Qu(e,n,r,s=!1){return new Fx({Cu:e,methodName:n,qu:r,path:vt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new QU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XT(t,e,n,r,s,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);Ux("Data must be an object, but it was:",o,r);const l=YT(r,o);let c,d;if(a.merge)c=new vn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const p=Eg(e,m,n);if(!o.contains(p))throw new G(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ZT(h,p)||h.push(p)}c=new vn(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new GU(new rn(l),c,d)}class Zh extends Yh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class zx extends Yh{_toFieldTransform(e){return new KF(e.path,new ec)}isEqual(e){return e instanceof zx}}function XU(t,e,n,r){const s=t.Qu(1,e,n);Ux("Data must be an object, but it was:",s,r);const a=[],o=rn.empty();Wi(r,(c,d)=>{const h=Bx(e,c,n);d=je(d);const m=s.Nu(h);if(d instanceof Zh)a.push(h);else{const p=Ec(d,m);p!=null&&(a.push(h),o.set(h,p))}});const l=new vn(a);return new GT(o,l,s.fieldTransforms)}function YU(t,e,n,r,s,a){const o=t.Qu(1,e,n),l=[Eg(e,r,n)],c=[s];if(a.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(Eg(e,a[p])),c.push(a[p+1]);const d=[],h=rn.empty();for(let p=l.length-1;p>=0;--p)if(!ZT(d,l[p])){const g=l[p];let N=c[p];N=je(N);const E=o.Nu(g);if(N instanceof Zh)d.push(g);else{const _=Ec(N,E);_!=null&&(d.push(g),h.set(g,_))}}const m=new vn(d);return new GT(h,m,o.fieldTransforms)}function JU(t,e,n,r=!1){return Ec(n,t.Qu(r?4:3,e))}function Ec(t,e){if(JT(t=je(t)))return Ux("Unsupported field value:",e,t),YT(t,e);if(t instanceof Yh)return function(r,s){if(!QT(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const a=[];let o=0;for(const l of r){let c=Ec(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Re.fromDate(r);return{timestampValue:Kd(s.serializer,a)}}if(r instanceof Re){const a=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(s.serializer,a)}}if(r instanceof Mx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ya)return{bytesValue:pT(s.serializer,r._byteString)};if(r instanceof Gt){const a=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Lx)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return wx(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Gh(r)}`)}(t,e)}function YT(t,e){const n={};return $2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,(r,s)=>{const a=Ec(s,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function JT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Mx||t instanceof Ya||t instanceof Gt||t instanceof Yh||t instanceof Lx)}function Ux(t,e,n){if(!JT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Gh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Eg(t,e,n){if((e=je(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Bx(t,e);throw Xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZU=new RegExp("[~\\*/\\[\\]]");function Bx(t,e,n){if(e.search(ZU)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xd(t,e,n,r,s){const a=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new G(F.INVALID_ARGUMENT,l+t+c)}function ZT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eB extends eI{data(){return super.data()}}function em(t,e){return typeof e=="string"?Bx(t,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $x{}class Hx extends $x{}function xn(t,e,...n){let r=[];e instanceof $x&&r.push(e),r=r.concat(n),function(a){const o=a.filter(c=>c instanceof Wx).length,l=a.filter(c=>c instanceof tm).length;if(o>1||o>0&&l>0)throw new G(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class tm extends Hx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=this._parse(e);return tI(e._query,n),new Gs(e.firestore,e.converter,vg(e._query,n))}_parse(e){const n=Jh(e.firestore);return function(a,o,l,c,d,h,m){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new G(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){n_(m,h);const g=[];for(const N of m)g.push(t_(c,a,N));p={arrayValue:{values:g}}}else p=t_(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||n_(m,h),p=JU(l,o,m,h==="in"||h==="not-in");return et.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mr(t,e,n){const r=e,s=em("where",t);return tm._create(s,r,n)}class Wx extends $x{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let o=s;const l=a.getFlattenedFilters();for(const c of l)tI(o,c),o=vg(o,c)}(e._query,n),new Gs(e.firestore,e.converter,vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qx extends Hx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qx(e,n)}_apply(e){const n=function(s,a,o){if(s.startAt!==null)throw new G(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new G(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(a,o)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,function(s,a){const o=s.explicitOrderBy.concat([a]);return new lo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function bi(t,e="asc"){const n=e,r=em("orderBy",t);return qx._create(r,n)}class Kx extends Hx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Kx(e,n,r)}_apply(e){return new Gs(e.firestore,e.converter,Wd(e._query,this._limit,this._limitType))}}function Yd(t){return $U("limit",t),Kx._create("limit",t,"F")}function t_(t,e,n){if(typeof(n=je(n))=="string"){if(n==="")throw new G(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J2(e)&&n.indexOf("/")!==-1)throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!ee.isDocumentKey(r))throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return N1(t,new ee(r))}if(n instanceof Gt)return N1(t,n._key);throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function n_(t,e){if(!Array.isArray(t)||t.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tI(t,e){const n=function(s,a){for(const o of s)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nB{convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>qe(o.doubleValue));return new Lx(a)}convertGeoPoint(e){return new Mx(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Ne(wT(r));const s=new Yl(r.get(1),r.get(3)),a=new ee(r.popFirst(5));return s.isEqual(n)||$r(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rI extends eI{constructor(e,n,r,s,a,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ku extends rI{data(e={}){return super.data(e)}}class rB{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ku(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Ku(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Ku(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:sB(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){t=hr(t,Gt);const e=hr(t.firestore,ho);return zU(Ox(e),t._key).then(n=>iB(e,t,n))}class sI extends nB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Bn(t){t=hr(t,Gs);const e=hr(t.firestore,ho),n=Ox(e),r=new sI(e);return tB(t._query),UU(n,t._query).then(s=>new rB(e,r,t,s))}function r_(t,e,n){t=hr(t,Gt);const r=hr(t.firestore,ho),s=nI(t.converter,e);return Gx(r,[XT(Jh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Wn.none())])}function Jd(t,e,n,...r){t=hr(t,Gt);const s=hr(t.firestore,ho),a=Jh(s);let o;return o=typeof(e=je(e))=="string"||e instanceof Xh?YU(a,"updateDoc",t._key,e,n,r):XU(a,"updateDoc",t._key,e),Gx(s,[o.toMutation(t._key,Wn.exists(!0))])}function nm(t,e){const n=hr(t.firestore,ho),r=nr(t),s=nI(t.converter,e);return Gx(n,[XT(Jh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function Gx(t,e){return function(r,s){const a=new Ar;return r.asyncQueue.enqueueAndForget(async()=>SU(await FU(r),s,a)),a.promise}(Ox(t),e)}function iB(t,e,n){const r=n.docs.get(e._key),s=new sI(t);return new rI(t,s,e._key,r,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}function Gu(){return new zx("serverTimestamp")}(function(e,n=!0){(function(s){oo=s})(Hi),Kn(new Dn("firestore",(r,{instanceIdentifier:s,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new ho(new oF(r.getProvider("auth-internal")),new dF(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(d.options.projectId,h)}(o,s),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),un(x1,"4.7.3",e),un(x1,"4.7.3","esm2017")})();var aB="firebase",oB="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(aB,oB,"app");const iI="@firebase/installations",Qx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1e4,oI=`w:${Qx}`,lI="FIS_v2",lB="https://firebaseinstallations.googleapis.com/v1",cB=60*60*1e3,uB="installations",dB="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vi=new $i(uB,dB,hB);function cI(t){return t instanceof On&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI({projectId:t}){return`${lB}/projects/${t}/installations`}function dI(t){return{token:t.token,requestStatus:2,expiresIn:fB(t.expiresIn),creationTime:Date.now()}}async function hI(t,e){const r=(await e.json()).error;return Vi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function mI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mB(t,{refreshToken:e}){const n=mI(t);return n.append("Authorization",pB(e)),n}async function fI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fB(t){return Number(t.replace("s","000"))}function pB(t){return`${lI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uI(t),s=mI(t),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:lI,appId:t.appId,sdkVersion:oI},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await fI(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:dI(d.authToken)}}else throw await hI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=/^[cdef][\w-]{21}$/,Tg="";function yB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bB(t);return xB.test(n)?n:Tg}catch{return Tg}}function bB(t){return vB(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new Map;function vI(t,e){const n=rm(t);xI(n,e),wB(n,e)}function xI(t,e){const n=gI.get(t);if(n)for(const r of n)r(e)}function wB(t,e){const n=_B();n&&n.postMessage({key:t,fid:e}),NB()}let mi=null;function _B(){return!mi&&"BroadcastChannel"in self&&(mi=new BroadcastChannel("[Firebase] FID Change"),mi.onmessage=t=>{xI(t.data.key,t.data.fid)}),mi}function NB(){gI.size===0&&mi&&(mi.close(),mi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="firebase-installations-database",kB=1,Oi="firebase-installations-store";let Df=null;function Xx(){return Df||(Df=XE(jB,kB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Oi)}}})),Df}async function Zd(t,e){const n=rm(t),s=(await Xx()).transaction(Oi,"readwrite"),a=s.objectStore(Oi),o=await a.get(n);return await a.put(e,n),await s.done,(!o||o.fid!==e.fid)&&vI(t,e.fid),e}async function yI(t){const e=rm(t),r=(await Xx()).transaction(Oi,"readwrite");await r.objectStore(Oi).delete(e),await r.done}async function sm(t,e){const n=rm(t),s=(await Xx()).transaction(Oi,"readwrite"),a=s.objectStore(Oi),o=await a.get(n),l=e(o);return l===void 0?await a.delete(n):await a.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&vI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t){let e;const n=await sm(t.appConfig,r=>{const s=EB(r),a=TB(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Tg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function EB(t){const e=t||{fid:yB(),registrationStatus:0};return bI(e)}function TB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Vi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=IB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:SB(t)}:{installationEntry:e}}async function IB(t,e){try{const n=await gB(t,e);return Zd(t.appConfig,n)}catch(n){throw cI(n)&&n.customData.serverCode===409?await yI(t.appConfig):await Zd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function SB(t){let e=await s_(t.appConfig);for(;e.registrationStatus===1;)await pI(100),e=await s_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Yx(t);return r||n}return e}function s_(t){return sm(t,e=>{if(!e)throw Vi.create("installation-not-found");return bI(e)})}function bI(t){return PB(t)?{fid:t.fid,registrationStatus:0}:t}function PB(t){return t.registrationStatus===1&&t.registrationTime+aI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AB({appConfig:t,heartbeatServiceProvider:e},n){const r=CB(t,n),s=mB(t,n),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:oI,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await fI(()=>fetch(r,l));if(c.ok){const d=await c.json();return dI(d)}else throw await hI("Generate Auth Token",c)}function CB(t,{fid:e}){return`${uI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(t,e=!1){let n;const r=await sm(t.appConfig,a=>{if(!wI(a))throw Vi.create("not-registered");const o=a.authToken;if(!e&&VB(o))return a;if(o.requestStatus===1)return n=RB(t,e),a;{if(!navigator.onLine)throw Vi.create("app-offline");const l=MB(a);return n=DB(t,l),l}});return n?await n:r.authToken}async function RB(t,e){let n=await i_(t.appConfig);for(;n.authToken.requestStatus===1;)await pI(100),n=await i_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Jx(t,e):r}function i_(t){return sm(t,e=>{if(!wI(e))throw Vi.create("not-registered");const n=e.authToken;return LB(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function DB(t,e){try{const n=await AB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Zd(t.appConfig,r),n}catch(n){if(cI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zd(t.appConfig,r)}throw n}}function wI(t){return t!==void 0&&t.registrationStatus===2}function VB(t){return t.requestStatus===2&&!OB(t)}function OB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cB}function MB(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LB(t){return t.requestStatus===1&&t.requestTime+aI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FB(t){const e=t,{installationEntry:n,registrationPromise:r}=await Yx(e);return r?r.catch(console.error):Jx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,e=!1){const n=t;return await UB(n),(await Jx(n,e)).token}async function UB(t){const{registrationPromise:e}=await Yx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){if(!t||!t.options)throw Vf("App Configuration");if(!t.name)throw Vf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vf(t){return Vi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="installations",$B="installations-internal",HB=t=>{const e=t.getProvider("app").getImmediate(),n=BB(e),r=Ws(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WB=t=>{const e=t.getProvider("app").getImmediate(),n=Ws(e,_I).getImmediate();return{getId:()=>FB(n),getToken:s=>zB(n,s)}};function qB(){Kn(new Dn(_I,HB,"PUBLIC")),Kn(new Dn($B,WB,"PRIVATE"))}qB();un(iI,Qx);un(iI,Qx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="analytics",KB="firebase_id",GB="origin",QB=60*1e3,XB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Dh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new $i("analytics","Analytics",YB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t){if(!t.startsWith(Zx)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return dn.warn(e.message),""}return t}function NI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ZB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function e8(t,e){const n=ZB("firebase-js-sdk-policy",{createScriptURL:JB}),r=document.createElement("script"),s=`${Zx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function t8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function n8(t,e,n,r,s,a){const o=r[s];try{if(o)await e[o];else{const c=(await NI(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){dn.error(l)}t("config",s,a)}async function r8(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await NI(n);for(const c of o){const d=l.find(m=>m.measurementId===c),h=d&&e[d.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){dn.error(a)}}function s8(t,e,n,r){async function s(a,...o){try{if(a==="event"){const[l,c]=o;await r8(t,e,n,l,c)}else if(a==="config"){const[l,c]=o;await n8(t,e,n,r,l,c)}else if(a==="consent"){const[l,c]=o;t("consent",l,c)}else if(a==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(a==="set"){const[l]=o;t("set",l)}else t(a,...o)}catch(l){dn.error(l)}}return s}function i8(t,e,n,r,s){let a=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=s8(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function a8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Zx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=30,l8=1e3;class c8{constructor(e={},n=l8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jI=new c8;function u8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function d8(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:u8(r)},a=XB.replace("{app-id}",n),o=await fetch(a,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function h8(t,e=jI,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw bn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw bn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new p8;return setTimeout(async()=>{l.abort()},QB),kI({appId:r,apiKey:s,measurementId:a},o,l,e)}async function kI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=jI){var a;const{appId:o,measurementId:l}=t;try{await m8(r,e)}catch(c){if(l)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await d8(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!f8(d)){if(s.deleteThrottleMetadata(o),l)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw c}const h=Number((a=d==null?void 0:d.customData)===null||a===void 0?void 0:a.httpStatus)===503?Uw(n,s.intervalMillis,o8):Uw(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,m),dn.debug(`Calling attemptFetch again in ${h} millis`),kI(t,m,r,s)}}function m8(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function f8(t){if(!(t instanceof On)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class p8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function g8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(){if(qE())try{await KE()}catch(t){return dn.warn(bn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function x8(t,e,n,r,s,a,o){var l;const c=h8(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>dn.error(g)),e.push(c);const d=v8().then(g=>{if(g)return r.getId()}),[h,m]=await Promise.all([c,d]);a8(a)||e8(a,h.measurementId),s("js",new Date);const p=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return p[GB]="firebase",p.update=!0,m!=null&&(p[KB]=m),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.app=e}_delete(){return delete yl[this.app.options.appId],Promise.resolve()}}let yl={},a_=[];const o_={};let Of="dataLayer",b8="gtag",l_,EI,c_=!1;function w8(){const t=[];if(WE()&&t.push("This is a browser extension environment."),NM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}function _8(t,e,n){w8();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(yl[r]!=null)throw bn.create("already-exists",{id:r});if(!c_){t8(Of);const{wrappedGtag:a,gtagCore:o}=i8(yl,a_,o_,Of,b8);EI=a,l_=o,c_=!0}return yl[r]=x8(t,a_,o_,e,l_,Of,n),new y8(t)}function N8(t=Vh()){t=je(t);const e=Ws(t,eh);return e.isInitialized()?e.getImmediate():j8(t)}function j8(t,e={}){const n=Ws(t,eh);if(n.isInitialized()){const s=n.getImmediate();if(ql(e,n.getOptions()))return s;throw bn.create("already-initialized")}return n.initialize({options:e})}function k8(t,e,n,r){t=je(t),g8(EI,yl[t.app.options.appId],e,n,r).catch(s=>dn.error(s))}const u_="@firebase/analytics",d_="0.10.8";function E8(){Kn(new Dn(eh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return _8(r,s,n)},"PUBLIC")),Kn(new Dn("analytics-internal",t,"PRIVATE")),un(u_,d_),un(u_,d_,"esm2017");function t(e){try{const n=e.getProvider(eh).getImmediate();return{logEvent:(r,s,a)=>k8(n,r,s,a)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}}}E8();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebasestorage.googleapis.com",II="storageBucket",T8=2*60*1e3,I8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends On{constructor(e,n,r=0){super(Mf(e),`Firebase Storage: ${n} (${Mf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Mf(t){return"storage/"+t}function e0(){const t="An unknown error occurred, please check the error payload for server response.";return new $e(Be.UNKNOWN,t)}function S8(t){return new $e(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function P8(t){return new $e(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function A8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(Be.UNAUTHENTICATED,t)}function C8(){return new $e(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function R8(t){return new $e(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function D8(){return new $e(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V8(){return new $e(Be.CANCELED,"User canceled the upload/download.")}function O8(t){return new $e(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function M8(t){return new $e(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function L8(){return new $e(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+II+"' property when initializing the app?")}function F8(){return new $e(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function z8(){return new $e(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function U8(t){return new $e(Be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ig(t){return new $e(Be.INVALID_ARGUMENT,t)}function SI(){return new $e(Be.APP_DELETED,"The Firebase app was deleted.")}function B8(t){return new $e(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bl(t,e){return new $e(Be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lo(t){throw new $e(Be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qt.makeFromUrl(e,n)}catch{return new qt(e,"")}if(r.path==="")return r;throw M8(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(S){S.path_=decodeURIComponent(S.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${h}/b/${s}/o${p}`,"i"),N={bucket:1,path:3},E=n===TI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${E}/${s}/${_}`,"i"),b=[{regex:l,indices:c,postModify:a},{regex:g,indices:N,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let S=0;S<b.length;S++){const D=b[S],V=D.regex.exec(e);if(V){const T=V[D.indices.bucket];let x=V[D.indices.path];x||(x=""),r=new qt(T,x),D.postModify(r);break}}if(r==null)throw O8(e);return r}}class $8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t,e,n){let r=1,s=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(..._){d||(d=!0,e.apply(null,_))}function m(_){s=setTimeout(()=>{s=null,t(g,c())},_)}function p(){a&&clearTimeout(a)}function g(_,...w){if(d){p();return}if(_){p(),h.call(null,_,...w);return}if(c()||o){p(),h.call(null,_,...w);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,m(b)}let N=!1;function E(_){N||(N=!0,p(),!d&&(s!==null?(_||(l=2),clearTimeout(s),m(0)):_||(l=1)))}return m(0),a=setTimeout(()=>{o=!0,E(!0)},n),E}function W8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){return t!==void 0}function K8(t){return typeof t=="object"&&!Array.isArray(t)}function t0(t){return typeof t=="string"||t instanceof String}function h_(t){return n0()&&t instanceof Blob}function n0(){return typeof Blob<"u"}function Sg(t,e,n,r){if(r<e)throw Ig(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ig(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function PI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var wi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wi||(wi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,s,a,o,l,c,d,h,m,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,N)=>{this.resolve_=g,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new wu(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===wi.NO_ERROR,c=a.getStatus();if(!l||G8(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===wi.ABORT;r(!1,new wu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new wu(d,a))})},n=(r,s)=>{const a=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());q8(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=e0();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?SI():V8();o(c)}else{const c=D8();o(c)}};this.canceled_?n(!1,new wu(!1,null,!0)):this.backoffId_=H8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&W8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function X8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Y8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Z8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e9(t,e,n,r,s,a,o=!0){const l=PI(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return J8(d,e),X8(d,n),Y8(d,a),Z8(d,r),new Q8(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n9(...t){const e=t9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(n0())return new Blob(t);throw new $e(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(typeof atob>"u")throw U8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lf{constructor(e,n){this.data=e,this.contentType=n||null}}function i9(t,e){switch(t){case rr.RAW:return new Lf(AI(e));case rr.BASE64:case rr.BASE64URL:return new Lf(CI(t,e));case rr.DATA_URL:return new Lf(o9(e),l9(e))}throw e0()}function AI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function a9(t){let e;try{e=decodeURIComponent(t)}catch{throw bl(rr.DATA_URL,"Malformed data URL.")}return AI(e)}function CI(t,e){switch(t){case rr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw bl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case rr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw bl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s9(e)}catch(s){throw s.message.includes("polyfill")?s:bl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class RI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bl(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=c9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function o9(t){const e=new RI(t);return e.base64?CI(rr.BASE64,e.rest):a9(e.rest)}function l9(t){return new RI(t).contentType}function c9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){let r=0,s="";h_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(h_(this.data_)){const r=this.data_,s=r9(r,e,n);return s===null?null:new us(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new us(r,!0)}}static getBlob(...e){if(n0()){const n=e.map(r=>r instanceof us?r.data_:r);return new us(n9.apply(null,n))}else{const n=e.map(o=>t0(o)?i9(rr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[a++]=o[l]}),new us(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){let e;try{e=JSON.parse(t)}catch{return null}return K8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function DI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e){return e}class zt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||h9}}let _u=null;function m9(t){return!t0(t)||t.length<2?t:DI(t)}function VI(){if(_u)return _u;const t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(a,o){return m9(o)}const n=new zt("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const s=new zt("size");return s.xform=r,t.push(s),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),_u=t,_u}function f9(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new qt(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function p9(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return f9(r,t),r}function OI(t,e,n){const r=r0(e);return r===null?null:p9(t,r,n)}function g9(t,e,n,r){const s=r0(e);if(s===null||!t0(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(d=>{const h=t.bucket,m=t.fullPath,p="/b/"+o(h)+"/o/"+o(m),g=Tc(p,n,r),N=PI({alt:"media",token:d});return g+N})[0]}function v9(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="prefixes",f_="items";function x9(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[m_])for(const s of n[m_]){const a=s.replace(/\/$/,""),o=t._makeStorageReference(new qt(e,a));r.prefixes.push(o)}if(n[f_])for(const s of n[f_]){const a=t._makeStorageReference(new qt(e,s.name));r.items.push(a)}return r}function y9(t,e,n){const r=r0(n);return r===null?null:x9(t,e,r)}class im{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){if(!t)throw e0()}function b9(t,e){function n(r,s){const a=OI(t,s,e);return s0(a!==null),a}return n}function w9(t,e){function n(r,s){const a=y9(t,e,s);return s0(a!==null),a}return n}function _9(t,e){function n(r,s){const a=OI(t,s,e);return s0(a!==null),g9(a,s,t.host,t._protocol)}return n}function i0(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=C8():s=A8():n.getStatus()===402?s=P8(t.bucket):n.getStatus()===403?s=R8(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function MI(t){const e=i0(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=S8(t.path)),a.serverResponse=s.serverResponse,a}return n}function N9(t,e,n,r,s){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),s&&(a.maxResults=s);const o=e.bucketOnlyServerUrl(),l=Tc(o,t.host,t._protocol),c="GET",d=t.maxOperationRetryTime,h=new im(l,c,w9(t,e.bucket),d);return h.urlParams=a,h.errorHandler=i0(e),h}function j9(t,e,n){const r=e.fullServerUrl(),s=Tc(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new im(s,a,_9(t,n),o);return l.errorHandler=MI(e),l}function k9(t,e){const n=e.fullServerUrl(),r=Tc(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function o(c,d){}const l=new im(r,s,o,a);return l.successCodes=[200,204],l.errorHandler=MI(e),l}function E9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function T9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=E9(null,e)),r}function I9(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let S=0;S<2;S++)b=b+Math.random().toString().slice(2);return b}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=T9(e,r,s),h=v9(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",g=us.getBlob(m,r,p);if(g===null)throw F8();const N={name:d.fullPath},E=Tc(a,t.host,t._protocol),_="POST",w=t.maxUploadRetryTime,y=new im(E,_,b9(t,n),w);return y.urlParams=N,y.headers=o,y.body=g.uploadData(),y.errorHandler=i0(e),y}class S9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Lo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class P9 extends S9{initXhr(){this.xhr_.responseType="text"}}function am(){return new P9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this._service=e,n instanceof qt?this._location=n:this._location=qt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mi(e,n)}get root(){const e=new qt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DI(this._location.path)}get storage(){return this._service}get parent(){const e=u9(this._location.path);if(e===null)return null;const n=new qt(this._location.bucket,e);return new Mi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw B8(e)}}function A9(t,e,n){t._throwIfRoot("uploadBytes");const r=I9(t.storage,t._location,VI(),new us(e,!0),n);return t.storage.makeRequestWithTokens(r,am).then(s=>({metadata:s,ref:t}))}function C9(t){const e={prefixes:[],items:[]};return LI(t,e).then(()=>e)}async function LI(t,e,n){const s=await R9(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&await LI(t,e,s.nextPageToken)}function R9(t,e){e!=null&&typeof e.maxResults=="number"&&Sg("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=N9(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,am)}function D9(t){t._throwIfRoot("getDownloadURL");const e=j9(t.storage,t._location,VI());return t.storage.makeRequestWithTokens(e,am).then(n=>{if(n===null)throw z8();return n})}function V9(t){t._throwIfRoot("deleteObject");const e=k9(t.storage,t._location);return t.storage.makeRequestWithTokens(e,am)}function O9(t,e){const n=d9(t._location.path,e),r=new qt(t._location.bucket,n);return new Mi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){return/^[A-Za-z]+:\/\//.test(t)}function L9(t,e){return new Mi(t,e)}function FI(t,e){if(t instanceof a0){const n=t;if(n._bucket==null)throw L8();const r=new Mi(n,n._bucket);return e!=null?FI(r,e):r}else return e!==void 0?O9(t,e):t}function F9(t,e){if(e&&M9(e)){if(t instanceof a0)return L9(t,e);throw Ig("To use ref(service, url), the first argument must be a Storage instance.")}else return FI(t,e)}function p_(t,e){const n=e==null?void 0:e[II];return n==null?null:qt.makeFromBucketSpec(n,t)}function z9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:HE(s,t.app.options.projectId))}class a0{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=TI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T8,this._maxUploadRetryTime=I8,this._requests=new Set,s!=null?this._bucket=qt.makeFromBucketSpec(s,this._host):this._bucket=p_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qt.makeFromBucketSpec(this._url,e):this._bucket=p_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mi(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new $8(SI());{const o=e9(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const g_="@firebase/storage",v_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="storage";function Qu(t,e,n){return t=je(t),A9(t,e,n)}function x_(t){return t=je(t),C9(t)}function Ca(t){return t=je(t),D9(t)}function U9(t){return t=je(t),V9(t)}function Ss(t,e){return t=je(t),F9(t,e)}function B9(t=Vh(),e){t=je(t);const r=Ws(t,zI).getImmediate({identifier:e}),s=UE("storage");return s&&$9(r,...s),r}function $9(t,e,n,r={}){z9(t,e,n,r)}function H9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new a0(n,r,s,e,Hi)}function W9(){Kn(new Dn(zI,H9,"PUBLIC").setMultipleInstances(!0)),un(g_,v_,""),un(g_,v_,"esm2017")}W9();const q9={apiKey:"AIzaSyBLBVCY4a7tyvxqoRXSV9hPx5yQ8y4bUtk",authDomain:"fixmyvideo-ai.firebaseapp.com",projectId:"fixmyvideo-ai",storageBucket:"fixmyvideo-ai.firebasestorage.app",messagingSenderId:"453642966670",appId:"1:453642966670:web:aef60d2bb058616a491bdf",measurementId:"G-K50SRKDJWK"},om=YE(q9),Zn=rF(om);Zn.useDeviceLanguage();Zn.settings.appVerificationDisabledForTesting=!0;H6(Zn,E2);N8(om);const Qe=WU(om),Ps=B9(om),th=async(t,e)=>{try{const n=`orders/${t}/${e}/images`,r=`orders/${t}/${e}/videos`,s=Ss(Ps,n),a=Ss(Ps,r),[o,l]=await Promise.all([x_(s).catch(()=>({items:[]})),x_(a).catch(()=>({items:[]}))]),c=await Promise.all(o.items.map(async h=>{try{return await Ca(h)}catch(m){return console.error("Error getting image URL:",m),null}})),d=await Promise.all(l.items.map(async h=>{try{return await Ca(h)}catch(m){return console.error("Error getting video URL:",m),null}}));return{images:c.filter(h=>h!==null),videos:d.filter(h=>h!==null)}}catch(n){return console.error("Error getting order files:",n),{images:[],videos:[]}}},K9=async()=>{const t=nr(Qe,"counters","orders"),e=await Ja(t);let n=1;e.exists()&&(n=e.data().count+1);const r=`ORD-${n.toString().padStart(5,"0")}`;return await nm(Vn(Qe,"counters"),{id:"orders",count:n,updatedAt:new Date}),r},UI=k.createContext(void 0),_t=()=>{const t=k.useContext(UI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},G9=({children:t})=>{const[e,n]=k.useState(null),[r,s]=k.useState(null),[a,o]=k.useState(!0),[l,c]=k.useState(null),[d,h]=k.useState(!1),[m,p]=k.useState(!1);k.useEffect(()=>{const S=Zn.onAuthStateChanged(async D=>{var V;if(n(D),D){h(D.emailVerified);const T=D.email==="admin@fixmyvideo.io"||((V=D.email)==null?void 0:V.endsWith("@fixmyvideo.io"));p(!!T)}if(D)try{const T=nr(Qe,"users",D.uid),x=await Ja(T);if(x.exists())s(x.data());else{const j={uid:D.uid,email:D.email,displayName:D.displayName,photoURL:D.photoURL,createdAt:Date.now()};await r_(T,j),s(j)}}catch(T){console.error("Error fetching user data:",T)}else s(null);o(!1)});return()=>S()},[]);const b={currentUser:e,userData:r,isAdmin:m,loading:a,login:async(S,D)=>{c(null);try{const V=await a1(Zn,S,D);return re.success("Erfolgreich angemeldet!"),V}catch(V){let T="Anmeldung fehlgeschlagen";throw V.code==="auth/invalid-credential"?T="Ungültige E-Mail oder Passwort":V.code==="auth/too-many-requests"&&(T="Zu viele fehlgeschlagene Anmeldeversuche. Versuchen Sie es später erneut"),c(T),re.error(T),new Error(T)}},register:async(S,D,V)=>{c(null);try{const{user:T}=await z6(Zn,S,D);await o1(T,{displayName:V});const x=nr(Qe,"users",T.uid);await r_(x,{uid:T.uid,email:T.email,displayName:V,photoURL:null,createdAt:Date.now()}),re.success("Account erfolgreich erstellt!")}catch(T){let x="Registrierung fehlgeschlagen";throw T.code==="auth/email-already-in-use"?x="Diese E-Mail-Adresse wird bereits verwendet":T.code==="auth/weak-password"&&(x="Das Passwort ist zu schwach"),c(x),re.error(x),new Error(x)}},logout:async()=>{try{await K6(Zn),re.success("Erfolgreich abgemeldet")}catch(S){throw c("Abmeldung fehlgeschlagen"),re.error("Abmeldung fehlgeschlagen"),S}},resetPassword:async S=>{c(null);try{await F6(Zn,S),re.success("E-Mail zum Zurücksetzen des Passworts wurde gesendet")}catch(D){let V="Passwort zurücksetzen fehlgeschlagen";throw D.code==="auth/user-not-found"?V="Kein Benutzer mit dieser E-Mail gefunden":D.code==="auth/invalid-email"&&(V="Ungültige E-Mail-Adresse"),c(V),re.error(V),new Error(V)}},updateUserProfile:async S=>{if(!e)throw new Error("Kein angemeldeter Benutzer");try{const D=nr(Qe,"users",e.uid);await Jd(D,S),S.displayName&&await o1(e,{displayName:S.displayName});const V=await Ja(D);V.exists()&&s(V.data()),re.success("Profil erfolgreich aktualisiert")}catch(D){throw c("Profil konnte nicht aktualisiert werden"),re.error("Profil konnte nicht aktualisiert werden"),D}},updateUserPassword:async(S,D)=>{if(!e)throw new Error("Kein angemeldeter Benutzer");try{await a1(Zn,e.email,S)&&(await B6(e,D),re.success("Passwort erfolgreich aktualisiert"))}catch(V){let T="Passwort konnte nicht aktualisiert werden";throw V.code==="auth/wrong-password"?T="Aktuelles Passwort ist falsch":V.code==="auth/weak-password"&&(T="Das neue Passwort ist zu schwach"),c(T),re.error(T),V}},error:l,isEmailVerified:d};return i.jsx(UI.Provider,{value:b,children:!a&&t})},Q9=()=>{var S;const[t,e]=k.useState(!1),[n,r]=k.useState(!1),[s,a]=k.useState(!0),[o,l]=k.useState(!1),c=k.useRef(0),d=k.useRef(null),h=k.useRef(null),m=ct(),p=Yt(),{currentUser:g,userData:N,logout:E,isAdmin:_}=_t(),w=()=>{e(!t),s||a(!0)},y=()=>{l(!o)};k.useEffect(()=>{const D=()=>{if(t)return;const V=window.scrollY;if(V<10){r(!1),a(!0),c.current=V;return}V>80?(r(!0),V>c.current+10?a(!1):V<c.current-10&&a(!0)):r(!0),c.current=V};return window.addEventListener("scroll",D,{passive:!0}),()=>{window.removeEventListener("scroll",D)}},[t]),k.useEffect(()=>{function D(V){h.current&&!h.current.contains(V.target)&&!V.target.closest(".profile-trigger")&&l(!1)}return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),k.useEffect(()=>(t?(document.body.style.overflow="hidden",document.body.style.touchAction="none",a(!0)):(document.body.style.overflow="auto",document.body.style.touchAction="auto"),()=>{document.body.style.overflow="auto",document.body.style.touchAction="auto"}),[t]),k.useEffect(()=>{e(!1),l(!1)},[m]);const b=async()=>{try{await E(),p("/")}catch(D){console.error("Logout error:",D)}};return i.jsxs("header",{ref:d,className:`bg-fmv-carbon-darker/90 backdrop-blur-sm text-fmv-silk fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"border-b border-fmv-carbon-light/30 py-3":"py-6"} ${s||t?"translate-y-0":"-translate-y-full"}`,children:[i.jsx("div",{className:"container mx-auto px-4 sm:px-8",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(U,{to:"/",className:"group z-20 relative",children:i.jsx("img",{src:"https://i.imgur.com/woSig5t.png",alt:"FixMyVideo Logo",className:`transition-all duration-300 ${n?"h-12 sm:h-16":"h-14 sm:h-20"}`})}),i.jsx("button",{className:"md:hidden text-fmv-silk p-2 z-20 relative",onClick:w,"aria-label":"Toggle menu",children:i.jsx(Dt,{mode:"wait",initial:!1,children:t?i.jsx($.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:i.jsx(K4,{size:24})},"close"):i.jsx($.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:i.jsx(Rv,{size:24})},"menu")})}),i.jsxs("nav",{className:"hidden md:flex space-x-8 items-center",children:[i.jsx(it,{to:"/prozess",className:({isActive:D})=>D?"text-fmv-orange font-light":"text-fmv-silk text-opacity-80 font-light transition-colors hover:text-fmv-orange",children:"So funktioniert's"}),i.jsx(it,{to:"/preise",className:({isActive:D})=>D?"text-fmv-orange font-light":"text-fmv-silk text-opacity-80 font-light transition-colors hover:text-fmv-orange",children:"Preise"}),i.jsx(it,{to:"/beispiele",className:({isActive:D})=>D?"text-fmv-orange font-light":"text-fmv-silk text-opacity-80 font-light transition-colors hover:text-fmv-orange",children:"Beispiele"}),i.jsx(it,{to:"/ueber-uns",className:({isActive:D})=>D?"text-fmv-orange font-light":"text-fmv-silk text-opacity-80 font-light transition-colors hover:text-fmv-orange",children:"Über Uns"}),i.jsx(it,{to:"/kontakt",className:({isActive:D})=>D?"text-fmv-orange font-light":"text-fmv-silk text-opacity-80 font-light transition-colors hover:text-fmv-orange",children:"Kontakt"}),g?i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:y,className:"flex items-center space-x-2 text-fmv-silk hover:text-fmv-orange transition-colors profile-trigger",children:[i.jsx("div",{className:"relative",children:i.jsx("div",{className:"w-8 h-8 bg-fmv-orange/20 rounded-full flex items-center justify-center",children:i.jsx(Fr,{size:14,className:"text-fmv-orange"})})}),i.jsx("span",{className:"font-light flex items-center",children:i.jsx("span",{children:(N==null?void 0:N.displayName)||"Mein Konto"})})]}),i.jsx(Dt,{children:o&&i.jsx($.div,{ref:h,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-fmv-carbon-darker border border-fmv-carbon-light/30 z-30",children:i.jsxs("div",{className:"py-1",children:[i.jsx(U,{to:"/dashboard",className:"block px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",children:"Dashboard"}),_&&i.jsx(U,{to:"/admin",className:"block px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",children:i.jsxs("span",{className:"flex items-center",children:[i.jsx(Lr,{className:"h-4 w-4 mr-2 text-red-500"}),"Admin-Bereich"]})}),i.jsx(U,{to:"/dashboard/videos",className:"block px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",children:"Meine Videos"}),i.jsx(U,{to:"/dashboard/settings",className:"block px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",children:"Einstellungen"}),i.jsx("button",{onClick:b,className:"block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-fmv-carbon-light/10 border-t border-fmv-carbon-light/20",children:"Abmelden"})]})})})]}):i.jsx(U,{to:"/auth/login",className:"fmv-primary-btn px-5 py-2 font-light",children:"Anmelden"}),i.jsx(U,{to:"/bestellen",className:"fmv-primary-btn px-5 py-2 font-light",children:"Video Bestellen"})]})]})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fmv-orange/30 to-transparent"}),i.jsx(Dt,{children:t&&i.jsx($.div,{className:"md:hidden fixed inset-0 bg-fmv-carbon-darker/95 backdrop-blur-lg text-fmv-silk z-40 flex flex-col overflow-y-auto",style:{top:d.current?d.current.offsetHeight:"auto",height:`calc(100vh - ${((S=d.current)==null?void 0:S.offsetHeight)||0}px)`},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:i.jsxs("div",{className:"container mx-auto px-6 py-8 flex flex-col h-full",children:[i.jsxs("nav",{className:"flex flex-col space-y-6",children:[i.jsx(it,{to:"/prozess",className:({isActive:D})=>`text-2xl font-light ${D?"text-fmv-orange":"text-fmv-silk"} flex items-center`,children:i.jsx($.span,{whileTap:{scale:.95},children:"So funktioniert's"})}),i.jsx(it,{to:"/preise",className:({isActive:D})=>`text-2xl font-light ${D?"text-fmv-orange":"text-fmv-silk"} flex items-center`,children:i.jsx($.span,{whileTap:{scale:.95},children:"Preise"})}),i.jsx(it,{to:"/beispiele",className:({isActive:D})=>`text-2xl font-light ${D?"text-fmv-orange":"text-fmv-silk"} flex items-center`,children:i.jsx($.span,{whileTap:{scale:.95},children:"Beispiele"})}),i.jsx(it,{to:"/ueber-uns",className:({isActive:D})=>`text-2xl font-light ${D?"text-fmv-orange":"text-fmv-silk"} flex items-center`,children:i.jsx($.span,{whileTap:{scale:.95},children:"Über Uns"})}),i.jsx(it,{to:"/kontakt",className:({isActive:D})=>`text-2xl font-light ${D?"text-fmv-orange":"text-fmv-silk"} flex items-center`,children:i.jsx($.span,{whileTap:{scale:.95},children:"Kontakt"})}),g?i.jsxs(i.Fragment,{children:[i.jsx(it,{to:"/dashboard",className:({isActive:D})=>`text-2xl font-light ${D?"text-fmv-orange":"text-fmv-silk"} flex items-center`,children:i.jsx($.span,{whileTap:{scale:.95},children:"Dashboard"})}),i.jsx("button",{onClick:b,className:"text-2xl font-light text-red-400 flex items-center",children:i.jsxs($.span,{whileTap:{scale:.95},className:"flex items-center",children:[i.jsx(uc,{className:"mr-2 h-5 w-5"}),"Abmelden"]})})]}):i.jsx(it,{to:"/auth/login",className:({isActive:D})=>`text-2xl font-light ${D?"text-fmv-orange":"text-fmv-silk"} flex items-center`,children:i.jsxs($.span,{whileTap:{scale:.95},children:[i.jsx(Fr,{className:"mr-2 h-5 w-5 inline"}),"Anmelden"]})})]}),i.jsx("div",{className:"mt-auto pt-8 pb-6 border-t border-fmv-carbon-light/20",children:i.jsx($.div,{whileTap:{scale:.98},children:i.jsx(U,{to:"/bestellen",className:"fmv-primary-btn px-6 py-3 inline-block text-xl font-light w-full text-center",children:"Video Bestellen"})})})]})})})]})},X9=()=>{const{currentUser:t}=_t();return i.jsx("footer",{className:"bg-fmv-carbon-darker py-12 lg:py-16 text-fmv-silk border-t border-fmv-carbon-light/20",children:i.jsxs("div",{className:"container mx-auto px-6 sm:px-8",children:[i.jsxs("div",{className:"flex flex-col gap-10",children:[i.jsxs("div",{className:"max-w-md",children:[i.jsx(U,{to:"/",className:"inline-block mb-6",children:i.jsx("img",{src:"https://i.imgur.com/woSig5t.png",alt:"FixMyVideo Logo",className:"h-16"})}),i.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"KI-gestützte Umwandlung von Kundenbildern in professionelle Marketing-Videos. Schweizer Qualität seit 2025."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Rs,{className:"h-5 w-5 text-fmv-orange mr-3"}),i.jsxs("span",{className:"text-sm",children:[i.jsx("span",{className:"text-fmv-silk/80 font-medium",children:"E-Mail: "}),i.jsx("a",{href:"mailto:info@fixmyvideo.io",className:"text-gray-400 hover:text-fmv-orange transition-colors",children:"info@fixmyvideo.io"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(mk,{className:"h-5 w-5 text-fmv-orange mr-3"}),i.jsxs("span",{className:"text-sm",children:[i.jsx("span",{className:"text-fmv-silk/80 font-medium",children:"Telefon: "}),i.jsx("a",{href:"tel:+41434443366",className:"text-gray-400 hover:text-fmv-orange transition-colors",children:"+41 43 444 33 66"})]})]})]})]}),i.jsxs("div",{className:"hidden sm:grid grid-cols-3 gap-8 sm:gap-16",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-orange text-sm font-medium uppercase mb-4",children:"Seiten"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(U,{to:"/",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Homepage"})}),i.jsx("li",{children:i.jsx(U,{to:"/prozess",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"So funktioniert's"})}),i.jsx("li",{children:i.jsx(U,{to:"/preise",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Preise"})}),i.jsx("li",{children:i.jsx(U,{to:"/beispiele",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Beispiele"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-orange text-sm font-medium uppercase mb-4",children:"Service"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(U,{to:"/bestellen",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Video Bestellen"})}),i.jsx("li",{children:i.jsx(U,{to:"/ueber-uns",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Über Uns"})}),i.jsx("li",{children:i.jsx(U,{to:"/kontakt",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Kontakt"})}),t?i.jsx("li",{children:i.jsx(U,{to:"/dashboard",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Mein Konto"})}):i.jsx("li",{children:i.jsx(U,{to:"/auth/login",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Anmelden"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-orange text-sm font-medium uppercase mb-4",children:"Rechtliches"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(U,{to:"/impressum",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Impressum"})}),i.jsx("li",{children:i.jsx(U,{to:"/datenschutz",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Datenschutz"})}),i.jsx("li",{children:i.jsx(U,{to:"/agb",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"AGB"})})]})]})]}),i.jsxs("div",{className:"sm:hidden space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-orange text-sm font-medium uppercase mb-3",children:"Seiten"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx(U,{to:"/",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Homepage"})}),i.jsx("li",{children:i.jsx(U,{to:"/prozess",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"So funktioniert's"})}),i.jsx("li",{children:i.jsx(U,{to:"/preise",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Preise"})}),i.jsx("li",{children:i.jsx(U,{to:"/beispiele",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Beispiele"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-orange text-sm font-medium uppercase mb-3",children:"Service"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx(U,{to:"/bestellen",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Video Bestellen"})}),i.jsx("li",{children:i.jsx(U,{to:"/ueber-uns",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Über Uns"})}),i.jsx("li",{children:i.jsx(U,{to:"/kontakt",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm",children:"Kontakt"})}),t?i.jsx("li",{children:i.jsxs(U,{to:"/dashboard",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm flex items-center",children:[i.jsx(Fr,{className:"h-3.5 w-3.5 mr-1"}),"Mein Konto"]})}):i.jsx("li",{children:i.jsxs(U,{to:"/auth/login",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm flex items-center",children:[i.jsx(Fr,{className:"h-3.5 w-3.5 mr-1"}),"Anmelden"]})})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-orange text-sm font-medium uppercase mb-3",children:"Rechtliches"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(U,{to:"/impressum",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm bg-fmv-carbon-light/10 px-3 py-1 rounded-full",children:"Impressum"}),i.jsx(U,{to:"/datenschutz",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm bg-fmv-carbon-light/10 px-3 py-1 rounded-full",children:"Datenschutz"}),i.jsx(U,{to:"/agb",className:"text-gray-400 hover:text-fmv-orange transition-colors text-sm bg-fmv-carbon-light/10 px-3 py-1 rounded-full",children:"AGB"})]})]})]})]}),i.jsxs("div",{className:"mt-10 pt-6 border-t border-fmv-carbon-light/10 flex flex-col sm:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 - Alle Rechte vorbehalten."}),i.jsxs(U,{to:"/bestellen",className:"mt-4 sm:mt-0 inline-flex items-center text-fmv-orange hover:text-fmv-orange-light transition-colors group",children:[i.jsx("span",{children:"Jetzt Video erstellen"}),i.jsx(Xe,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform duration-300"})]})]})]})})},Y9=()=>{const t=ct(),[e,n]=k.useState(0),r=k.useRef(null),s=k.useRef(null);return k.useEffect(()=>{const a=document.querySelector("header");return a&&window.ResizeObserver&&(r.current=new ResizeObserver(o=>{for(let l of o){const c=l.contentRect.height;n(c),s.current&&(s.current.style.paddingTop=`${c}px`)}}),r.current.observe(a)),()=>{r.current&&r.current.disconnect()}},[]),k.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),i.jsxs("div",{className:"flex flex-col min-h-screen font-manrope bg-fmv-carbon text-fmv-silk relative",children:[i.jsx("div",{className:"fixed inset-0 bg-grid-pattern opacity-10 mix-blend-overlay pointer-events-none z-0"}),i.jsx(Q9,{}),i.jsx("main",{ref:s,className:"flex-grow relative z-10",style:{paddingTop:`${e}px`,minHeight:`calc(100vh - ${e}px)`},children:i.jsx(wh,{})}),i.jsx(X9,{})]})},y_=()=>{const{logout:t,isAdmin:e}=_t();return i.jsx("aside",{className:"bg-fmv-carbon-darker h-full border-r border-fmv-carbon-light/20 overflow-y-auto no-scrollbar",children:i.jsxs("div",{className:"py-4",children:[i.jsx("div",{className:"px-4 pb-4 border-b border-fmv-carbon-light/20 md:hidden",children:i.jsx(U,{to:"/",className:"block",children:i.jsx("img",{src:"https://i.imgur.com/woSig5t.png",alt:"FixMyVideo Logo",className:"h-10"})})}),i.jsxs("nav",{className:"mt-4 space-y-1 px-2",children:[i.jsxs(it,{to:"/dashboard",end:!0,className:({isActive:n})=>`flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors ${n?"bg-fmv-carbon text-fmv-orange border-l-2 border-fmv-orange":"text-fmv-silk hover:bg-fmv-carbon hover:text-fmv-orange"}`,children:[i.jsx(dk,{size:18,className:"mr-3"}),"Dashboard"]}),i.jsxs(it,{to:"/dashboard/orders",className:({isActive:n})=>`flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors ${n?"bg-fmv-carbon text-fmv-orange border-l-2 border-fmv-orange":"text-fmv-silk hover:bg-fmv-carbon hover:text-fmv-orange"}`,children:[i.jsx(vi,{size:18,className:"mr-3"}),"Bestellungen"]}),i.jsxs(it,{to:"/dashboard/videos",className:({isActive:n})=>`flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors ${n?"bg-fmv-carbon text-fmv-orange border-l-2 border-fmv-orange":"text-fmv-silk hover:bg-fmv-carbon hover:text-fmv-orange"}`,children:[i.jsx(gi,{size:18,className:"mr-3"}),"Meine Videos"]}),i.jsxs(it,{to:"/dashboard/settings",className:({isActive:n})=>`flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors ${n?"bg-fmv-carbon text-fmv-orange border-l-2 border-fmv-orange":"text-fmv-silk hover:bg-fmv-carbon hover:text-fmv-orange"}`,children:[i.jsx(Mr,{size:18,className:"mr-3"}),"Einstellungen"]}),i.jsxs("div",{className:"pt-4 mt-4 border-t border-fmv-carbon-light/20 px-4",children:[e&&i.jsxs(U,{to:"/admin",className:"flex items-center justify-center py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors mb-3",children:[i.jsx(Shield,{size:16,className:"mr-2"}),"Admin-Bereich"]}),i.jsxs(U,{to:"/bestellen",className:"flex items-center justify-center py-2 px-4 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light transition-colors",children:[i.jsx(gi,{size:16,className:"mr-2"}),"Neues Video"]})]}),i.jsx("div",{className:"hidden md:block mt-6",children:i.jsxs("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-red-400 hover:bg-fmv-carbon rounded-md transition-colors",children:[i.jsx(uc,{size:18,className:"mr-3"}),"Abmelden"]})})]})]})})},J9=({toggleMobileNav:t,pageTitle:e})=>{const[n,r]=an.useState(!1),{currentUser:s,userData:a,logout:o}=_t(),l=Yt(),c=an.useRef(null);an.useEffect(()=>{function h(m){c.current&&!c.current.contains(m.target)&&!m.target.closest(".profile-trigger")&&r(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const d=async()=>{try{await o(),l("/")}catch(h){console.error("Logout error:",h)}};return i.jsxs("header",{className:"bg-fmv-carbon-darker/90 backdrop-blur-sm text-fmv-silk fixed top-0 left-0 right-0 h-14 sm:h-16 border-b border-fmv-carbon-light/30 z-30 shadow-sm",children:[i.jsx("div",{className:"container mx-auto h-full px-4",children:i.jsxs("div",{className:"flex justify-between items-center h-full",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{className:"md:hidden p-2 mr-2 text-fmv-silk hover:text-fmv-orange transition-colors",onClick:t,"aria-label":"Toggle navigation",children:i.jsx(Rv,{size:24})}),i.jsx(U,{to:"/",className:"hidden md:block",children:i.jsx("img",{src:"https://i.imgur.com/woSig5t.png",alt:"FixMyVideo Logo",className:"h-10 sm:h-12"})}),i.jsx("div",{className:"md:hidden font-medium text-lg ml-2",children:e})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{className:"p-2 text-fmv-silk hover:text-fmv-orange transition-colors relative",children:[i.jsx(ck,{size:22}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-fmv-orange rounded-full"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-fmv-silk hover:text-fmv-orange transition-colors profile-trigger","aria-label":"Open profile menu",children:[i.jsx("div",{className:"relative",children:i.jsx("div",{className:"w-8 h-8 bg-fmv-orange/20 rounded-full flex items-center justify-center",children:i.jsx(Fr,{size:14,className:"text-fmv-orange"})})}),i.jsx("span",{className:"font-light hidden md:inline-block",children:(a==null?void 0:a.displayName)||(s==null?void 0:s.email)||"Mein Konto"})]}),i.jsx(Dt,{children:n&&i.jsx($.div,{ref:c,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-fmv-carbon-darker border border-fmv-carbon-light/30 z-50",children:i.jsxs("div",{className:"py-1",children:[i.jsxs(U,{to:"/dashboard/settings",className:"flex px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",children:[i.jsx(Mr,{size:16,className:"mr-2"}),"Profil-Einstellungen"]}),i.jsxs(U,{to:"/dashboard/videos",className:"flex px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",children:[i.jsx(Ds,{size:16,className:"mr-2"}),"Meine Videos"]}),i.jsxs("button",{onClick:d,className:"flex w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-fmv-carbon-light/10 border-t border-fmv-carbon-light/20",children:[i.jsx(uc,{size:16,className:"mr-2"}),"Abmelden"]})]})})})]})]})]})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fmv-orange/30 to-transparent"})]})},Z9=()=>{const[t,e]=k.useState(!1),n=ct();k.useEffect(()=>{e(!1)},[n]);const r=()=>{switch(n.pathname.split("/").pop()||"dashboard"){case"dashboard":return"Dashboard";case"orders":return"Meine Bestellungen";case"videos":return"Meine Videos";case"settings":return"Einstellungen";case"partner":return"Partner Program";default:return"Dashboard"}},s=()=>{e(!t)};return i.jsxs("div",{className:"min-h-screen bg-fmv-carbon text-fmv-silk flex flex-col",children:[i.jsx("div",{className:"fixed inset-0 bg-grid-pattern opacity-10 mix-blend-overlay pointer-events-none z-0"}),i.jsx(Dt,{children:t&&i.jsx($.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-40 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1)})}),i.jsx(J9,{toggleMobileNav:s,pageTitle:r()}),i.jsxs("div",{className:"flex flex-1",style:{paddingTop:"4rem"},children:[i.jsx(Dt,{children:t&&i.jsx($.div,{className:"fixed inset-y-0 left-0 z-40 w-64 md:hidden",style:{paddingTop:"4rem"},initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"tween",duration:.25},children:i.jsx(y_,{})})}),i.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:i.jsx("div",{className:"sticky h-[calc(100vh-4rem)]",style:{top:"4rem"},children:i.jsx(y_,{})})}),i.jsx(Dt,{children:!t&&i.jsx($.button,{className:"fixed left-4 bottom-4 md:hidden z-30 rounded-full bg-fmv-orange p-3 shadow-lg",onClick:s,initial:{scale:0},animate:{scale:1},exit:{scale:0},whileTap:{scale:.9},children:i.jsx(hk,{size:24,className:"text-white"})})}),i.jsx("main",{className:"flex-1 p-4 md:p-8",children:i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsx(wh,{})})})]})]})},b_=()=>{const{logout:t}=_t();return i.jsx("aside",{className:"bg-fmv-carbon-darker h-full border-r border-fmv-carbon-light/20 overflow-y-auto no-scrollbar",children:i.jsxs("div",{className:"py-4",children:[i.jsx("div",{className:"px-4 pb-4 border-b border-fmv-carbon-light/20 md:hidden",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Lr,{className:"h-6 w-6 text-red-500 mr-2"}),i.jsx("span",{className:"text-white font-medium",children:"Admin Panel"})]})}),i.jsxs("nav",{className:"mt-4 space-y-1 px-2",children:[i.jsxs(it,{to:"/admin",end:!0,className:({isActive:e})=>`flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors ${e?"bg-fmv-carbon text-red-500 border-l-2 border-red-500":"text-fmv-silk hover:bg-fmv-carbon hover:text-red-500"}`,children:[i.jsx(dk,{size:18,className:"mr-3"}),"Dashboard"]}),i.jsxs(it,{to:"/admin/orders",className:({isActive:e})=>`flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors ${e?"bg-fmv-carbon text-red-500 border-l-2 border-red-500":"text-fmv-silk hover:bg-fmv-carbon hover:text-red-500"}`,children:[i.jsx(vi,{size:18,className:"mr-3"}),"Bestellungen"]}),i.jsx("div",{className:"pt-4 mt-4 border-t border-fmv-carbon-light/20 px-4",children:i.jsxs(U,{to:"/dashboard",className:"flex items-center justify-center py-2 px-4 bg-fmv-carbon-light/20 text-white rounded-md hover:bg-fmv-carbon-light/30 transition-colors",children:[i.jsx(Mr,{size:16,className:"mr-2"}),"Zum Dashboard"]})}),i.jsx("div",{className:"hidden md:block mt-6",children:i.jsxs("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-red-400 hover:bg-fmv-carbon rounded-md transition-colors",children:[i.jsx(uc,{size:18,className:"mr-3"}),"Abmelden"]})})]})]})})},e$=({toggleMobileNav:t,pageTitle:e})=>{const[n,r]=an.useState(!1),{currentUser:s,userData:a,logout:o}=_t(),l=Yt(),c=an.useRef(null);an.useEffect(()=>{function h(m){c.current&&!c.current.contains(m.target)&&!m.target.closest(".profile-trigger")&&r(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const d=async()=>{try{await o(),l("/")}catch(h){console.error("Logout error:",h)}};return i.jsxs("header",{className:"bg-red-900/90 backdrop-blur-sm text-fmv-silk fixed top-0 left-0 right-0 h-14 sm:h-16 border-b border-red-800/50 z-30 shadow-sm",children:[i.jsx("div",{className:"container mx-auto h-full px-4",children:i.jsxs("div",{className:"flex justify-between items-center h-full",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{className:"md:hidden p-2 mr-2 text-fmv-silk hover:text-fmv-orange transition-colors",onClick:t,"aria-label":"Toggle navigation",children:i.jsx(Rv,{size:24})}),i.jsxs(U,{to:"/admin",className:"hidden md:flex items-center",children:[i.jsx(Lr,{className:"h-6 w-6 text-white mr-2"}),i.jsx("span",{className:"text-white font-medium",children:"Admin Panel"})]}),i.jsxs("div",{className:"md:hidden font-medium text-lg ml-2 flex items-center",children:[i.jsx(Lr,{className:"h-5 w-5 text-white mr-2"}),e]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{className:"p-2 text-fmv-silk hover:text-fmv-orange transition-colors relative",children:[i.jsx(ck,{size:22}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-fmv-orange rounded-full"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-fmv-silk hover:text-fmv-orange transition-colors profile-trigger",children:[i.jsx("div",{className:"w-8 h-8 bg-fmv-orange/20 rounded-full flex items-center justify-center",children:i.jsx(Fr,{size:14,className:"text-fmv-orange"})}),i.jsx("span",{className:"font-light hidden md:inline-block",children:(a==null?void 0:a.displayName)||(s==null?void 0:s.email)||"Admin"})]}),i.jsx(Dt,{children:n&&i.jsx($.div,{ref:c,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-fmv-carbon-darker border border-fmv-carbon-light/30 z-50",children:i.jsxs("div",{className:"py-1",children:[i.jsxs(U,{to:"/dashboard",className:"flex px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",children:[i.jsx(Mr,{size:16,className:"mr-2"}),"Zum Dashboard"]}),i.jsxs("button",{onClick:d,className:"flex w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-fmv-carbon-light/10 border-t border-fmv-carbon-light/20",children:[i.jsx(uc,{size:16,className:"mr-2"}),"Abmelden"]})]})})})]})]})]})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-fmv-orange/30 to-transparent"})]})},t$=()=>{const[t,e]=k.useState(!1),n=ct();k.useEffect(()=>{e(!1)},[n]);const r=()=>{const a=n.pathname.split("/").pop()||"admin";switch(a){case"admin":return"Admin Dashboard";case"orders":return"Bestellungen verwalten";default:return a&&a.length>0?`Bestellung ${a}`:"Admin Dashboard"}},s=()=>{e(!t)};return i.jsxs("div",{className:"min-h-screen bg-fmv-carbon text-fmv-silk flex flex-col",children:[i.jsx("div",{className:"fixed inset-0 bg-grid-pattern opacity-10 mix-blend-overlay pointer-events-none z-0"}),i.jsx(Dt,{children:t&&i.jsx($.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-40 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1)})}),i.jsx(e$,{toggleMobileNav:s,pageTitle:r()}),i.jsxs("div",{className:"flex flex-1",style:{paddingTop:"4rem"},children:[i.jsx(Dt,{children:t&&i.jsx($.div,{className:"fixed inset-y-0 left-0 z-40 w-64 md:hidden",style:{paddingTop:"4rem"},initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"tween",duration:.25},children:i.jsx(b_,{})})}),i.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:i.jsx("div",{className:"sticky h-[calc(100vh-4rem)]",style:{top:"4rem"},children:i.jsx(b_,{})})}),i.jsx(Dt,{children:!t&&i.jsx($.button,{className:"fixed left-4 bottom-4 md:hidden z-30 rounded-full bg-fmv-orange p-3 shadow-lg",onClick:s,initial:{scale:0},animate:{scale:1},exit:{scale:0},whileTap:{scale:.9},children:i.jsx(hk,{size:24,className:"text-white"})})}),i.jsx("main",{className:"flex-1 p-4 md:p-8",children:i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsx(wh,{})})})]})]})},n$=()=>{const t=ct();let e="Anmelden";return t.pathname.includes("register")?e="Registrieren":t.pathname.includes("forgot-password")&&(e="Passwort zurücksetzen"),i.jsxs("div",{className:"min-h-screen bg-fmv-carbon flex flex-col",children:[i.jsx("div",{className:"fixed inset-0 bg-grid-pattern opacity-10 mix-blend-overlay pointer-events-none z-0"}),i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsxs(U,{to:"/",className:"inline-flex items-center text-fmv-silk/70 hover:text-fmv-orange transition-colors group",children:[i.jsx(Ua,{size:20,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),"Zurück zur Startseite"]})}),i.jsxs("div",{className:"flex-grow flex items-center justify-center py-8 relative overflow-hidden",children:[i.jsx($.div,{className:"absolute top-[20%] left-[10%] w-32 h-32 fmv-large-circle",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[20%] right-[10%] w-24 h-24 fmv-large-circle",animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1.5}}),i.jsx($.div,{className:"absolute top-[40%] right-[30%] fmv-line w-48",animate:{width:["0%","100%","0%"],left:["0%","0%","100%"],opacity:[0,.5,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"container mx-auto px-4 relative z-10 max-w-md",children:i.jsx($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"gradient-border-animated rounded-xl overflow-hidden shadow-2xl",children:i.jsxs("div",{className:"bg-fmv-carbon-darker/90 backdrop-blur-lg p-8 rounded-xl",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsx("img",{src:"https://i.imgur.com/woSig5t.png",alt:"FixMyVideo Logo",className:"h-16"})}),i.jsx("h1",{className:"text-2xl font-medium text-fmv-silk text-center mb-8",children:e}),i.jsx(wh,{})]})})})]}),i.jsx("div",{className:"container mx-auto px-4 py-6 text-center",children:i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"© 2025 fixmyvideo GmbH. Alle Rechte vorbehalten."})})]})},w_=({children:t,adminOnly:e=!1})=>{var a;const{currentUser:n,loading:r}=_t(),s=ct();return r?i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)] bg-fmv-carbon text-fmv-silk",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-fmv-orange/20 border-t-fmv-orange rounded-full animate-spin mb-4 mx-auto"}),i.jsx("p",{className:"text-fmv-silk/80",children:"Laden..."})]})}):n?e&&!(n.email==="admin@fixmyvideo.io"||((a=n.email)==null?void 0:a.endsWith("@fixmyvideo.io")))?i.jsx(Lp,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:t}):i.jsx(Lp,{to:"/auth/login",state:s.pathname+s.search,replace:!0})};var Pg=new Map,Nu=new WeakMap,__=0,r$=void 0;function s$(t){return t?(Nu.has(t)||(__+=1,Nu.set(t,__.toString())),Nu.get(t)):"0"}function i$(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?s$(t.root):t[e]}`).toString()}function a$(t){const e=i$(t);let n=Pg.get(e);if(!n){const r=new Map;let s;const a=new IntersectionObserver(o=>{o.forEach(l=>{var c;const d=l.isIntersecting&&s.some(h=>l.intersectionRatio>=h);t.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=d),(c=r.get(l.target))==null||c.forEach(h=>{h(d,l)})})},t);s=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:a,elements:r},Pg.set(e,n)}return n}function o$(t,e,n={},r=r$){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:a,elements:o}=a$(n),l=o.get(t)||[];return o.has(t)||o.set(t,l),l.push(e),a.observe(t),function(){l.splice(l.indexOf(e),1),l.length===0&&(o.delete(t),a.unobserve(t)),o.size===0&&(a.disconnect(),Pg.delete(s))}}function l$({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:s,triggerOnce:a,skip:o,initialInView:l,fallbackInView:c,onChange:d}={}){var h;const[m,p]=k.useState(null),g=k.useRef(d),[N,E]=k.useState({inView:!!l,entry:void 0});g.current=d,k.useEffect(()=>{if(o||!m)return;let b;return b=o$(m,(S,D)=>{E({inView:S,entry:D}),g.current&&g.current(S,D),D.isIntersecting&&a&&b&&(b(),b=void 0)},{root:s,rootMargin:r,threshold:t,trackVisibility:n,delay:e},c),()=>{b&&b()}},[Array.isArray(t)?t.toString():t,m,s,r,a,o,n,c,e]);const _=(h=N.entry)==null?void 0:h.target,w=k.useRef(void 0);!m&&_&&!a&&!o&&w.current!==_&&(w.current=_,E({inView:!!l,entry:void 0}));const y=[p,N.inView,N.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const L=({children:t,delay:e=0,duration:n=.5,animation:r="fade",className:s="",once:a=!0,threshold:o=.1})=>{const[l,c]=l$({triggerOnce:a,threshold:o}),d={fade:{hidden:{opacity:0},visible:{opacity:1}},"slide-up":{hidden:{opacity:0,y:50},visible:{opacity:1,y:0}},"slide-left":{hidden:{opacity:0,x:100},visible:{opacity:1,x:0}},"slide-right":{hidden:{opacity:0,x:-100},visible:{opacity:1,x:0}},scale:{hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}}};return i.jsx($.div,{ref:l,className:s,initial:"hidden",animate:c?"visible":"hidden",variants:d[r],transition:{duration:n,delay:e,ease:[.25,.1,.25,1]},children:t})},c$="modulepreload",u$=function(t){return"/"+t},N_={},tn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=u$(c),c in N_)return;N_[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":c$,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,g)=>{m.addEventListener("load",p),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};var d$=function(e,n,r){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async="async"in n?!!n.async:!0,a.src=e,n.attrs&&h$(a,n.attrs),n.text&&(a.text=""+n.text);var o="onload"in a?j_:m$;o(a,r),a.onload||j_(a,r),s.appendChild(a)};function h$(t,e){for(var n in e)t.setAttribute(n,e[n])}function j_(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function m$(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var f$=function(e){return p$(e)&&!g$(e)};function p$(t){return!!t&&typeof t=="object"}function g$(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||y$(t)}var v$=typeof Symbol=="function"&&Symbol.for,x$=v$?Symbol.for("react.element"):60103;function y$(t){return t.$$typeof===x$}function b$(t){return Array.isArray(t)?[]:{}}function rc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Za(b$(t),t,e):t}function w$(t,e,n){return t.concat(e).map(function(r){return rc(r,n)})}function _$(t,e){if(!e.customMerge)return Za;var n=e.customMerge(t);return typeof n=="function"?n:Za}function N$(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function k_(t){return Object.keys(t).concat(N$(t))}function BI(t,e){try{return e in t}catch{return!1}}function j$(t,e){return BI(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function k$(t,e,n){var r={};return n.isMergeableObject(t)&&k_(t).forEach(function(s){r[s]=rc(t[s],n)}),k_(e).forEach(function(s){j$(t,s)||(BI(t,s)&&n.isMergeableObject(e[s])?r[s]=_$(s,n)(t[s],e[s],n):r[s]=rc(e[s],n))}),r}function Za(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||w$,n.isMergeableObject=n.isMergeableObject||f$,n.cloneUnlessOtherwiseSpecified=rc;var r=Array.isArray(e),s=Array.isArray(t),a=r===s;return a?r?n.arrayMerge(t,e,n):k$(t,e,n):rc(e,n)}Za.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,s){return Za(r,s,n)},{})};var E$=Za,$I=E$,T$=Object.create,lm=Object.defineProperty,I$=Object.getOwnPropertyDescriptor,S$=Object.getOwnPropertyNames,P$=Object.getPrototypeOf,A$=Object.prototype.hasOwnProperty,C$=(t,e)=>{for(var n in e)lm(t,n,{get:e[n],enumerable:!0})},HI=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of S$(e))!A$.call(t,s)&&s!==n&&lm(t,s,{get:()=>e[s],enumerable:!(r=I$(e,s))||r.enumerable});return t},o0=(t,e,n)=>(n=t!=null?T$(P$(t)):{},HI(!t||!t.__esModule?lm(n,"default",{value:t,enumerable:!0}):n,t)),R$=t=>HI(lm({},"__esModule",{value:!0}),t),WI={};C$(WI,{callPlayer:()=>Q$,getConfig:()=>K$,getSDK:()=>q$,isBlobUrl:()=>Y$,isMediaStream:()=>X$,lazy:()=>M$,omit:()=>G$,parseEndTime:()=>$$,parseStartTime:()=>B$,queryString:()=>W$,randomString:()=>H$,supportsWebKitPresentationMode:()=>J$});var cm=R$(WI),D$=o0(k),V$=o0(d$),O$=o0($I);const M$=t=>D$.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),L$=/[?&#](?:start|t)=([0-9hms]+)/,F$=/[?&#]end=([0-9hms]+)/,Ag=/(\d+)(h|m|s)/g,z$=/^\d+$/;function qI(t,e){if(t instanceof Array)return;const n=t.match(e);if(n){const r=n[1];if(r.match(Ag))return U$(r);if(z$.test(r))return parseInt(r)}}function U$(t){let e=0,n=Ag.exec(t);for(;n!==null;){const[,r,s]=n;s==="h"&&(e+=parseInt(r,10)*60*60),s==="m"&&(e+=parseInt(r,10)*60),s==="s"&&(e+=parseInt(r,10)),n=Ag.exec(t)}return e}function B$(t){return qI(t,L$)}function $$(t){return qI(t,F$)}function H$(){return Math.random().toString(36).substr(2,5)}function W$(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function Ff(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const Zi={},q$=function(e,n,r=null,s=()=>!0,a=V$.default){const o=Ff(n);return o&&s(o)?Promise.resolve(o):new Promise((l,c)=>{if(Zi[e]){Zi[e].push({resolve:l,reject:c});return}Zi[e]=[{resolve:l,reject:c}];const d=h=>{Zi[e].forEach(m=>m.resolve(h))};if(r){const h=window[r];window[r]=function(){h&&h(),d(Ff(n))}}a(e,h=>{h?(Zi[e].forEach(m=>m.reject(h)),Zi[e]=null):r||d(Ff(n))})})};function K$(t,e){return(0,O$.default)(e.config,t.config)}function G$(t,...e){const n=[].concat(...e),r={},s=Object.keys(t);for(const a of s)n.indexOf(a)===-1&&(r[a]=t[a]);return r}function Q$(t,...e){if(!this.player||!this.player[t]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c – `;return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[t](...e)}function X$(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function Y$(t){return/^blob:/.test(t)}function J$(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var l0=Object.defineProperty,Z$=Object.getOwnPropertyDescriptor,e7=Object.getOwnPropertyNames,t7=Object.prototype.hasOwnProperty,n7=(t,e)=>{for(var n in e)l0(t,n,{get:e[n],enumerable:!0})},r7=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of e7(e))!t7.call(t,s)&&s!==n&&l0(t,s,{get:()=>e[s],enumerable:!(r=Z$(e,s))||r.enumerable});return t},s7=t=>r7(l0({},"__esModule",{value:!0}),t),KI={};n7(KI,{AUDIO_EXTENSIONS:()=>c0,DASH_EXTENSIONS:()=>oS,FLV_EXTENSIONS:()=>lS,HLS_EXTENSIONS:()=>d0,MATCH_URL_DAILYMOTION:()=>rS,MATCH_URL_FACEBOOK:()=>YI,MATCH_URL_FACEBOOK_WATCH:()=>JI,MATCH_URL_KALTURA:()=>aS,MATCH_URL_MIXCLOUD:()=>sS,MATCH_URL_MUX:()=>XI,MATCH_URL_SOUNDCLOUD:()=>GI,MATCH_URL_STREAMABLE:()=>ZI,MATCH_URL_TWITCH_CHANNEL:()=>nS,MATCH_URL_TWITCH_VIDEO:()=>tS,MATCH_URL_VIDYARD:()=>iS,MATCH_URL_VIMEO:()=>QI,MATCH_URL_WISTIA:()=>eS,MATCH_URL_YOUTUBE:()=>Cg,VIDEO_EXTENSIONS:()=>u0,canPlay:()=>a7});var i7=s7(KI),E_=cm;const Cg=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,GI=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,QI=/vimeo\.com\/(?!progressive_redirect).+/,XI=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,YI=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,JI=/^https?:\/\/fb\.watch\/.+$/,ZI=/streamable\.com\/([a-z0-9]+)$/,eS=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,tS=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,nS=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,rS=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,sS=/mixcloud\.com\/([^/]+\/[^/]+)/,iS=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,aS=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,c0=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,u0=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,d0=/\.(m3u8)($|\?)/i,oS=/\.(mpd)($|\?)/i,lS=/\.(flv)($|\?)/i,Rg=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&Rg(e)||Rg(e.src))return!0;return!1}return(0,E_.isMediaStream)(t)||(0,E_.isBlobUrl)(t)?!0:c0.test(t)||u0.test(t)||d0.test(t)||oS.test(t)||lS.test(t)},a7={youtube:t=>t instanceof Array?t.every(e=>Cg.test(e)):Cg.test(t),soundcloud:t=>GI.test(t)&&!c0.test(t),vimeo:t=>QI.test(t)&&!u0.test(t)&&!d0.test(t),mux:t=>XI.test(t),facebook:t=>YI.test(t)||JI.test(t),streamable:t=>ZI.test(t),wistia:t=>eS.test(t),twitch:t=>tS.test(t)||nS.test(t),dailymotion:t=>rS.test(t),mixcloud:t=>sS.test(t),vidyard:t=>iS.test(t),kaltura:t=>aS.test(t),file:Rg};var h0=Object.defineProperty,o7=Object.getOwnPropertyDescriptor,l7=Object.getOwnPropertyNames,c7=Object.prototype.hasOwnProperty,u7=(t,e)=>{for(var n in e)h0(t,n,{get:e[n],enumerable:!0})},d7=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of l7(e))!c7.call(t,s)&&s!==n&&h0(t,s,{get:()=>e[s],enumerable:!(r=o7(e,s))||r.enumerable});return t},h7=t=>d7(h0({},"__esModule",{value:!0}),t),cS={};u7(cS,{default:()=>f7});var m7=h7(cS),en=cm,Ut=i7,f7=[{key:"youtube",name:"YouTube",canPlay:Ut.canPlay.youtube,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./YouTube-DLLbOuhP.js").then(t=>t.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:Ut.canPlay.soundcloud,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./SoundCloud-DSDBSxio.js").then(t=>t.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:Ut.canPlay.vimeo,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Vimeo-DVigO7tt.js").then(t=>t.V),[]))},{key:"mux",name:"Mux",canPlay:Ut.canPlay.mux,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Mux-CKnvTKYZ.js").then(t=>t.M),[]))},{key:"facebook",name:"Facebook",canPlay:Ut.canPlay.facebook,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Facebook-BkFV3u1a.js").then(t=>t.F),[]))},{key:"streamable",name:"Streamable",canPlay:Ut.canPlay.streamable,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Streamable-DelS_bxi.js").then(t=>t.S),[]))},{key:"wistia",name:"Wistia",canPlay:Ut.canPlay.wistia,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Wistia-DitLyqgH.js").then(t=>t.W),[]))},{key:"twitch",name:"Twitch",canPlay:Ut.canPlay.twitch,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Twitch-B2E1xlrA.js").then(t=>t.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:Ut.canPlay.dailymotion,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./DailyMotion-IbA9o2Wn.js").then(t=>t.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:Ut.canPlay.mixcloud,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Mixcloud-BLeL20VQ.js").then(t=>t.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:Ut.canPlay.vidyard,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Vidyard-M4eryDpm.js").then(t=>t.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:Ut.canPlay.kaltura,lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./Kaltura-DmAKqL8O.js").then(t=>t.K),[]))},{key:"file",name:"FilePlayer",canPlay:Ut.canPlay.file,canEnablePIP:t=>Ut.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,en.supportsWebKitPresentationMode)())&&!Ut.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,en.lazy)(()=>tn(()=>import("./FilePlayer-BLFkv8Ku.js").then(t=>t.F),[]))}],T_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function p7(t,e){return!!(t===e||T_(t)&&T_(e))}function g7(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!p7(t[n],e[n]))return!1;return!0}function v7(t,e){e===void 0&&(e=g7);var n,r=[],s,a=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a&&n===this&&e(l,r)||(s=t.apply(this,l),a=!0,n=this,r=l),s}return o}const x7=Object.freeze(Object.defineProperty({__proto__:null,default:v7},Symbol.toStringTag,{value:"Module"})),y7=rP(x7);var b7=typeof Element<"u",w7=typeof Map=="function",_7=typeof Set=="function",N7=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Xu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Xu(t[r],e[r]))return!1;return!0}var a;if(w7&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!Xu(r.value[1],e.get(r.value[0])))return!1;return!0}if(_7&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(N7&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(b7&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Xu(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var uS=function(e,n){try{return Xu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},dS={exports:{}},j7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",k7=j7,E7=k7;function hS(){}function mS(){}mS.resetWarningCache=hS;var T7=function(){function t(r,s,a,o,l,c){if(c!==E7){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mS,resetWarningCache:hS};return n.PropTypes=n,n};dS.exports=T7();var I7=dS.exports,S7=Object.create,um=Object.defineProperty,P7=Object.getOwnPropertyDescriptor,A7=Object.getOwnPropertyNames,C7=Object.getPrototypeOf,R7=Object.prototype.hasOwnProperty,D7=(t,e)=>{for(var n in e)um(t,n,{get:e[n],enumerable:!0})},fS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of A7(e))!R7.call(t,s)&&s!==n&&um(t,s,{get:()=>e[s],enumerable:!(r=P7(e,s))||r.enumerable});return t},V7=(t,e,n)=>(n=t!=null?S7(C7(t)):{},fS(!t||!t.__esModule?um(n,"default",{value:t,enumerable:!0}):n,t)),O7=t=>fS(um({},"__esModule",{value:!0}),t),pS={};D7(pS,{defaultProps:()=>F7,propTypes:()=>L7});var gS=O7(pS),M7=V7(I7);const{string:ht,bool:Bt,number:ea,array:zf,oneOfType:Fo,shape:fn,object:St,func:nt,node:I_}=M7.default,L7={url:Fo([ht,zf,St]),playing:Bt,loop:Bt,controls:Bt,volume:ea,muted:Bt,playbackRate:ea,width:Fo([ht,ea]),height:Fo([ht,ea]),style:St,progressInterval:ea,playsinline:Bt,pip:Bt,stopOnUnmount:Bt,light:Fo([Bt,ht,St]),playIcon:I_,previewTabIndex:ea,previewAriaLabel:ht,fallback:I_,oEmbedUrl:ht,wrapper:Fo([ht,nt,fn({render:nt.isRequired})]),config:fn({soundcloud:fn({options:St}),youtube:fn({playerVars:St,embedOptions:St,onUnstarted:nt}),facebook:fn({appId:ht,version:ht,playerId:ht,attributes:St}),dailymotion:fn({params:St}),vimeo:fn({playerOptions:St,title:ht}),mux:fn({attributes:St,version:ht}),file:fn({attributes:St,tracks:zf,forceVideo:Bt,forceAudio:Bt,forceHLS:Bt,forceSafariHLS:Bt,forceDisableHls:Bt,forceDASH:Bt,forceFLV:Bt,hlsOptions:St,hlsVersion:ht,dashVersion:ht,flvVersion:ht}),wistia:fn({options:St,playerId:ht,customControls:zf}),mixcloud:fn({options:St}),twitch:fn({options:St,playerId:ht}),vidyard:fn({options:St})}),onReady:nt,onStart:nt,onPlay:nt,onPause:nt,onBuffer:nt,onBufferEnd:nt,onEnded:nt,onError:nt,onDuration:nt,onSeek:nt,onPlaybackRateChange:nt,onPlaybackQualityChange:nt,onProgress:nt,onClickPreview:nt,onEnablePIP:nt,onDisablePIP:nt},mt=()=>{},F7={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:mt},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:mt,onStart:mt,onPlay:mt,onPause:mt,onBuffer:mt,onBufferEnd:mt,onEnded:mt,onError:mt,onDuration:mt,onSeek:mt,onPlaybackRateChange:mt,onPlaybackQualityChange:mt,onProgress:mt,onClickPreview:mt,onEnablePIP:mt,onDisablePIP:mt};var z7=Object.create,Ic=Object.defineProperty,U7=Object.getOwnPropertyDescriptor,B7=Object.getOwnPropertyNames,$7=Object.getPrototypeOf,H7=Object.prototype.hasOwnProperty,W7=(t,e,n)=>e in t?Ic(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q7=(t,e)=>{for(var n in e)Ic(t,n,{get:e[n],enumerable:!0})},vS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of B7(e))!H7.call(t,s)&&s!==n&&Ic(t,s,{get:()=>e[s],enumerable:!(r=U7(e,s))||r.enumerable});return t},xS=(t,e,n)=>(n=t!=null?z7($7(t)):{},vS(!t||!t.__esModule?Ic(n,"default",{value:t,enumerable:!0}):n,t)),K7=t=>vS(Ic({},"__esModule",{value:!0}),t),We=(t,e,n)=>(W7(t,typeof e!="symbol"?e+"":e,n),n),yS={};q7(yS,{default:()=>dm});var G7=K7(yS),S_=xS(k),Q7=xS(uS),bS=gS,X7=cm;const Y7=5e3;class dm extends S_.Component{constructor(){super(...arguments),We(this,"mounted",!1),We(this,"isReady",!1),We(this,"isPlaying",!1),We(this,"isLoading",!0),We(this,"loadOnReady",null),We(this,"startOnPlay",!0),We(this,"seekOnPlay",null),We(this,"onDurationCalled",!1),We(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),We(this,"getInternalPlayer",e=>this.player?this.player[e]:null),We(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const s={playedSeconds:e,played:e/r};n!==null&&(s.loadedSeconds=n,s.loaded=n/r),(s.playedSeconds!==this.prevPlayed||s.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(s),this.prevPlayed=s.playedSeconds,this.prevLoaded=s.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),We(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:n,volume:r,muted:s}=this.props;e(),!s&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),We(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),We(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),We(this,"handleEnded",()=>{const{activePlayer:e,loop:n,onEnded:r}=this.props;e.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),We(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),We(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),We(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:n,playing:r,volume:s,muted:a,playbackRate:o,pip:l,loop:c,activePlayer:d,disableDeferredLoading:h}=this.props;if(!(0,Q7.default)(e.url,n)){if(this.isLoading&&!d.forceLoad&&!h&&!(0,X7.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!e.playing&&r&&!this.isPlaying&&this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==s&&s!==null&&this.player.setVolume(s),e.muted!==a&&(a?this.player.mute():(this.player.unmute(),s!==null&&setTimeout(()=>this.player.setVolume(s)))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,n,r){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},Y7));return}if(n?n==="fraction":e>0&&e<1){const a=this.player.getDuration();if(!a){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(a*e,r);return}this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?S_.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}We(dm,"displayName","Player");We(dm,"propTypes",bS.propTypes);We(dm,"defaultProps",bS.defaultProps);var J7=Object.create,Sc=Object.defineProperty,Z7=Object.getOwnPropertyDescriptor,eH=Object.getOwnPropertyNames,tH=Object.getPrototypeOf,nH=Object.prototype.hasOwnProperty,rH=(t,e,n)=>e in t?Sc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sH=(t,e)=>{for(var n in e)Sc(t,n,{get:e[n],enumerable:!0})},wS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of eH(e))!nH.call(t,s)&&s!==n&&Sc(t,s,{get:()=>e[s],enumerable:!(r=Z7(e,s))||r.enumerable});return t},Pc=(t,e,n)=>(n=t!=null?J7(tH(t)):{},wS(!t||!t.__esModule?Sc(n,"default",{value:t,enumerable:!0}):n,t)),iH=t=>wS(Sc({},"__esModule",{value:!0}),t),He=(t,e,n)=>(rH(t,typeof e!="symbol"?e+"":e,n),n),_S={};sH(_S,{createReactPlayer:()=>fH});var aH=iH(_S),sa=Pc(k),oH=Pc($I),Uf=Pc(y7),P_=Pc(uS),Jo=gS,NS=cm,lH=Pc(G7);const cH=(0,NS.lazy)(()=>tn(()=>import("./Preview-BlF5-VGx.js").then(t=>t.P),[])),uH=typeof window<"u"&&window.document&&typeof document<"u",dH=typeof Vm<"u"&&Vm.window&&Vm.window.document,hH=Object.keys(Jo.propTypes),mH=uH||dH?sa.Suspense:()=>null,zo=[],fH=(t,e)=>{var n;return n=class extends sa.Component{constructor(){super(...arguments),He(this,"state",{showPreview:!!this.props.light}),He(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),He(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),He(this,"showPreview",()=>{this.setState({showPreview:!0})}),He(this,"getDuration",()=>this.player?this.player.getDuration():null),He(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),He(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),He(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),He(this,"seekTo",(r,s,a)=>{if(!this.player)return null;this.player.seekTo(r,s,a)}),He(this,"handleReady",()=>{this.props.onReady(this)}),He(this,"getActivePlayer",(0,Uf.default)(r=>{for(const s of[...zo,...t])if(s.canPlay(r))return s;return e||null})),He(this,"getConfig",(0,Uf.default)((r,s)=>{const{config:a}=this.props;return oH.default.all([Jo.defaultProps.config,Jo.defaultProps.config[s]||{},a,a[s]||{}])})),He(this,"getAttributes",(0,Uf.default)(r=>(0,NS.omit)(this.props,hH))),He(this,"renderActivePlayer",r=>{if(!r)return null;const s=this.getActivePlayer(r);if(!s)return null;const a=this.getConfig(r,s.key);return sa.default.createElement(lH.default,{...this.props,key:s.key,ref:this.references.player,config:a,activePlayer:s.lazyPlayer||s,onReady:this.handleReady})})}shouldComponentUpdate(r,s){return!(0,P_.default)(this.props,r)||!(0,P_.default)(this.state,s)}componentDidUpdate(r){const{light:s}=this.props;!r.light&&s&&this.setState({showPreview:!0}),r.light&&!s&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:s,playIcon:a,previewTabIndex:o,oEmbedUrl:l,previewAriaLabel:c}=this.props;return sa.default.createElement(cH,{url:r,light:s,playIcon:a,previewTabIndex:o,previewAriaLabel:c,oEmbedUrl:l,onClick:this.handleClickPreview})}render(){const{url:r,style:s,width:a,height:o,fallback:l,wrapper:c}=this.props,{showPreview:d}=this.state,h=this.getAttributes(r),m=typeof c=="string"?this.references.wrapper:void 0;return sa.default.createElement(c,{ref:m,style:{...s,width:a,height:o},...h},sa.default.createElement(mH,{fallback:l},d?this.renderPreview(r):this.renderActivePlayer(r)))}},He(n,"displayName","ReactPlayer"),He(n,"propTypes",Jo.propTypes),He(n,"defaultProps",Jo.defaultProps),He(n,"addCustomPlayer",r=>{zo.push(r)}),He(n,"removeCustomPlayers",()=>{zo.length=0}),He(n,"canPlay",r=>{for(const s of[...zo,...t])if(s.canPlay(r))return!0;return!1}),He(n,"canEnablePIP",r=>{for(const s of[...zo,...t])if(s.canEnablePIP&&s.canEnablePIP(r))return!0;return!1}),n};var pH=Object.create,hm=Object.defineProperty,gH=Object.getOwnPropertyDescriptor,vH=Object.getOwnPropertyNames,xH=Object.getPrototypeOf,yH=Object.prototype.hasOwnProperty,bH=(t,e)=>{for(var n in e)hm(t,n,{get:e[n],enumerable:!0})},jS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of vH(e))!yH.call(t,s)&&s!==n&&hm(t,s,{get:()=>e[s],enumerable:!(r=gH(e,s))||r.enumerable});return t},wH=(t,e,n)=>(n=t!=null?pH(xH(t)):{},jS(!t||!t.__esModule?hm(n,"default",{value:t,enumerable:!0}):n,t)),_H=t=>jS(hm({},"__esModule",{value:!0}),t),kS={};bH(kS,{default:()=>EH});var NH=_H(kS),Dg=wH(m7),jH=aH;const kH=Dg.default[Dg.default.length-1];var EH=(0,jH.createReactPlayer)(Dg.default,kH);const m0=R_(NH),ES=({url:t,thumbnail:e,autoplay:n=!1,muted:r=!0,loop:s=!0,title:a,description:o})=>{const[l,c]=k.useState(n),[d,h]=k.useState(n),[m,p]=k.useState(r),g=k.useRef(null),N=k.useRef(null),E=()=>{c(!l),d||h(!0)},_=()=>{p(!m)},w=y=>{if(y.includes("vimeo.com")){const S=y.includes("?")?"&":"?";return`${y}${S}title=0&byline=0&portrait=0&pip=0&transparent=0&controls=1&fullscreen=0`}if(y.includes("youtube.com")||y.includes("youtu.be")){const S=y.includes("?")?"&":"?";return`${y}${S}showinfo=0&rel=0&modestbranding=1&iv_load_policy=3&fs=0`}return y};return i.jsxs("div",{className:"video-container group",ref:N,children:[(!d||!l)&&e&&i.jsxs("div",{className:"video-overlay",onClick:E,children:[i.jsx("div",{className:"video-overlay-button animate-radial-pulse",children:i.jsx(Ii,{className:"w-8 h-8",fill:"white"})}),a&&!l&&i.jsxs("div",{className:"absolute bottom-6 left-6 right-6 text-left",children:[i.jsx("h3",{className:"text-xl font-medium mb-2 text-white",children:a}),o&&i.jsx("p",{className:"text-sm text-gray-200 line-clamp-2",children:o})]})]}),i.jsx(m0,{ref:g,url:w(t),width:"100%",height:"100%",playing:l,muted:m,loop:s,playsinline:!0,onEnded:()=>c(!1),style:{position:"absolute",top:0,left:0},config:{youtube:{playerVars:{controls:1,showinfo:0,rel:0,modestbranding:1,iv_load_policy:3,disablekb:0,fs:0}},vimeo:{playerOptions:{title:!1,byline:!1,portrait:!1,controls:!0,pip:!1,dnt:!0,fullscreen:!1}},file:{attributes:{controlsList:"nodownload nofullscreen",disablePictureInPicture:!0,playsInline:!0}}}}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:E,className:"text-white hover:text-fmv-orange transition-colors mr-3",children:l?i.jsx(M4,{size:20}):i.jsx(Ii,{size:20})}),i.jsx("button",{onClick:_,className:"text-white hover:text-fmv-orange transition-colors mr-3",children:m?i.jsx(q4,{size:20}):i.jsx(W4,{size:20})}),i.jsx("div",{className:"flex-grow"})]})})]})},TH=({children:t,onClick:e,className:n="",as:r="button",href:s,target:a,rel:o})=>{const l={rest:{borderImageSource:"linear-gradient(90deg, rgba(255,88,0,0.7), rgba(255,122,51,0.4), rgba(255,88,0,0.7))"},hover:{borderImageSource:"linear-gradient(90deg, rgba(255,122,51,0.5), rgba(255,88,0,0.8), rgba(255,122,51,0.5))"}},c=$[r];return i.jsxs(c,{onClick:e,href:s,target:a,rel:o,className:`relative rounded-md overflow-hidden group ${n}`,whileHover:"hover",initial:"rest",animate:"rest",children:[i.jsx($.span,{className:"absolute inset-0 bg-gray-800/40 rounded-md z-0",variants:{rest:{backgroundColor:"rgba(255, 88, 0, 0.15)"},hover:{backgroundColor:"rgba(255, 88, 0, 0.1)"}},transition:{duration:.3}}),i.jsx($.span,{className:"absolute inset-0 rounded-md",style:{borderWidth:"1px",borderStyle:"solid",borderImageSlice:1},variants:l,transition:{duration:.3}}),i.jsx($.div,{className:"absolute -inset-px bg-gradient-to-r from-transparent via-fmv-orange/10 to-transparent opacity-0 group-hover:opacity-100 z-10",animate:{x:["100%","-100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),i.jsx("div",{className:"relative z-20 px-6 py-3",children:t})]})},IH=({src:t,fallbackImage:e="https://images.unsplash.com/photo-1626176214008-25c1de248660?q=80&w=1920&auto=format&fit=crop",overlay:n=!0,overlayOpacity:r=60,overlayColor:s="rgb(10, 10, 10)",isYouTube:a=!1})=>{const[o,l]=k.useState(!1),[c,d]=k.useState(!1),[h,m]=k.useState(!1),p=k.useRef(null),g=k.useRef(null),N=an.useMemo(()=>t?t.includes("youtube.com")||t.includes("youtu.be")||t.includes("vimeo.com"):!1,[t]),E=w=>{if(w.includes("/embed/"))return w;let y="";return w.includes("youtube.com/watch")?y=new URLSearchParams(w.split("?")[1]).get("v")||"":w.includes("youtu.be/")&&(y=w.split("youtu.be/")[1].split("?")[0]),y?`https://www.youtube.com/embed/${y}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&loop=1&playsinline=1&fs=0&modestbranding=1`:w};k.useEffect(()=>{if(N)l(!0);else{const w=p.current;if(!w)return;const y=()=>{console.log("Video can play"),l(!0)},b=()=>{console.log("Video is playing"),m(!0)},S=D=>{console.error("Error loading video:",D),d(!0)};return w.addEventListener("canplay",y),w.addEventListener("playing",b),w.addEventListener("error",S),w.load(),()=>{w.removeEventListener("canplay",y),w.removeEventListener("playing",b),w.removeEventListener("error",S)}}},[N,t]);const _=r/100;return i.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden z-0",children:[!1,i.jsx($.div,{initial:{opacity:1},animate:{opacity:h?0:1},transition:{duration:.8},className:"absolute inset-0 bg-cover bg-center z-10",style:{backgroundImage:`url(${e})`,display:"block"}}),!c&&!N&&i.jsx("video",{ref:p,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 min-w-full min-h-full object-cover w-full h-full z-20",onPlay:()=>m(!0),style:{objectPosition:"center center"},children:i.jsx("source",{src:t,type:"video/mp4"})}),!c&&N&&i.jsx("div",{className:"absolute inset-0 w-full h-full z-20",children:i.jsx(m0,{ref:g,url:a||t.includes("youtube.com")||t.includes("youtu.be")?E(t):t,playing:!0,loop:!0,muted:!0,width:"100%",height:"100%",onReady:()=>m(!0),onPlay:()=>m(!0),onError:w=>{console.error("ReactPlayer error:",w),d(!0)},config:{youtube:{playerVars:{autoplay:1,controls:0,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,fs:0,loop:1,playlist:t.includes("youtube.com/watch")?new URLSearchParams(t.split("?")[1]).get("v"):t.includes("youtu.be/")?t.split("youtu.be/")[1].split("?")[0]:"",origin:window.location.origin}},vimeo:{playerOptions:{autopause:0,background:1,controls:0,loop:1,muted:1,transparent:1}}},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"100%",minHeight:"100%",width:"auto",height:"auto",objectFit:"cover"}})}),n&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-fmv-carbon-darker via-fmv-carbon-dark/90 to-fmv-carbon-darker z-30",style:{opacity:_,backgroundColor:s}})]})},A_={Gastronomie:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=600&auto=format&fit=crop",Immobilien:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=600&auto=format&fit=crop",Fashion:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=600&auto=format&fit=crop","E-Commerce":"https://images.unsplash.com/photo-1560769629-975ec94e6a86?q=80&w=600&auto=format&fit=crop",Automotive:"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?q=80&w=600&auto=format&fit=crop",Hotellerie:"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=600&auto=format&fit=crop",Reisen:"https://images.unsplash.com/photo-1488085061387-422e29b40080?q=80&w=600&auto=format&fit=crop",Familie:"https://images.unsplash.com/photo-1609220136736-443140cffec6?q=80&w=600&auto=format&fit=crop",Erinnerungen:"https://images.unsplash.com/photo-1611162618758-4a29a658b5d2?q=80&w=600&auto=format&fit=crop","Social Media":"https://images.unsplash.com/photo-1611162616305-c69b3fa7fbe0?q=80&w=600&auto=format&fit=crop",default:"https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?q=80&w=600&auto=format&fit=crop"},SH=({title:t,subtitle:e,videos:n})=>{var C;const[r,s]=k.useState(((C=n[0])==null?void 0:C.id)||0),[a,o]=k.useState(!1),[l,c]=k.useState("carousel"),[d,h]=k.useState(null),[m,p]=k.useState({}),g=k.useRef(null),N=k.useRef(null),[E,_]=k.useState(null),w=n.find(R=>R.id===r)||n[0],y=R=>{p(A=>({...A,[R]:!0})),console.log(`Thumbnail error for video ${R}`)},b=R=>A_[R]||A_.default;k.useEffect(()=>{if(!a&&n.length>1&&l==="carousel"){const R=setInterval(()=>{const q=(n.findIndex(le=>le.id===r)+1)%n.length;s(n[q].id)},8e3);return()=>clearInterval(R)}},[r,a,n,l]),k.useEffect(()=>{const R=()=>{};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const S=()=>{const A=(n.findIndex(q=>q.id===r)+1)%n.length;s(n[A].id),o(!1),_(null)},D=()=>{const A=(n.findIndex(q=>q.id===r)-1+n.length)%n.length;s(n[A].id),o(!1),_(null)},V=R=>{const A=document.getElementById(`thumbnail-${R}`);A&&g.current&&g.current.scrollTo({left:A.offsetLeft-g.current.offsetWidth/2+A.offsetWidth/2,behavior:"smooth"})};k.useEffect(()=>{l==="carousel"&&V(r)},[r,l]);const T=R=>{if(!R)return"";try{if(new URL(R),R.includes("vimeo.com")){const q=R.includes("?")?"&":"?";return`${R}${q}title=0&byline=0&portrait=0&pip=0&transparent=0&controls=1&fullscreen=0`}if(R.includes("youtube.com")||R.includes("youtu.be")){const q=R.includes("?")?"&":"?";return`${R}${q}showinfo=0&rel=0&modestbranding=1&iv_load_policy=3&fs=0`}return R}catch{return console.error("Invalid video URL:",R),""}},x=()=>{o(!0),_(null)},j=R=>{console.error("Video Player Error:",R),_("Fehler beim Laden des Videos. Bitte versuchen Sie es später erneut."),o(!1)},P=R=>m[R.id]?b(R.category):R.thumbnail;return i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-fmv-carbon-darker/10 via-transparent to-fmv-carbon-darker/10 pointer-events-none"}),i.jsx("div",{className:"absolute inset-0 bg-dot-pattern opacity-10 mix-blend-overlay pointer-events-none"}),i.jsx($.div,{className:"absolute top-[10%] right-[10%] w-16 sm:w-24 md:w-32 h-16 sm:h-24 md:h-32 fmv-circle",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[20%] left-[5%] fmv-line w-24 sm:w-32 md:w-48",animate:{width:["0%","100%","0%"],left:["0%","0%","100%"],opacity:[0,.5,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 md:px-8 relative z-10",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 md:mb-10",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"section-title text-left mb-2",children:[i.jsx("span",{className:"font-light",children:"Videos für "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"jeden Moment"})]}),i.jsx("p",{className:"text-fmv-silk/80 max-w-xl font-light text-sm sm:text-base",children:"Vom Business-Marketing bis zur persönlichen Erinnerung – entdecke die vielfältigen Möglichkeiten"})]}),i.jsx("div",{className:"flex items-center mt-4 md:mt-0 self-start",children:i.jsx("div",{className:"gradient-border-animated rounded-full overflow-hidden",children:i.jsxs("div",{className:"bg-fmv-carbon-darker/50 backdrop-blur-sm p-1 flex",children:[i.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${l==="carousel"?"bg-fmv-orange text-white":"text-gray-300 hover:text-white"}`,onClick:()=>c("carousel"),children:"Showcase"}),i.jsx("button",{className:`px-4 py-1.5 rounded-full text-sm font-medium transition-colors ${l==="grid"?"bg-fmv-orange text-white":"text-gray-300 hover:text-white"}`,onClick:()=>c("grid"),children:"Gallery"})]})})})]}),l==="carousel"?i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"gradient-border-animated rounded-xl mb-6 overflow-hidden shadow-lg",children:i.jsx("div",{className:"bg-gradient-to-b from-fmv-carbon-light/5 to-fmv-carbon-darker/30 backdrop-blur-sm p-0.5 rounded-xl",children:i.jsxs("div",{className:"relative aspect-video md:aspect-[16/9] rounded-xl overflow-hidden",children:[i.jsx(Dt,{mode:"wait",children:i.jsx($.div,{className:"absolute inset-0 bg-center bg-cover filter blur-sm opacity-30 scale-105",style:{backgroundImage:`url(${P(w)})`},initial:{opacity:0},animate:{opacity:.3},exit:{opacity:0},transition:{duration:.8}},`bg-${r}`)}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-fmv-carbon-darker via-transparent to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-fmv-carbon-darker/40 via-transparent to-fmv-carbon-darker/40"}),i.jsxs("div",{className:"flex flex-col md:flex-row h-full relative z-10",children:[i.jsx("div",{className:"md:w-2/3 p-4 md:p-6 flex items-center justify-center",children:i.jsxs("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden shadow-xl bg-fmv-carbon-darker/40 backdrop-blur-sm group transition-all duration-300 hover:shadow-fmv-orange/10",children:[a?i.jsxs(i.Fragment,{children:[i.jsx(m0,{ref:N,url:T(w.videoUrl||""),width:"100%",height:"100%",playing:a,controls:!0,onError:j,style:{position:"absolute",top:0,left:0},config:{youtube:{playerVars:{controls:1,showinfo:0,rel:0,modestbranding:1,iv_load_policy:3,disablekb:0,fs:0}},vimeo:{playerOptions:{title:!1,byline:!1,portrait:!1,pip:!1,transparent:!1,controls:!0,fullscreen:!1}},file:{attributes:{controlsList:"nodownload nofullscreen",disablePictureInPicture:!0,playsInline:!0}}}}),E&&i.jsx("div",{className:"absolute inset-0 bg-fmv-carbon-darker/90 flex flex-col items-center justify-center",children:i.jsxs("div",{className:"bg-fmv-carbon-darker/60 p-4 rounded-lg text-center max-w-sm",children:[i.jsx("div",{className:"text-fmv-orange mb-2",children:i.jsx(Bl,{size:32})}),i.jsx("p",{className:"text-fmv-silk mb-3",children:E}),i.jsx("button",{className:"px-4 py-2 bg-fmv-orange text-white rounded-md",onClick:()=>_(null),children:"Schließen"})]})})]}):i.jsx(Dt,{mode:"wait",children:i.jsx($.div,{className:"absolute inset-0 bg-center bg-cover z-0",style:{backgroundImage:`url(${P(w)})`},initial:{scale:1.05,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.4}},`thumb-${r}`)}),!a&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-center justify-center",children:i.jsx("button",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-fmv-orange rounded-full flex items-center justify-center transform transition-transform duration-300 hover:scale-110 hover:bg-fmv-orange-light active:scale-95 animate-radial-pulse",onClick:x,children:i.jsx(Ii,{size:24,className:"text-white ml-1",fill:"white"})})}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx("span",{className:"bg-fmv-orange/90 text-white text-xs font-medium px-2.5 py-1 rounded-full",children:w.category})}),i.jsxs("button",{className:"absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white rounded-full p-1.5 sm:p-2 z-20 backdrop-blur-sm transition-all duration-300 opacity-60 hover:opacity-100 active:scale-95",onClick:D,"aria-label":"Previous video",children:[i.jsx(Pb,{size:18,className:"sm:hidden"}),i.jsx(Pb,{size:20,className:"hidden sm:block"})]}),i.jsxs("button",{className:"absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white rounded-full p-1.5 sm:p-2 z-20 backdrop-blur-sm transition-all duration-300 opacity-60 hover:opacity-100 active:scale-95",onClick:S,"aria-label":"Next video",children:[i.jsx(Ab,{size:18,className:"sm:hidden"}),i.jsx(Ab,{size:20,className:"hidden sm:block"})]})]})}),i.jsxs("div",{className:"md:w-1/3 p-4 md:p-6 flex flex-col justify-center",children:[i.jsx(Dt,{mode:"wait",children:i.jsxs($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"mb-4 md:mb-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-medium mb-2 text-fmv-silk",children:w.title}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-4 md:mb-6",children:w.description||"Entdecke, wie unsere KI-generierten Videos für verschiedene Anwendungsbereiche eingesetzt werden können."}),i.jsxs(U,{to:"/beispiele",className:"inline-flex items-center text-fmv-orange font-medium hover:text-fmv-orange-light transition-colors group",children:[i.jsx("span",{children:"Mehr Details"}),i.jsx(zl,{size:18,className:"ml-2 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform duration-300"})]})]},`info-${r}`)}),i.jsx("div",{className:"hidden md:flex space-x-2 mb-6",children:n.map(R=>i.jsx("button",{className:`h-1.5 rounded-full transition-all duration-300 ${R.id===r?"bg-fmv-orange w-10":"bg-gray-600 w-5 hover:bg-gray-500"}`,onClick:()=>{s(R.id),o(!1),_(null)},"aria-label":`View ${R.title}`},R.id))})]})]})]})})}),i.jsxs("div",{className:"relative overflow-hidden mb-4",children:[i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 sm:w-12 bg-gradient-to-r from-fmv-carbon to-transparent z-10 pointer-events-none"}),i.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 sm:w-12 bg-gradient-to-l from-fmv-carbon to-transparent z-10 pointer-events-none"}),i.jsx("div",{ref:g,className:"flex gap-3 overflow-x-auto py-2 px-2 scrollbar-hide snap-x snap-mandatory no-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:n.map(R=>i.jsx("div",{id:`thumbnail-${R.id}`,className:`relative flex-shrink-0 w-28 sm:w-36 md:w-40 snap-center ${r===R.id?"ring-2 ring-fmv-orange transform scale-[1.03]":""} rounded-lg overflow-hidden transition-all duration-300 shadow-md hover:shadow-lg bg-fmv-carbon-light/10 backdrop-blur-sm`,onClick:()=>{s(R.id),o(!1),_(null)},children:i.jsxs("div",{className:"aspect-video w-full relative overflow-hidden",children:[i.jsx("img",{src:P(R),alt:R.title,className:`w-full h-full object-cover transition-transform duration-500 ${r===R.id?"scale-110 brightness-110":"hover:scale-105 hover:brightness-110"}`,onError:()=>y(R.id)}),i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent flex flex-col justify-end p-2",children:[i.jsx("p",{className:`text-xs font-medium line-clamp-1 ${r===R.id?"text-fmv-orange":"text-white"}`,children:R.title}),i.jsx("p",{className:"text-[10px] text-gray-300 line-clamp-1 opacity-80",children:R.category})]})]})},R.id))})]})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:n.map(R=>i.jsxs($.div,{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker/30 backdrop-blur-sm rounded-lg overflow-hidden group shadow-md hover:shadow-lg transition-all duration-300",whileHover:{y:-4},whileTap:{scale:.98},onMouseEnter:()=>h(R.id),onMouseLeave:()=>h(null),onClick:()=>{s(R.id),_(null),window.innerWidth>=768?(c("carousel"),o(!1)):(c("carousel"),setTimeout(()=>o(!0),100))},children:[i.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[i.jsx("img",{src:P(R),alt:R.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:()=>y(R.id)}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent group-hover:opacity-80 transition-opacity duration-300"}),i.jsx($.div,{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300",initial:!1,animate:d===R.id?{scale:1}:{scale:.9},children:i.jsx("div",{className:"bg-fmv-orange rounded-full p-3 sm:p-4 transform transition-transform duration-300 hover:scale-110 active:scale-95 shadow-lg",children:i.jsx(Ii,{className:"h-6 w-6 sm:h-7 sm:w-7 text-white",fill:"white"})})}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx("span",{className:"bg-fmv-orange text-white text-xs font-medium px-2 py-0.5 rounded-full shadow-sm",children:R.category})}),i.jsx("div",{className:"absolute bottom-3 right-3",children:i.jsx("span",{className:"bg-fmv-carbon-darker/80 text-gray-200 text-xs px-2 py-0.5 rounded-full backdrop-blur-sm",children:R.duration||"60sec"})})]}),i.jsxs("div",{className:"p-3 sm:p-4",children:[i.jsx("h3",{className:"text-base sm:text-lg font-medium mb-1 sm:mb-2 text-fmv-silk group-hover:text-fmv-orange transition-colors duration-300",children:R.title}),i.jsx("p",{className:"text-gray-400 text-xs sm:text-sm line-clamp-2",children:R.description||"Entdecke, wie unsere KI-generierten Videos für diese Anwendung eingesetzt werden können."})]})]},R.id))}),i.jsx("div",{className:"flex justify-center mt-8 sm:mt-10",children:i.jsxs(U,{to:"/beispiele",className:"fmv-outline-btn px-4 sm:px-6 py-2 sm:py-3 inline-flex items-center text-sm sm:text-base rounded-lg shadow-sm",children:[i.jsx("span",{children:"Alle Beispielvideos ansehen"}),i.jsx(zl,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"})]})})]})]})},PH=({className:t=""})=>{const e=[{name:"Google",logo:"https://i.imgur.com/sLXvQTC.png",url:"https://google.com"},{name:"Microsoft",logo:"https://i.imgur.com/Wd0Qfxl.png",url:"https://microsoft.com"},{name:"Amazon",logo:"https://i.imgur.com/LHFPWK9.png",url:"https://amazon.com"},{name:"Apple",logo:"https://i.imgur.com/Hkbsf6Q.png",url:"https://apple.com"},{name:"Netflix",logo:"https://i.imgur.com/V0xc8Ey.png",url:"https://netflix.com"},{name:"Spotify",logo:"https://i.imgur.com/ktJBxeF.png",url:"https://spotify.com"}];return i.jsx("div",{className:`py-12 ${t}`,children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[i.jsx("div",{className:"text-center mb-8",children:i.jsxs("h3",{className:"text-xl sm:text-2xl font-light text-fmv-silk/80",children:[i.jsx("span",{children:"Vertraut von führenden "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"Unternehmen"})]})}),i.jsx("div",{className:"flex flex-wrap justify-center items-center gap-8 sm:gap-12 md:gap-16",children:e.map((n,r)=>i.jsxs($.div,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.05,filter:"brightness(1.2)"},transition:{duration:.3},className:"relative group",children:[i.jsx("img",{src:n.logo,alt:`${n.name} logo`,className:"h-8 sm:h-10 md:h-12 w-auto object-contain filter grayscale opacity-60 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-300"}),i.jsx($.div,{initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 bg-fmv-carbon-darker/90 text-fmv-silk text-xs px-2 py-1 rounded whitespace-nowrap backdrop-blur-sm border border-fmv-carbon-light/20",children:n.name})]},n.name))}),i.jsx("div",{className:"text-center mt-10 text-sm text-fmv-silk/40",children:i.jsx("p",{children:"* Beispielhafte Darstellung. Logos dienen nur zu Demonstrationszwecken."})})]})})},AH=()=>{const[t,e]=k.useState(!1),[n,r]=k.useState(""),s=o=>{o.preventDefault(),e(!0),setTimeout(()=>{e(!1),r("")},5e3)},a=[{id:1,title:"Restaurant Promotion",description:"Elegante Präsentation mit lebendigen Aufnahmen und fließenden Übergängen, perfekt für Gastronomiebetriebe jeder Größe.",thumbnail:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=600&auto=format&fit=crop",category:"Gastronomie",videoUrl:"https://www.youtube.com/watch?v=b7mHJEVsABg&showinfo=0&rel=0&modestbranding=1"},{id:2,title:"Immobilien Showcase",description:"Professionelle Darstellung von Immobilien mit beeindruckenden Perspektiven und atmosphärischer Beleuchtung.",thumbnail:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=600&auto=format&fit=crop",category:"Immobilien",videoUrl:"https://www.youtube.com/watch?v=JLqy5zieGrw&showinfo=0&rel=0&modestbranding=1"},{id:3,title:"Mode Kollektion",description:"Dynamische Präsentation von Kleidung und Accessoires mit künstlerischen Übergängen und stilvoller Ästhetik.",thumbnail:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=600&auto=format&fit=crop",category:"Fashion",videoUrl:"https://www.youtube.com/watch?v=69ngmjpaI2c&showinfo=0&rel=0&modestbranding=1"},{id:4,title:"Produktdemonstration",description:"Detaillierte Produktdarstellung mit Fokus auf Funktionalität und Nutzen, ideal für E-Commerce und Online-Shops.",thumbnail:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=600&auto=format&fit=crop",category:"E-Commerce",videoUrl:"https://www.youtube.com/watch?v=Ps8iBHVZKXM&showinfo=0&rel=0&modestbranding=1"},{id:5,title:"Autohandel Präsentation",description:"Dynamische und professionelle Darstellung von Fahrzeugen mit beeindruckenden Perspektiven und Details.",thumbnail:"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?q=80&w=600&auto=format&fit=crop",category:"Automotive",videoUrl:"https://www.youtube.com/watch?v=u2hfvoFUQ_g&showinfo=0&rel=0&modestbranding=1"},{id:6,title:"Boutique Hotel",description:"Elegante Präsentation von Hotelräumlichkeiten mit warmer Atmosphäre und einladenden Details.",thumbnail:"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=600&auto=format&fit=crop",category:"Hotellerie",videoUrl:"https://www.youtube.com/watch?v=A0futZIsfX0&showinfo=0&rel=0&modestbranding=1"}];return i.jsxs("div",{className:"relative",children:[i.jsxs("section",{className:"relative min-h-[80vh] sm:min-h-[85vh] flex items-center justify-center overflow-hidden pb-4 pt-24 sm:pt-28",children:[i.jsx(IH,{src:"https://www.youtube.com/embed/s83lS4Mc4mI?si=aGxa0Q9sgSwvrCpJ",fallbackImage:"https://images.unsplash.com/photo-1626176214008-25c1de248660?q=80&w=1920&auto=format&fit=crop",overlay:!0,overlayOpacity:70,isYouTube:!0}),i.jsx($.div,{className:"absolute top-[20%] left-[10%] w-40 h-40 fmv-large-circle z-10",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[30%] right-[5%] w-24 h-24 fmv-large-circle z-10",animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1.5}}),i.jsx($.div,{className:"absolute top-[35%] right-[25%] fmv-line w-64 z-10",animate:{width:["0%","100%","0%"],left:["0%","0%","100%"],opacity:[0,.8,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[15%] left-[20%] fmv-dot z-10",animate:{y:[0,-15,0],scale:[1,1.5,1],opacity:[.3,.8,.3]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"container mx-auto px-4 sm:px-8 relative z-20 py-4 sm:py-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-10 items-center",children:[i.jsx(L,{animation:"slide-right",delay:.3,duration:.8,children:i.jsxs("div",{className:"text-center lg:text-left",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-light tracking-tight mb-4 sm:mb-6 leading-tight",children:[i.jsx("span",{className:"text-fmv-orange",children:"KI-gestützte"})," Videos aus deinen ",i.jsx("span",{className:"text-fmv-orange",children:"Bildern"})," für dein Unternehmen"]}),i.jsx("p",{className:"text-lg sm:text-xl text-fmv-silk/80 mb-6 sm:mb-6 font-light",children:"Spare Zeit, Geld und Aufwand. Ideal für Unternehmen, Influencer, Hochzeiten und private Erinnerungen. Schweizer Qualität."}),i.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-4",children:[i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg",children:["Video erstellen",i.jsx(Xe,{className:"ml-2 h-5 w-5 inline"})]}),i.jsx(TH,{as:"a",href:"/prozess",className:"text-fmv-silk",children:"So funktioniert's"})]})]})}),i.jsx(L,{animation:"fade",delay:.6,duration:1,children:i.jsx("div",{className:"aspect-video lg:aspect-auto",children:i.jsx(ES,{url:"https://cdn.coverr.co/videos/coverr-editing-of-a-video-9410/1080p/coverr-editing-of-a-video-9410-1080p.mp4",thumbnail:"https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?q=80&w=1920&auto=format&fit=crop",title:"Verwandle Bilder in professionelle Videos",description:"Sieh dir an, wie FixMyVideo aus statischen Bildern dynamische, ansprechende Videos macht."})})})]})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t from-fmv-carbon to-transparent z-[1]"})]}),i.jsxs("section",{className:"py-8 bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-dot-pattern opacity-10 mix-blend-overlay pointer-events-none"}),i.jsx(PH,{})]}),i.jsxs("section",{className:"py-4 sm:py-6 md:py-10 bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker relative overflow-hidden",children:[i.jsx(L,{animation:"fade",delay:.1,children:i.jsx(SH,{title:"Inspirierende Beispielvideos",subtitle:"Entdecke, was unsere KI aus einfachen Fotos zaubern kann",videos:a})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-fmv-carbon-dark to-transparent"})]}),i.jsxs("section",{className:"py-16 md:py-24 bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker relative overflow-hidden",children:[i.jsx("div",{className:"fmv-bg-pattern"}),i.jsx($.div,{className:"absolute top-[10%] right-[10%] w-24 md:w-32 h-24 md:h-32 fmv-circle",animate:{scale:[1,1.3,1],opacity:[.1,.2,.1]},transition:{duration:7,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[20%] left-[5%] fmv-dot",animate:{y:[0,-20,0],opacity:[.3,.7,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"container mx-auto px-4 sm:px-8 relative z-10",children:[i.jsxs(L,{animation:"fade",className:"text-center mb-10 md:mb-16",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"So funktioniert "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"FixMyVideo"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-lg md:text-xl text-fmv-silk/80 max-w-3xl mx-auto font-light",children:"In nur 3 einfachen Schritten zu deinem professionellen KI-Video"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-12",children:[i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"fmv-card fmv-card-hover text-center h-full relative",children:[i.jsx("div",{className:"bg-gradient-to-br from-fmv-orange/5 to-fmv-orange/20 w-16 sm:w-20 h-16 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ba,{className:"h-8 w-8 sm:h-10 sm:w-10 text-fmv-orange"})}),i.jsx("div",{className:"absolute -top-2 -left-2 w-8 sm:w-10 h-8 sm:h-10 flex items-center justify-center bg-fmv-orange text-white rounded-full",children:"1"}),i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-4 text-fmv-silk",children:"Bilder hochladen"}),i.jsx("p",{className:"text-gray-400",children:"Lade deine Bilder hoch. Je hochwertiger die Fotos, desto beeindruckender das Video."})]})}),i.jsx(L,{animation:"slide-up",delay:.4,children:i.jsxs("div",{className:"fmv-card fmv-card-hover text-center h-full relative",children:[i.jsx("div",{className:"bg-gradient-to-br from-fmv-orange/5 to-fmv-orange/20 w-16 sm:w-20 h-16 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Mr,{className:"h-8 w-8 sm:h-10 sm:w-10 text-fmv-orange"})}),i.jsx("div",{className:"absolute -top-2 -left-2 w-8 sm:w-10 h-8 sm:h-10 flex items-center justify-center bg-fmv-orange text-white rounded-full",children:"2"}),i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-4 text-fmv-silk",children:"Stil wählen"}),i.jsx("p",{className:"text-gray-400",children:"Passe Dynamik, Formatierungen und Musik an, um den perfekten Look für dein Publikum zu erzielen."})]})}),i.jsx(L,{animation:"slide-up",delay:.6,children:i.jsxs("div",{className:"fmv-card fmv-card-hover text-center h-full relative",children:[i.jsx("div",{className:"bg-gradient-to-br from-fmv-orange/5 to-fmv-orange/20 w-16 sm:w-20 h-16 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ds,{className:"h-8 w-8 sm:h-10 sm:w-10 text-fmv-orange"})}),i.jsx("div",{className:"absolute -top-2 -left-2 w-8 sm:w-10 h-8 sm:h-10 flex items-center justify-center bg-fmv-orange text-white rounded-full",children:"3"}),i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-4 text-fmv-silk",children:"Video erhalten"}),i.jsx("p",{className:"text-gray-400",children:"Innerhalb von 24-48 Stunden erhältst du dein professionelles Video, bereit für Marketing-Erfolg."})]})})]}),i.jsx("div",{className:"text-center mt-10 md:mt-16",children:i.jsxs(U,{to:"/prozess",className:"inline-flex items-center text-fmv-orange hover:text-fmv-orange-light font-medium transition-colors group",children:[i.jsx("span",{children:"Mehr zum Prozess erfahren"}),i.jsx(Xe,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform duration-300"})]})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-fmv-carbon-dark to-transparent"})]}),i.jsxs("section",{className:"py-16 md:py-24 bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon relative overflow-hidden",children:[i.jsxs("div",{className:"container mx-auto px-4 sm:px-8 relative z-10",children:[i.jsxs(L,{animation:"fade",className:"text-center mb-10 md:mb-16",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"Deine "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"Vorteile"}),i.jsx("span",{className:"font-light",children:" mit uns"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-lg md:text-xl text-fmv-silk/80 max-w-3xl mx-auto font-light",children:"Warum immer mehr Unternehmen auf unsere KI-Videos setzen"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 md:gap-x-8 gap-y-8 md:gap-y-12",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"icon-container",children:i.jsx(Ti,{className:"h-6 w-6 md:h-8 md:w-8 text-fmv-orange"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-medium mb-2 text-fmv-silk",children:"Zeitersparnis"}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Fokussiere dich auf dein Kerngeschäft, während wir deine Videos erstellen. Fertig in 24-48 Stunden."})]})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"icon-container",children:i.jsx(Ul,{className:"h-6 w-6 md:h-8 md:w-8 text-fmv-orange"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-medium mb-2 text-fmv-silk",children:"Kostenersparnis"}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Professionelle Videos ohne teure Agenturpreise oder komplizierte Software-Lizenzen."})]})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"icon-container",children:i.jsx(Ba,{className:"h-6 w-6 md:h-8 md:w-8 text-fmv-orange"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-medium mb-2 text-fmv-silk",children:"Einfachheit"}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Keine Vorkenntnisse oder Design-Skills erforderlich. Einfach Bilder hochladen, wir erledigen den Rest."})]})]})}),i.jsx(L,{animation:"slide-up",delay:.4,children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"icon-container",children:i.jsx(Ds,{className:"h-6 w-6 md:h-8 md:w-8 text-fmv-orange"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-medium mb-2 text-fmv-silk",children:"Qualität"}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Professionelle, KI-optimierte Videos, die deine Marke perfekt repräsentieren und Kunden begeistern."})]})]})}),i.jsx(L,{animation:"slide-up",delay:.5,children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"icon-container",children:i.jsx(Dv,{className:"h-6 w-6 md:h-8 md:w-8 text-fmv-orange"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-medium mb-2 text-fmv-silk",children:"Flexibilität"}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Videos in verschiedenen Formaten (16:9, 9:16, 1:1) für alle Plattformen und Netzwerke."})]})]})}),i.jsx(L,{animation:"slide-up",delay:.6,children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"icon-container",children:i.jsx(lk,{className:"h-6 w-6 md:h-8 md:w-8 text-fmv-orange"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-medium mb-2 text-fmv-silk",children:"Schweizer Qualität"}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Ein Schweizer Unternehmen, das für Zuverlässigkeit, Datenschutz und herausragende Qualität steht."})]})]})})]})]}),i.jsx($.div,{className:"absolute bottom-[20%] right-[10%] fmv-line w-40 md:w-72 z-0",animate:{width:["0%","100%","0%"],opacity:[0,.6,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2}}),i.jsx($.div,{className:"absolute top-[30%] left-[5%] w-16 md:w-24 h-16 md:h-24 fmv-circle z-0",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-fmv-carbon-darker to-transparent"})]}),i.jsxs("section",{className:"py-16 md:py-24 bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon relative overflow-hidden",children:[i.jsx("div",{className:"fmv-bg-pattern"}),i.jsx($.div,{className:"absolute top-[15%] left-[10%] fmv-line w-32 md:w-64 z-0",animate:{width:["0%","100%","0%"],right:["0%","0%","100%"],opacity:[0,.5,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx($.div,{className:"absolute bottom-[25%] right-[10%] fmv-dot z-0",animate:{y:[0,-15,0],opacity:[.3,.6,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2}}),i.jsxs("div",{className:"container mx-auto px-4 sm:px-8 relative z-10",children:[i.jsxs(L,{animation:"fade",className:"text-center mb-10 md:mb-16",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"Unsere "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"Pakete"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-lg md:text-xl text-fmv-silk/80 max-w-3xl mx-auto font-light",children:"Transparente Preise für jedes Budget"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"fmv-card h-full flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-2 text-fmv-silk",children:"Spark"}),i.jsx("p",{className:"text-fmv-orange text-3xl md:text-4xl font-bold mb-6",children:"CHF 150"}),i.jsxs("ul",{className:"space-y-3 mb-8",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"30 Sekunden Video"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Beliebige Formate (16:9, 9:16, 1:1)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Musik inklusive"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Texteinblendungen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Lieferung in 24-48h"})]})]})]}),i.jsx(U,{to:"/bestellen?package=spark",className:"block w-full fmv-primary-btn text-center px-6 py-3",children:"Jetzt bestellen"})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsx("div",{className:"gradient-border-animated bg-fmv-carbon-darker/60 rounded-lg overflow-hidden transform scale-105 shadow-xl h-full",children:i.jsxs("div",{className:"p-6 sm:p-8 h-full flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"bg-fmv-orange text-white text-xs sm:text-sm font-semibold uppercase py-1 px-3 sm:px-4 rounded-full inline-block mb-4",children:"Beliebt"}),i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-2 text-fmv-silk",children:"Flash"}),i.jsx("p",{className:"text-fmv-orange text-4xl font-bold mb-6",children:"CHF 250"}),i.jsxs("ul",{className:"space-y-3 mb-8",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"60 Sekunden Video"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Beliebige Formate (16:9, 9:16, 1:1)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Musik inklusive"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Texteinblendungen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Lieferung in 24-48h"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Mehr Details und Szenen"})]})]})]}),i.jsx(U,{to:"/bestellen?package=flash",className:"block w-full fmv-primary-btn text-center px-6 py-3",children:"Jetzt bestellen"})]})})}),i.jsx(L,{animation:"slide-up",delay:.5,children:i.jsxs("div",{className:"fmv-card h-full flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-2 text-fmv-silk",children:"Ultra"}),i.jsx("p",{className:"text-fmv-orange text-3xl md:text-4xl font-bold mb-6",children:"CHF 350"}),i.jsxs("ul",{className:"space-y-3 mb-8",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"90 Sekunden Video"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Beliebige Formate (16:9, 9:16, 1:1)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Musik inklusive"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Texteinblendungen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Lieferung in 24-48h"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-fmv-orange mr-2",children:"✓"}),i.jsx("span",{className:"text-gray-400",children:"Maximum an Details und Szenen"})]})]})]}),i.jsx(U,{to:"/bestellen?package=ultra",className:"block w-full fmv-primary-btn text-center px-6 py-3",children:"Jetzt bestellen"})]})})]}),i.jsx("div",{className:"text-center mt-10 md:mt-12",children:i.jsxs(U,{to:"/preise",className:"inline-flex items-center text-fmv-orange hover:text-fmv-orange-light font-medium transition-colors group",children:[i.jsx("span",{children:"Alle Details zu unseren Paketen"}),i.jsx(Xe,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform duration-300"})]})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-fmv-carbon to-transparent"})]}),i.jsxs("section",{className:"py-16 md:py-24 bg-gradient-to-br from-fmv-carbon to-fmv-carbon-darker relative overflow-hidden",children:[i.jsx($.div,{className:"absolute inset-0 opacity-20 pointer-events-none bg-[radial-gradient(circle_at_center,rgba(255,88,0,0.5)_0%,transparent_50%)]",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute top-[20%] left-[50%] fmv-dot z-0",animate:{y:[0,-15,0],opacity:[.3,.6,.3]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx($.div,{className:"absolute bottom-[20%] left-[30%] fmv-line w-32 md:w-48 z-0",animate:{width:["0%","100%","0%"],left:["0%","0%","100%"],opacity:[0,.5,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"container mx-auto px-4 sm:px-8 relative z-10",children:i.jsxs(L,{animation:"fade",className:"max-w-3xl mx-auto text-center",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"Bereit für dein "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"beeindruckendes Video"}),i.jsx("span",{className:"font-light",children:"?"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-lg md:text-xl mb-8 text-fmv-silk/80 font-light",children:"Starte jetzt und lass deine Fotos zum Leben erwecken. Keine Vorkenntnisse erforderlich!"}),i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg inline-flex items-center",children:["Video erstellen",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]})]})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-fmv-carbon-darker to-transparent"})]}),i.jsxs("section",{className:"py-16 md:py-24 bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon relative overflow-hidden",children:[i.jsx("div",{className:"container mx-auto px-4 sm:px-8 relative z-10",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs(L,{animation:"fade",className:"text-center mb-8 md:mb-10",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"Bleibe auf dem "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"Laufenden"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-lg md:text-xl text-fmv-silk/80 max-w-3xl mx-auto font-light",children:"Erhalte exklusive Tipps, aktuelle Trends und Sonderangebote in deinem Postfach"})]}),i.jsx("div",{className:"bg-gradient-to-br from-fmv-carbon-light/20 to-fmv-carbon-light/5 rounded-lg p-6 md:p-8 border border-fmv-carbon-light/30 backdrop-blur-sm shadow-lg",children:t?i.jsxs("div",{className:"text-center py-6 md:py-8",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"rounded-full bg-fmv-orange/20 p-3",children:i.jsx(pt,{className:"h-8 w-8 sm:h-10 sm:w-10 text-fmv-orange"})})}),i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-2 text-fmv-silk",children:"Erfolgreich abonniert!"}),i.jsx("p",{className:"text-gray-400",children:"Vielen Dank für dein Interesse. Wir haben deine Anmeldung erhalten und werden dich über Neuigkeiten auf dem Laufenden halten."})]}):i.jsxs("form",{onSubmit:s,className:"flex flex-col",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:"email",className:"block text-fmv-silk/80 mb-2 font-light",children:"E-Mail Adresse"}),i.jsxs("div",{className:"relative",children:[i.jsx(Rs,{className:"absolute left-3 top-3 h-5 w-5 text-gray-500"}),i.jsx("input",{type:"email",id:"email",value:n,onChange:o=>r(o.target.value),className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 text-fmv-silk rounded-md pl-10 pr-4 py-3 focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",placeholder:"deine@email.com",required:!0})]})]}),i.jsx("div",{className:"sm:self-end",children:i.jsx("button",{type:"submit",className:"w-full sm:w-auto fmv-primary-btn px-6 py-3",children:"Abonnieren"})})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("input",{type:"checkbox",id:"privacy-consent",className:"mt-1 mr-3",required:!0}),i.jsxs("label",{htmlFor:"privacy-consent",className:"text-sm text-gray-400",children:["Ich bin damit einverstanden, den Newsletter zu erhalten und akzeptiere die ",i.jsx(U,{to:"/datenschutz",className:"text-fmv-orange hover:underline",children:"Datenschutzbestimmungen"}),". Die Abmeldung ist jederzeit möglich."]})]})]})})]})}),i.jsx($.div,{className:"absolute top-[30%] right-[10%] fmv-dot z-0",animate:{y:[0,-10,0],opacity:[.3,.6,.3]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[20%] left-[5%] w-16 h-16 sm:w-24 sm:h-24 md:w-32 md:h-32 fmv-circle z-0",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}})]})]})},Qs=({title:t,subtitle:e,withGradient:n=!0,alignment:r="center",size:s="normal",topPadding:a="normal"})=>{const o=()=>{if(!n)return t;const c=t.split(" "),d=Math.floor(c.length/2);return i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"font-light",children:[c.slice(0,d).join(" ")," "]}),i.jsxs("span",{className:"text-fmv-orange font-medium",children:[c[d]," "]}),c.length>d+1&&i.jsx("span",{className:"font-light",children:c.slice(d+1).join(" ")})]})},l=()=>{switch(a){case"large":return"pt-32 md:pt-36";case"none":return"pt-4 md:pt-6";default:return"pt-24 md:pt-28"}};return i.jsxs("section",{className:`${l()} pb-16 md:pb-20 relative overflow-hidden`,children:[i.jsx($.div,{className:"absolute top-[30%] left-[10%] w-24 md:w-32 h-24 md:h-32 fmv-large-circle",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[20%] right-[10%] w-16 md:w-20 h-16 md:h-20 fmv-large-circle",animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx($.div,{className:"absolute top-[40%] right-[30%] fmv-line w-32 md:w-48",animate:{width:["0%","100%","0%"],left:["0%","0%","100%"],opacity:[0,.5,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"container mx-auto px-6 sm:px-8 relative z-10",children:i.jsxs(L,{animation:"fade",className:`text-${r} max-w-3xl mx-auto`,children:[i.jsx("h1",{className:`${s==="large"?"text-4xl sm:text-5xl md:text-6xl":"text-3xl sm:text-4xl md:text-5xl"} font-light tracking-tight mb-6 leading-tight`,children:o()}),e&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-lg md:text-xl text-fmv-silk/80 font-light",children:e})]})]})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-fmv-carbon-dark to-transparent"})]})},tt=({children:t,className:e="",withPattern:n=!1,withDecoration:r=!1,topPadding:s="normal"})=>{const a=()=>{switch(s){case"large":return"pt-32 md:pt-36";case"none":return"pt-4 md:pt-6";default:return"pt-16 md:pt-24"}};return i.jsxs("section",{className:`${a()} pb-16 md:pb-24 relative overflow-hidden ${e}`,children:[n&&i.jsx("div",{className:"fmv-bg-pattern"}),r&&i.jsxs(i.Fragment,{children:[i.jsx($.div,{className:"absolute top-[10%] right-[10%] w-24 md:w-32 h-24 md:h-32 fmv-circle",animate:{scale:[1,1.3,1],opacity:[.1,.2,.1]},transition:{duration:7,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute bottom-[20%] left-[5%] fmv-dot",animate:{y:[0,-20,0],opacity:[.3,.7,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),i.jsx($.div,{className:"absolute top-[40%] left-[20%] fmv-line w-32 md:w-64",animate:{width:["0%","100%","0%"],right:["0%","0%","100%"],opacity:[0,.5,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsx("div",{className:"container mx-auto px-6 sm:px-8 relative z-10",children:t}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-fmv-carbon-dark to-transparent"})]})},eo=({title:t,subtitle:e,withGradient:n=!0,alignment:r="center",divider:s=!0})=>{const a=()=>{if(!n)return i.jsx("span",{className:"font-light",children:t});const o=t.split(" "),l=Math.floor(o.length/2);return i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"font-light",children:[o.slice(0,l).join(" ")," "]}),i.jsxs("span",{className:"text-fmv-orange font-medium",children:[o[l]," "]}),o.length>l+1&&i.jsx("span",{className:"font-light",children:o.slice(l+1).join(" ")})]})};return i.jsxs("div",{className:`text-${r} mb-12`,children:[i.jsx("h2",{className:"section-title",children:a()}),s&&i.jsx("div",{className:"section-divider"}),e&&i.jsx("p",{className:"text-xl text-fmv-silk/80 max-w-3xl mx-auto font-light",children:e})]})},Bf=({title:t,description:e,icon:n,delay:r=0,variant:s="default",number:a})=>i.jsx(L,{animation:"slide-up",delay:r,children:i.jsxs("div",{className:"fmv-card fmv-card-hover text-center h-full relative",children:[i.jsx("div",{className:"bg-gradient-to-br from-fmv-orange/5 to-fmv-orange/20 w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(n,{className:"h-8 w-8 sm:h-10 sm:w-10 text-fmv-orange"})}),s==="numbered"&&i.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center bg-fmv-orange text-white rounded-full text-sm sm:text-base font-medium",children:a}),i.jsx("h3",{className:"text-xl sm:text-2xl font-medium mb-4 text-fmv-silk",children:t}),i.jsx("p",{className:"text-gray-400",children:e})]})}),ye=({children:t,className:e="",hover:n=!0,animation:r=!0,delay:s=0,highlight:a=!1,border:o=!0,centered:l=!1})=>{const c=i.jsx("div",{className:`
        ${o?"fmv-card":"bg-fmv-carbon-light/10 backdrop-blur-sm rounded-lg p-6 sm:p-8"} 
        ${n?"fmv-card-hover":""} 
        ${a?"bg-gradient-to-b from-fmv-orange/5 to-transparent":""}
        ${l?"text-center":""}
        ${e}
      `,children:t});return a?i.jsx("div",{className:"gradient-border-animated bg-fmv-carbon-darker/60 rounded-lg overflow-hidden transform scale-105 shadow-xl h-full",children:r?i.jsx(L,{animation:"slide-up",delay:s,className:"h-full",children:c}):c}):r?i.jsx(L,{animation:"slide-up",delay:s,className:"h-full",children:c}):c},CH=()=>i.jsxs("div",{children:[i.jsx(Qs,{title:"So funktioniert FixMyVideo",subtitle:"Unser einfacher Prozess verwandelt deine Bilder in beeindruckende Videos - ohne Vorkenntnisse und in kürzester Zeit."}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",withPattern:!0,withDecoration:!0,children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[i.jsx(Bf,{title:"Bilder hochladen",description:"Lade deine besten Bilder hoch. Je hochwertiger das Ausgangsmaterial, desto beeindruckender das Ergebnis.",icon:Ba,variant:"numbered",number:1,delay:.2}),i.jsx(Bf,{title:"Einstellungen personalisieren",description:"Passe dein Video genau nach deinen Wünschen an. Wähle Formate, Dynamik, Musik und Text-Overlays.",icon:Mr,variant:"numbered",number:2,delay:.4}),i.jsx(Bf,{title:"Video erhalten & einsetzen",description:"Innerhalb von 24-48 Stunden erhältst du dein fertig produziertes Video in höchster Qualität, bereit für deinen Marketing-Erfolg.",icon:Ds,variant:"numbered",number:3,delay:.6})]})}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon",children:i.jsxs("div",{className:"space-y-24",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[i.jsx(L,{animation:"slide-right",className:"lg:w-1/2 mb-8 lg:mb-0 lg:pr-12",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-fmv-orange to-purple-600 rounded-lg blur-lg opacity-30"}),i.jsx("div",{className:"relative rounded-lg overflow-hidden border border-fmv-carbon-light/30",children:i.jsx("img",{src:"https://images.unsplash.com/photo-1607434472257-d9f8e57a643d?q=80&w=1200&auto=format&fit=crop",alt:"Bilder hochladen",className:"w-full h-auto"})})]})}),i.jsxs(L,{animation:"slide-left",className:"lg:w-1/2 lg:pl-12",children:[i.jsxs("div",{className:"bg-gradient-to-br from-fmv-orange/5 to-fmv-orange/10 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:[i.jsx(Ba,{className:"h-8 w-8 text-fmv-orange"}),i.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 flex items-center justify-center bg-fmv-orange text-white rounded-full text-sm font-medium",children:"1"})]}),i.jsx("h2",{className:"text-3xl font-light mb-6 text-fmv-silk",children:i.jsx("span",{className:"text-fmv-orange font-medium",children:"Bilder hochladen"})}),i.jsx("p",{className:"text-fmv-silk/80 mb-6 font-light",children:"Lade deine besten Bilder hoch. Je hochwertiger das Ausgangsmaterial, desto beeindruckender das Ergebnis. Unsere KI analysiert deine Bilder und erkennt automatisch die wichtigsten Elemente."}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Einfacher Drag & Drop Upload"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Alle gängigen Bildformate unterstützt"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"5-20 Bilder je nach Videopaket"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row-reverse items-center",children:[i.jsx(L,{animation:"slide-left",className:"lg:w-1/2 mb-8 lg:mb-0 lg:pl-12",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-600 to-fmv-orange rounded-lg blur-lg opacity-30"}),i.jsx("div",{className:"relative rounded-lg overflow-hidden border border-fmv-carbon-light/30",children:i.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=1200&auto=format&fit=crop",alt:"Einstellungen wählen",className:"w-full h-auto"})})]})}),i.jsxs(L,{animation:"slide-right",className:"lg:w-1/2 lg:pr-12",children:[i.jsxs("div",{className:"bg-gradient-to-br from-fmv-orange/5 to-fmv-orange/10 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:[i.jsx(Mr,{className:"h-8 w-8 text-fmv-orange"}),i.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 flex items-center justify-center bg-fmv-orange text-white rounded-full text-sm font-medium",children:"2"})]}),i.jsx("h2",{className:"text-3xl font-light mb-6 text-fmv-silk",children:i.jsx("span",{className:"text-fmv-orange font-medium",children:"Einstellungen personalisieren"})}),i.jsx("p",{className:"text-fmv-silk/80 mb-6 font-light",children:"Passe dein Video genau nach deinen Wünschen an. Wähle Formate, Dynamik, Musik und Text-Overlays, um ein perfekt auf dein Publikum zugeschnittenes Video zu erhalten."}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Wunschformate (16:9, 9:16, 1:1)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Dynamik & Stil wählen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Musik oder Audio hinzufügen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Text-Overlays anpassen"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[i.jsx(L,{animation:"slide-right",className:"lg:w-1/2 mb-8 lg:mb-0 lg:pr-12",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-fmv-orange to-purple-600 rounded-lg blur-lg opacity-30"}),i.jsx("div",{className:"relative rounded-lg overflow-hidden border border-fmv-carbon-light/30",children:i.jsx("img",{src:"https://images.unsplash.com/photo-1536240478700-b869070f9279?q=80&w=1200&auto=format&fit=crop",alt:"Video erhalten",className:"w-full h-auto"})})]})}),i.jsxs(L,{animation:"slide-left",className:"lg:w-1/2 lg:pl-12",children:[i.jsxs("div",{className:"bg-gradient-to-br from-fmv-orange/5 to-fmv-orange/10 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:[i.jsx(Ds,{className:"h-8 w-8 text-fmv-orange"}),i.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 flex items-center justify-center bg-fmv-orange text-white rounded-full text-sm font-medium",children:"3"})]}),i.jsx("h2",{className:"text-3xl font-light mb-6 text-fmv-silk",children:i.jsx("span",{className:"text-fmv-orange font-medium",children:"Video erhalten & einsetzen"})}),i.jsx("p",{className:"text-fmv-silk/80 mb-6 font-light",children:"Innerhalb von 24-48 Stunden erhältst du dein fertig produziertes Video in höchster Qualität, bereit für deinen Marketing-Erfolg."}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Download in HD-Qualität"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Lieferung innerhalb von 24-48h"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Eine Korrekturschleife inklusive"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/10 rounded-full p-1 mr-3 mt-1",children:i.jsx(pt,{className:"h-4 w-4 text-fmv-orange"})}),i.jsx("span",{className:"text-gray-400",children:"Sofort einsatzbereit für alle Plattformen"})]})]})]})]})]})}),i.jsxs(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",withDecoration:!0,children:[i.jsx(eo,{title:"Häufig gestellte Fragen",subtitle:"Antworten auf die wichtigsten Fragen zu unseren Video-Services"}),i.jsx("div",{className:"max-w-3xl mx-auto",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Welche Bildformate werden unterstützt?"}),i.jsx("p",{className:"text-gray-400",children:"Wir unterstützen alle gängigen Bildformate wie JPG, PNG, und TIFF. Die Bilder sollten eine möglichst hohe Auflösung haben für beste Ergebnisse."})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Wie viele Bilder kann ich hochladen?"}),i.jsx("p",{className:"text-gray-400",children:"Je nach Paket kannst du zwischen 5-20 Bilder hochladen. Je mehr Bilder, desto vielfältiger kann das Video gestaltet werden."})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Kann ich meine eigene Musik verwenden?"}),i.jsx("p",{className:"text-gray-400",children:"Ja, du kannst eigene Musik hochladen. Bitte stelle sicher, dass du die Rechte an der Musik besitzt oder eine Lizenz zur Verwendung hast."})]})}),i.jsx(L,{animation:"slide-up",delay:.4,children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"In welchen Formaten erhalte ich mein Video?"}),i.jsx("p",{className:"text-gray-400",children:"Du erhältst dein Video in den von dir gewünschten Formaten (16:9, 9:16, 1:1) und als MP4-Datei."})]})}),i.jsx(L,{animation:"slide-up",delay:.5,children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Wie lange dauert die Produktion?"}),i.jsx("p",{className:"text-gray-400",children:"In der Regel liefern wir innerhalb von 24-48 Stunden. Bei hohem Aufkommen kann es in Ausnahmefällen etwas länger dauern."})]})}),i.jsx(L,{animation:"slide-up",delay:.6,children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Kann ich Änderungen am fertigen Video anfordern?"}),i.jsx("p",{className:"text-gray-400",children:"Ja, eine Korrekturschleife ist im Preis inbegriffen. Weitere Änderungen können gegen einen Aufpreis vorgenommen werden."})]})})]})})]}),i.jsx(tt,{className:"py-20 bg-gradient-to-br from-fmv-carbon to-fmv-carbon-darker",withDecoration:!0,children:i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsx($.div,{className:"absolute inset-0 opacity-20 pointer-events-none bg-[radial-gradient(circle_at_center,rgba(255,88,0,0.5)_0%,transparent_50%)]",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),i.jsxs(L,{animation:"fade",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"Bereit, dein "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"Video"}),i.jsx("span",{className:"font-light",children:" zu erstellen?"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-xl mb-8 text-fmv-silk/80 font-light",children:"Starte jetzt und verwandle deine Bilder in beeindruckende Videos!"}),i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-8 py-4 text-lg inline-flex items-center",children:["Video erstellen",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]})]})]})})]}),RH=()=>i.jsxs("div",{children:[i.jsx(Qs,{title:"Unsere Pakete und Preise",subtitle:"Transparente Preise für professionelle Videos. Wähle das Paket, das am besten zu deinem Bedarf passt."}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",withPattern:!0,withDecoration:!0,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs(ye,{className:"flex flex-col h-full",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl md:text-2xl font-medium mb-2 text-fmv-silk",children:"Spark"}),i.jsx("p",{className:"text-fmv-orange text-4xl font-bold mb-6",children:"CHF 150"}),i.jsxs("ul",{className:"space-y-3 mb-8",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"30 Sekunden Video"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Bis zu 5 Fotos"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Bis zu 3 Formatvarianten (16:9, 9:16, 1:1)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Musik aus unserer Bibliothek"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Bis zu 3 Texteinblendungen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Lieferung in 24-48h"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"1 Korrekturschleife"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"HD-Qualität 1080p"})]})]})]}),i.jsx("div",{className:"mt-auto",children:i.jsx(U,{to:"/bestellen?package=spark",className:"block w-full fmv-primary-btn text-center px-6 py-3",children:"Jetzt bestellen"})})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsx("div",{className:"gradient-border-animated bg-fmv-carbon-darker/60 rounded-lg overflow-hidden transform scale-105 shadow-xl h-full",children:i.jsxs("div",{className:"p-8 h-full flex flex-col",children:[i.jsxs("div",{children:[i.jsx("div",{className:"bg-fmv-orange text-white text-sm font-semibold uppercase py-1 px-4 rounded-full inline-block mb-4",children:"Beliebt"}),i.jsx("h3",{className:"text-2xl font-medium mb-2 text-fmv-silk",children:"Flash"}),i.jsx("p",{className:"text-fmv-orange text-4xl font-bold mb-6",children:"CHF 250"}),i.jsxs("ul",{className:"space-y-3 mb-8",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"60 Sekunden Video"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Bis zu 10 Fotos"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Alle Formatvarianten (16:9, 9:16, 1:1)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Musik aus unserer Bibliothek oder eigene Musik"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Bis zu 6 Texteinblendungen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Lieferung in 24-48h"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"2 Korrekturschleifen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"HD-Qualität 1080p"})]})]})]}),i.jsx("div",{className:"mt-auto",children:i.jsx(U,{to:"/bestellen?package=flash",className:"block w-full fmv-primary-btn text-center px-6 py-3",children:"Jetzt bestellen"})})]})})}),i.jsx(L,{animation:"slide-up",delay:.5,children:i.jsxs(ye,{className:"flex flex-col h-full",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-medium mb-2 text-fmv-silk",children:"Ultra"}),i.jsx("p",{className:"text-fmv-orange text-4xl font-bold mb-6",children:"CHF 350"}),i.jsxs("ul",{className:"space-y-3 mb-8",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"90 Sekunden Video"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Bis zu 20 Fotos"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Alle Formatvarianten (16:9, 9:16, 1:1)"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Musik aus unserer Bibliothek oder eigene Musik"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Bis zu 10 Texteinblendungen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Lieferung in 24-48h"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"3 Korrekturschleifen"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"HD-Qualität 1080p"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:"Premium-Support"})]})]})]}),i.jsx("div",{className:"mt-auto",children:i.jsx(U,{to:"/bestellen?package=ultra",className:"block w-full fmv-primary-btn text-center px-6 py-3",children:"Jetzt bestellen"})})]})})]})}),i.jsxs(tt,{className:"bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon",children:[i.jsx(eo,{title:"Zusätzliche Leistungen",subtitle:"Maßgeschneiderte Optionen für deine speziellen Anforderungen"}),i.jsx("div",{className:"max-w-3xl mx-auto",children:i.jsx(ye,{border:!1,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Zusätzliche Korrekturschleife"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 50"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Weitere Änderungen nach den inkludierten Korrekturschleifen."})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Express-Lieferung (12h)"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 100"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Prioritäts-Bearbeitung und beschleunigte Lieferung innerhalb von 12 Stunden."})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Zusätzliches Format"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 30"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Weitere Formatvariante bei Spark-Paket (bei anderen Paketen inklusive)."})]})}),i.jsx(L,{animation:"slide-up",delay:.4,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"4K-Ausgabe"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 50"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Optimierung und Lieferung des Videos in 4K-Qualität."})]})}),i.jsx(L,{animation:"slide-up",delay:.5,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Individuelle Farbkorrektur"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 60"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Professionelle Farbkorrektur für optimale Bildqualität."})]})}),i.jsx(L,{animation:"slide-up",delay:.6,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Individuelle Animationen/Effekte"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 60"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Maßgeschneiderte Animationen und visuelle Effekte."})]})}),i.jsx(L,{animation:"slide-up",delay:.7,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Upgrade Videoqualität"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 50"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Verbesserung der Videoqualität für professionellere Ergebnisse."})]})}),i.jsx(L,{animation:"slide-up",delay:.8,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Expresslieferung"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 100"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Beschleunigte Bearbeitung und Lieferung."})]})}),i.jsx(L,{animation:"slide-up",delay:.9,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-fmv-carbon-light/20 pb-3 mb-3",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Quelldateien erhalten"}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 120"})]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Erhalten Sie die Quelldateien für weitere Bearbeitung."})]})})]})})})]}),i.jsxs(tt,{className:"bg-gradient-to-br from-fmv-carbon to-fmv-carbon-darker",children:[i.jsx(eo,{title:"Zahlungsinformationen",subtitle:"Einfache und sichere Bezahlung für deine Video-Bestellung"}),i.jsx("div",{className:"max-w-3xl mx-auto",children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-6 text-fmv-silk text-center",children:"Akzeptierte Zahlungsmethoden"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"bg-gradient-to-b from-gray-800/30 to-gray-800/10 p-6 rounded-lg text-center",children:[i.jsx(Ul,{className:"h-8 w-8 text-fmv-orange mx-auto mb-3"}),i.jsx("p",{className:"text-fmv-silk font-medium mb-1",children:"Kreditkarte"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Visa, Mastercard, American Express"})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"bg-gradient-to-b from-gray-800/30 to-gray-800/10 p-6 rounded-lg text-center",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-fmv-orange mx-auto mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z"}),i.jsx("path",{d:"M9.34 9.34a3 3 0 1 0 0 5.32"}),i.jsx("path",{d:"M14.66 14.66a3 3 0 1 0 0-5.32"})]}),i.jsx("p",{className:"text-fmv-silk font-medium mb-1",children:"PayPal"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Schnell und sicher bezahlen"})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"bg-gradient-to-b from-gray-800/30 to-gray-800/10 p-6 rounded-lg text-center",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-fmv-orange mx-auto mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),i.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),i.jsx("p",{className:"text-fmv-silk font-medium mb-1",children:"Überweisung"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Für Firmenkunden (EUR/CHF)"})]})})]}),i.jsx("p",{className:"text-gray-400 text-center",children:"Alle Preise verstehen sich netto zzgl. der gesetzlichen MwSt. Bei Überweisungen beginnt die Produktion nach Zahlungseingang."})]})}),i.jsx("div",{className:"text-center mt-12",children:i.jsx(L,{animation:"fade",delay:.4,children:i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-8 py-4 inline-flex items-center text-lg",children:["Jetzt Video bestellen",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]})})})]})]}),C_=[{id:1,title:"Restaurant Promo",description:"Elegante Präsentation mit lebendigen Aufnahmen und fließenden Übergängen, perfekt für Gastronomiebetriebe jeder Größe.",thumbnail:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=600&auto=format&fit=crop",category:"restaurant",duration:"30sec",videoUrl:"https://www.youtube.com/watch?v=b7mHJEVsABg&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Gastronomie"},{id:2,title:"Immobilien Showcase",description:"Professionelle Darstellung von Immobilien mit beeindruckenden Perspektiven und atmosphärischer Beleuchtung.",thumbnail:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=600&auto=format&fit=crop",category:"immobilien",duration:"60sec",videoUrl:"https://www.youtube.com/watch?v=JLqy5zieGrw&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Immobilien"},{id:3,title:"Autohandel Präsentation",description:"Dynamische und professionelle Darstellung von Fahrzeugen mit beeindruckenden Perspektiven und Details.",thumbnail:"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?q=80&w=600&auto=format&fit=crop",category:"auto",duration:"90sec",videoUrl:"https://www.youtube.com/watch?v=u2hfvoFUQ_g&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Automotive"},{id:4,title:"E-Commerce Produktvideo",description:"Detaillierte Produktdarstellung mit Fokus auf Funktionalität und Nutzen, ideal für E-Commerce und Online-Shops.",thumbnail:"https://images.unsplash.com/photo-1560769629-975ec94e6a86?q=80&w=600&auto=format&fit=crop",category:"ecommerce",duration:"30sec",videoUrl:"https://www.youtube.com/watch?v=Ps8iBHVZKXM&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"E-Commerce"},{id:5,title:"Mode Kollektion",description:"Dynamische Präsentation von Kleidung und Accessoires mit künstlerischen Übergängen und stilvoller Ästhetik.",thumbnail:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=600&auto=format&fit=crop",category:"fashion",duration:"60sec",videoUrl:"https://www.youtube.com/watch?v=69ngmjpaI2c&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Fashion"},{id:6,title:"Boutique Hotel",description:"Elegante Präsentation von Hotelräumlichkeiten mit warmer Atmosphäre und einladenden Details.",thumbnail:"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=600&auto=format&fit=crop",category:"hotel",duration:"90sec",videoUrl:"https://www.youtube.com/watch?v=A0futZIsfX0&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Hotellerie"},{id:7,title:"Urlaubserinnerungen",description:"Verwandeln Sie Ihre Reisefotos in ein cineastisches Erlebnis mit stimmungsvoller Musik und fließenden Übergängen.",thumbnail:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=600&auto=format&fit=crop",category:"reisen",duration:"60sec",videoUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Reisen"},{id:8,title:"Familienchronik",description:"Feiern Sie besondere Momente und Meilensteine mit einem emotionalen Video-Rückblick auf Ihre wertvollsten Erinnerungen.",thumbnail:"https://images.unsplash.com/photo-1609220136736-443140cffec6?q=80&w=600&auto=format&fit=crop",category:"familie",duration:"90sec",videoUrl:"https://www.youtube.com/watch?v=kfVsfOSbJY0&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Familie"},{id:9,title:"Hochzeitsimpressionen",description:"Verewigen Sie den schönsten Tag im Leben mit einem kunstvoll gestalteten Video aus Ihren Hochzeitsfotos.",thumbnail:"https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?q=80&w=600&auto=format&fit=crop",category:"hochzeit",duration:"90sec",videoUrl:"https://www.youtube.com/watch?v=ZbZSe6N_BXs&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Hochzeit"},{id:10,title:"Social Media Story",description:"Erstellen Sie dynamische Content-Pakete für Ihre Social-Media-Kanäle, die perfekt für TikTok, Instagram und YouTube optimiert sind.",thumbnail:"https://images.unsplash.com/photo-1611162616305-c69b3fa7fbe0?q=80&w=600&auto=format&fit=crop",category:"social",duration:"30sec",videoUrl:"https://www.youtube.com/watch?v=9bZkp7q19f0&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Social Media"},{id:11,title:"Baby's erstes Jahr",description:"Dokumentieren Sie die wundervollen Momente des ersten Lebensjahres in einem bewegenden Zeitraffer-Video.",thumbnail:"https://images.unsplash.com/photo-1519689680058-324335c77eba?q=80&w=600&auto=format&fit=crop",category:"familie",duration:"60sec",videoUrl:"https://www.youtube.com/watch?v=Z-ytrj8VdpY&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Familie"},{id:12,title:"Geschenk-Video",description:"Überraschen Sie Ihre Liebsten mit einem persönlichen Video-Geschenk zu besonderen Anlässen wie Geburtstagen oder Jubiläen.",thumbnail:"https://images.unsplash.com/photo-1513885535751-8b9238bd345a?q=80&w=600&auto=format&fit=crop",category:"geschenk",duration:"30sec",videoUrl:"https://www.youtube.com/watch?v=pRpeEdMmmQ0&showinfo=0&rel=0&modestbranding=1&fs=0",industry:"Persönlich"}],DH=[{value:"all",label:"Alle Kategorien"},{value:"restaurant",label:"Restaurant & Café"},{value:"immobilien",label:"Immobilien"},{value:"auto",label:"Autohandel"},{value:"ecommerce",label:"E-Commerce"},{value:"fashion",label:"Mode"},{value:"hotel",label:"Hotel"},{value:"reisen",label:"Reisen & Urlaub"},{value:"familie",label:"Familie & Baby"},{value:"hochzeit",label:"Hochzeit & Events"},{value:"social",label:"Social Media"},{value:"geschenk",label:"Geschenke & Jubiläen"}],VH=[{value:"all",label:"Alle Längen"},{value:"30sec",label:"30 Sekunden"},{value:"60sec",label:"60 Sekunden"},{value:"90sec",label:"90 Sekunden"}],OH=()=>{const[t,e]=k.useState("all"),[n,r]=k.useState("all"),[s,a]=k.useState(null),[o,l]=k.useState(!1),[c,d]=k.useState({}),h=C_.filter(_=>{const w=t==="all"||_.category===t,y=n==="all"||_.duration===n;return w&&y}),m=s?C_.find(_=>_.id===s):null,p=_=>{d(w=>({...w,[_]:!0}))},g=_=>({Gastronomie:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=600&auto=format&fit=crop",Immobilien:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=600&auto=format&fit=crop",Automotive:"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?q=80&w=600&auto=format&fit=crop","E-Commerce":"https://images.unsplash.com/photo-1560769629-975ec94e6a86?q=80&w=600&auto=format&fit=crop",Fashion:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=600&auto=format&fit=crop",Hotellerie:"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=600&auto=format&fit=crop",Reisen:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=600&auto=format&fit=crop",Familie:"https://images.unsplash.com/photo-1609220136736-443140cffec6?q=80&w=600&auto=format&fit=crop",Hochzeit:"https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?q=80&w=600&auto=format&fit=crop","Social Media":"https://images.unsplash.com/photo-1611162616305-c69b3fa7fbe0?q=80&w=600&auto=format&fit=crop",Persönlich:"https://images.unsplash.com/photo-1513885535751-8b9238bd345a?q=80&w=600&auto=format&fit=crop"})[_]||"https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?q=80&w=600&auto=format&fit=crop",N=_=>c[_.id]?g(_.industry):_.thumbnail,E=_=>{if(_!=null&&_.includes("youtube.com")||_!=null&&_.includes("youtu.be")){const y=_.includes("?")?"&":"?";return`${_}${y}showinfo=0&rel=0&modestbranding=1&iv_load_policy=3&fs=0`}return _||""};return i.jsxs("div",{children:[i.jsx(Qs,{title:"Beispielvideos für jeden Anlass",subtitle:"Entdecke, was unsere KI aus einfachen Fotos zaubern kann - für Business, Social Media und persönliche Erinnerungen."}),i.jsx(tt,{className:"py-8 bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",children:i.jsxs("div",{className:"bg-gradient-to-br from-fmv-carbon-light/10 to-fmv-carbon-light/5 rounded-lg p-6 border border-fmv-carbon-light/20 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-medium text-fmv-silk mb-4 md:mb-0",children:"Filter"}),i.jsxs("button",{className:"flex items-center space-x-2 text-fmv-orange md:hidden",onClick:()=>l(!o),children:[i.jsx(jh,{size:20}),i.jsx("span",{children:o?"Filter verbergen":"Filter anzeigen"})]})]}),i.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-6 ${o||window.innerWidth>=768?"block":"hidden md:block"}`,children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"category-filter",className:"block text-fmv-silk/80 mb-2 font-light",children:"Kategorie:"}),i.jsx("select",{id:"category-filter",className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",value:t,onChange:_=>e(_.target.value),children:DH.map(_=>i.jsx("option",{value:_.value,children:_.label},_.value))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"duration-filter",className:"block text-fmv-silk/80 mb-2 font-light",children:"Länge:"}),i.jsx("select",{id:"duration-filter",className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",value:n,onChange:_=>r(_.target.value),children:VH.map(_=>i.jsx("option",{value:_.value,children:_.label},_.value))})]})]})]})}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon",withPattern:!0,withDecoration:!0,children:h.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:h.map((_,w)=>i.jsx(L,{animation:"slide-up",delay:w*.1,children:i.jsxs("div",{className:"bg-gradient-to-b from-gray-800/20 to-fmv-carbon-light/5 backdrop-blur-sm rounded-lg overflow-hidden group shadow-md hover:shadow-lg border border-fmv-carbon-light/20 hover:border-fmv-carbon-light/40 transition-all duration-300",children:[i.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[i.jsx("img",{src:N(_),alt:_.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:()=>p(_.id)}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),i.jsx("button",{className:"absolute inset-0 flex items-center justify-center",onClick:()=>a(_.id),children:i.jsx("div",{className:"bg-fmv-orange rounded-full p-4 transform transition-transform duration-300 opacity-0 group-hover:opacity-100 hover:scale-110 active:scale-95",children:i.jsx(Ii,{className:"h-8 w-8 text-white",fill:"white"})})}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx("span",{className:"bg-fmv-orange/90 text-white text-xs font-bold px-2.5 py-1 rounded-full",children:_.industry})}),i.jsx("div",{className:"absolute bottom-3 right-3",children:i.jsx("span",{className:"bg-fmv-carbon-darker/90 text-gray-300 text-xs font-medium px-2.5 py-1 rounded-full",children:_.duration})})]}),i.jsxs("div",{className:"p-4 sm:p-5",children:[i.jsx("h3",{className:"text-xl font-medium mb-2 text-fmv-silk group-hover:text-fmv-orange transition-colors duration-300",children:_.title}),i.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:_.description})]})]})},_.id))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("p",{className:"text-xl text-gray-400",children:"Keine Videos mit den ausgewählten Filtern gefunden."}),i.jsx("button",{className:"mt-4 text-fmv-orange hover:text-fmv-orange-light font-medium",onClick:()=>{e("all"),r("all")},children:"Filter zurücksetzen"})]})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>a(null),children:i.jsxs($.div,{className:"relative bg-fmv-carbon-darker rounded-lg w-full max-w-4xl",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},onClick:_=>_.stopPropagation(),children:[i.jsx("button",{className:"absolute top-4 right-4 z-10 bg-fmv-carbon-light/50 rounded-full p-2 text-white hover:text-fmv-orange transition-colors",onClick:()=>a(null),children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("div",{className:"rounded-t-lg overflow-hidden aspect-video",children:m&&i.jsx(ES,{url:E(m.videoUrl||""),autoplay:!0})}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-2xl font-medium text-fmv-silk mb-2",children:m==null?void 0:m.title}),i.jsx("p",{className:"text-gray-400 mb-4",children:m==null?void 0:m.description}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"bg-fmv-orange/20 text-fmv-orange text-sm px-3 py-1 rounded-full",children:m==null?void 0:m.industry}),i.jsx("span",{className:"bg-gray-700/50 text-gray-300 text-sm px-3 py-1 rounded-full",children:m==null?void 0:m.duration})]})]})]})}),i.jsxs(tt,{className:"py-20 bg-gradient-to-br from-fmv-carbon to-fmv-carbon-darker",children:[i.jsx($.div,{className:"absolute inset-0 opacity-20 pointer-events-none bg-[radial-gradient(circle_at_center,rgba(255,88,0,0.5)_0%,transparent_50%)]",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"max-w-3xl mx-auto text-center",children:i.jsxs(L,{animation:"fade",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"Bereit, dein eigenes "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"Video"}),i.jsx("span",{className:"font-light",children:" zu erstellen?"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-xl mb-8 text-fmv-silk/80 font-light",children:"Lass deine Bilder zum Leben erwecken und schaffe beeindruckende Videos für dein Business oder deine persönlichen Momente."}),i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-8 py-4 text-lg inline-flex items-center",children:["Jetzt Video erstellen",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]})]})})]})]})},MH=()=>{const[t]=Av(),e=Yt(),[n,r]=k.useState(t.get("package")||"flash"),s={spark:{title:"30 Sekunden",price:"CHF 150",features:["Bis zu 5 Fotos","Ein Videoformat inklusive","Musik aus unserer Bibliothek","Bis zu 3 Texteinblendungen","Lieferung in 24-48h","1 Korrekturschleife","HD-Qualität 1080p"]},flash:{title:"60 Sekunden",price:"CHF 250",features:["Bis zu 10 Fotos","Ein Videoformat inklusive","Musik aus unserer Bibliothek oder eigene Musik","Bis zu 6 Texteinblendungen","Lieferung in 24-48h","2 Korrekturschleifen","HD-Qualität 1080p"]},ultra:{title:"90 Sekunden",price:"CHF 350",features:["Bis zu 20 Fotos","Ein Videoformat inklusive","Musik aus unserer Bibliothek oder eigene Musik","Bis zu 10 Texteinblendungen","Lieferung in 24-48h","3 Korrekturschleifen","HD-Qualität 1080p","Premium-Support"]}};return i.jsx("div",{className:"min-h-screen bg-fmv-carbon text-fmv-silk pt-20 sm:pt-24",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[i.jsxs("div",{className:"max-w-4xl mx-auto mb-12 relative",children:[i.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-fmv-carbon-light/20 -translate-y-1/2 z-0"}),i.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange to-fmv-orange-light text-white flex items-center justify-center font-medium mb-3 shadow-lg shadow-fmv-orange/20 border-2 border-fmv-orange-light/30",children:i.jsx("span",{className:"text-lg",children:"1"})}),i.jsx("span",{className:"text-fmv-orange font-medium text-center text-xs sm:text-sm",children:"Paket wählen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-fmv-carbon-light/20 text-fmv-silk/50 flex items-center justify-center font-medium mb-3 border-2 border-fmv-carbon-light/10",children:i.jsx("span",{className:"text-lg",children:"2"})}),i.jsx("span",{className:"text-fmv-silk/50 text-center text-xs sm:text-sm",children:"Inhalte hochladen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-fmv-carbon-light/20 text-fmv-silk/50 flex items-center justify-center font-medium mb-3 border-2 border-fmv-carbon-light/10",children:i.jsx("span",{className:"text-lg",children:"3"})}),i.jsx("span",{className:"text-fmv-silk/50 text-center text-xs sm:text-sm",children:"Video anpassen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-fmv-carbon-light/20 text-fmv-silk/50 flex items-center justify-center font-medium mb-3 border-2 border-fmv-carbon-light/10",children:i.jsx("span",{className:"text-lg",children:"4"})}),i.jsx("span",{className:"text-fmv-silk/50 text-center text-xs sm:text-sm",children:"Überprüfen & Bestellen"})]})]}),i.jsx("div",{className:"absolute top-1/2 left-0 w-[12.5%] h-2 bg-gradient-to-r from-fmv-orange to-fmv-orange-light -translate-y-1/2 z-0 rounded-full shadow-sm shadow-fmv-orange/20"})]}),i.jsx("div",{className:"text-center max-w-2xl mx-auto mb-12",children:i.jsxs(L,{animation:"fade",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl font-light mb-4",children:["Wähle dein ",i.jsx("span",{className:"text-fmv-orange font-medium",children:"Video-Paket"})]}),i.jsx("p",{className:"text-fmv-silk/80",children:"Wähle das Paket, das am besten zu deinen Anforderungen passt. Die Dauer und Anzahl der Bilder bestimmen die Komplexität deines Videos."})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto relative",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsx("div",{className:`relative rounded-lg overflow-hidden cursor-pointer transition-all duration-300 h-full flex flex-col ${n==="spark"?"border-2 border-fmv-orange shadow-lg shadow-fmv-orange/10":"border border-fmv-carbon-light/30"}`,onClick:()=>r("spark"),children:i.jsxs("div",{className:"bg-fmv-carbon-darker p-6 flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"text-2xl font-medium mb-2",children:s.spark.title}),i.jsx("p",{className:"text-fmv-orange text-3xl font-bold mb-6",children:s.spark.price}),i.jsx("ul",{className:"space-y-3",children:s.spark.features.map((a,o)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:a})]},o))})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{className:`w-full py-3 rounded-md transition-colors ${n==="spark"?"bg-fmv-orange text-white":"bg-fmv-carbon-light/10 text-fmv-silk hover:bg-fmv-carbon-light/20"}`,children:n==="spark"?"Ausgewählt":"Auswählen"})})]})})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:`relative rounded-lg overflow-hidden cursor-pointer transition-all duration-300 transform h-full flex flex-col ${n==="flash"?"border-2 border-fmv-orange shadow-lg shadow-fmv-orange/10 scale-105":"border border-fmv-carbon-light/30"}`,onClick:()=>r("flash"),children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 bg-fmv-orange text-white text-center py-1 text-sm font-medium",children:"BELIEBT"}),i.jsxs("div",{className:"bg-fmv-carbon-darker p-6 pt-10 flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"text-2xl font-medium mb-2",children:s.flash.title}),i.jsx("p",{className:"text-fmv-orange text-3xl font-bold mb-6",children:s.flash.price}),i.jsx("ul",{className:"space-y-3",children:s.flash.features.map((a,o)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:a})]},o))})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{className:`w-full py-3 rounded-md transition-colors ${n==="flash"?"bg-fmv-orange text-white":"bg-fmv-carbon-light/10 text-fmv-silk hover:bg-fmv-carbon-light/20"}`,children:n==="flash"?"Ausgewählt":"Auswählen"})})]})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsx("div",{className:`relative rounded-lg overflow-hidden cursor-pointer transition-all duration-300 h-full flex flex-col ${n==="ultra"?"border-2 border-fmv-orange shadow-lg shadow-fmv-orange/10":"border border-fmv-carbon-light/30"}`,onClick:()=>r("ultra"),children:i.jsxs("div",{className:"bg-fmv-carbon-darker p-6 flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"text-2xl font-medium mb-2",children:s.ultra.title}),i.jsx("p",{className:"text-fmv-orange text-3xl font-bold mb-6",children:s.ultra.price}),i.jsx("ul",{className:"space-y-3",children:s.ultra.features.map((a,o)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-400",children:a})]},o))})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{className:`w-full py-3 rounded-md transition-colors ${n==="ultra"?"bg-fmv-orange text-white":"bg-fmv-carbon-light/10 text-fmv-silk hover:bg-fmv-carbon-light/20"}`,children:n==="ultra"?"Ausgewählt":"Auswählen"})})]})})})]}),i.jsxs("div",{className:"flex justify-between max-w-6xl mx-auto mt-12",children:[i.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 border border-fmv-carbon-light/30 rounded-md text-fmv-silk hover:bg-fmv-carbon-light/10 transition-colors",children:"Zurück"}),i.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light transition-colors",onClick:()=>{e(`/bestellen/upload?package=${n}`)},children:"Weiter"})]})]})})},LH=()=>i.jsxs("div",{children:[i.jsx(Qs,{title:"Über FixMyVideo.io",subtitle:"Ein innovatives Schweizer Unternehmen, das die Kraft der Künstlichen Intelligenz nutzt, um beeindruckende Videos aus einfachen Bildern zu erstellen."}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",withDecoration:!0,children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[i.jsx(L,{animation:"slide-right",className:"md:w-1/2 mb-8 md:mb-0 md:pr-12",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-fmv-orange to-purple-600 rounded-lg blur-xl opacity-30"}),i.jsx("div",{className:"relative rounded-lg overflow-hidden border border-fmv-carbon-light/30",children:i.jsx("img",{src:"https://images.unsplash.com/photo-1587620962725-abab7fe55159?q=80&w=600&auto=format&fit=crop",alt:"KI Visualisierung",className:"w-full h-auto"})})]})}),i.jsxs(L,{animation:"slide-left",className:"md:w-1/2 md:pl-12",children:[i.jsx("h2",{className:"text-3xl font-light mb-6 text-fmv-silk",children:i.jsx("span",{className:"text-fmv-orange font-medium",children:"Unsere Mission"})}),i.jsx("p",{className:"text-fmv-silk/80 mb-6 font-light",children:"Unsere Mission ist es, professionelles Videomarketing für jedes Unternehmen – unabhängig von Grösse oder Budget – zugänglich, einfach und schnell zu machen."}),i.jsx("p",{className:"text-fmv-silk/80 mb-6 font-light",children:"Mit Sitz in der Schweiz stehen wir für Qualität, Zuverlässigkeit und Datenschutz. Wir glauben, dass jedes Unternehmen von der Kraft des Videomarketings profitieren sollte, ohne dafür teure Agenturen oder komplexe Software zu benötigen."}),i.jsx("p",{className:"text-fmv-silk/80 font-light",children:"Durch den Einsatz fortschrittlicher KI-Technologie verwandeln wir einfache Fotos in beeindruckende Videos, die Kunden begeistern und Conversions steigern."})]})]})}),i.jsxs(tt,{className:"bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon",withPattern:!0,children:[i.jsx(eo,{title:"Unsere Werte",subtitle:"Was uns antreibt und definiert"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs(ye,{centered:!0,children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ds,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Qualität"}),i.jsx("p",{className:"text-gray-400",children:"Wir liefern Videos, die nicht nur gut aussehen, sondern auch wirkungsvoll sind und deine Marke optimal repräsentieren."})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs(ye,{centered:!0,children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ti,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Effizienz"}),i.jsx("p",{className:"text-gray-400",children:"Zeit ist wertvoll. Deshalb bieten wir einen schnellen, unkomplizierten Prozess und liefern innerhalb von 48 Stunden."})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs(ye,{centered:!0,children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Lr,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Vertrauen"}),i.jsx("p",{className:"text-gray-400",children:"Als Schweizer Unternehmen legen wir höchsten Wert auf Datenschutz, Zuverlässigkeit und Transparenz in allen Prozessen."})]})}),i.jsx(L,{animation:"slide-up",delay:.4,children:i.jsxs(ye,{centered:!0,children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(H4,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:"Kundenfokus"}),i.jsx("p",{className:"text-gray-400",children:"Dein Erfolg ist unser Erfolg. Wir arbeiten eng mit dir zusammen, um sicherzustellen, dass deine Vision umgesetzt wird."})]})})]})]}),i.jsxs(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",withDecoration:!0,children:[i.jsx(eo,{title:"Unsere Technologie",subtitle:"Wie wir KI einsetzen, um beeindruckende Videos zu erstellen"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"bg-gradient-to-b from-gray-800/20 to-fmv-carbon-light/5 backdrop-blur-sm rounded-lg overflow-hidden group border border-fmv-carbon-light/30",children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=600&auto=format&fit=crop",alt:"KI-Bildverarbeitung",className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-fmv-carbon-darker via-transparent to-transparent"})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-medium mb-2 text-fmv-silk",children:"Fortschrittliche KI-Bildverarbeitung"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Unsere proprietäre KI-Technologie analysiert Ihre Bilder im Detail und erkennt wichtige Elemente, um bewegende Szenen mit natürlichen Übergängen zu erzeugen. Die Algorithmen wurden speziell entwickelt, um professionelle Videoproduktionsstandards einzuhalten."})]})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"bg-gradient-to-b from-gray-800/20 to-fmv-carbon-light/5 backdrop-blur-sm rounded-lg overflow-hidden group border border-fmv-carbon-light/30",children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?q=80&w=600&auto=format&fit=crop",alt:"Sichere Datenverarbeitung",className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-fmv-carbon-darker via-transparent to-transparent"})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-medium mb-2 text-fmv-silk",children:"Sichere Schweizer Infrastruktur"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Alle Daten werden auf sicheren Servern in der Schweiz verarbeitet und gespeichert, entsprechend den strengen lokalen Datenschutzbestimmungen. Nach Abschluss Ihres Projekts werden Ihre Originalbilder automatisch gelöscht, sofern nicht anders vereinbart."})]})]})})]}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsx("div",{className:"bg-gradient-to-b from-gray-800/20 to-fmv-carbon-light/5 backdrop-blur-sm rounded-lg overflow-hidden border border-fmv-carbon-light/30 p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"md:w-1/2",children:[i.jsx("h3",{className:"text-xl font-medium mb-4 text-fmv-silk",children:"Der Unterschied zu anderen Lösungen"}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"rounded-full bg-fmv-orange/20 p-1 mr-3 mt-0.5",children:i.jsx("svg",{className:"w-4 h-4 text-fmv-orange",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),i.jsxs("p",{className:"text-gray-400",children:[i.jsx("span",{className:"text-fmv-silk",children:"Spezialisierung auf Schweizer Markt:"})," Optimiert für lokale Geschäftsanforderungen und ästhetische Präferenzen."]})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"rounded-full bg-fmv-orange/20 p-1 mr-3 mt-0.5",children:i.jsx("svg",{className:"w-4 h-4 text-fmv-orange",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),i.jsxs("p",{className:"text-gray-400",children:[i.jsx("span",{className:"text-fmv-silk",children:"Hybrides Modell:"})," Unsere KI wird durch menschliches Qualitätsmanagement ergänzt für überragende Ergebnisse."]})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"rounded-full bg-fmv-orange/20 p-1 mr-3 mt-0.5",children:i.jsx("svg",{className:"w-4 h-4 text-fmv-orange",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),i.jsxs("p",{className:"text-gray-400",children:[i.jsx("span",{className:"text-fmv-silk",children:"Fortlaufende Innovation:"})," Kontinuierliche Weiterentwicklung unserer Algorithmen mit den neuesten Forschungsergebnissen."]})]})]})]}),i.jsxs("div",{className:"md:w-1/2 md:border-l border-fmv-carbon-light/30 md:pl-6",children:[i.jsx("h3",{className:"text-xl font-medium mb-4 text-fmv-silk",children:"Zukunftsvisionen"}),i.jsx("p",{className:"text-gray-400 mb-4",children:"Wir arbeiten kontinuierlich an der Verbesserung unserer Technologie, um noch beeindruckendere Videoeffekte, nahtlosere Übergänge und fortschrittlichere Anpassungsoptionen anzubieten."}),i.jsx("p",{className:"text-gray-400",children:"Unser Ziel ist es, die Grenze zwischen statischen Bildern und dynamischen Videos vollständig zu verwischen und jedem die Möglichkeit zu geben, professionelle Videoinhalte zu erstellen – unabhängig von technischen Vorkenntnissen oder Budget."})]})]})})})]}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon",withPattern:!0,children:i.jsx(L,{animation:"fade",children:i.jsx("div",{className:"bg-gradient-to-br from-gray-800/30 to-fmv-carbon-light/5 rounded-lg overflow-hidden border border-fmv-carbon-light/20 backdrop-blur-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row",children:[i.jsxs("div",{className:"md:w-1/3 p-8 flex flex-col items-center justify-center border-b md:border-b-0 md:border-r border-fmv-carbon-light/20",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("img",{src:"https://i.imgur.com/woSig5t.png",alt:"FixMyVideo Logo",className:"h-24"})}),i.jsx("h3",{className:"text-2xl font-medium mb-4 text-fmv-orange text-center",children:"Schweizer Qualität"}),i.jsx("div",{className:"flex justify-center",children:i.jsx(lk,{className:"h-12 w-12 text-fmv-orange"})})]}),i.jsxs("div",{className:"md:w-2/3 p-8",children:[i.jsx("p",{className:"text-fmv-silk/80 mb-6 font-light",children:"Als Schweizer Unternehmen sind wir stolz auf unsere Werte: Präzision, Zuverlässigkeit und höchste Qualitätsstandards. Diese Prinzipien fliessen in jeden Aspekt unserer Arbeit ein."}),i.jsx("p",{className:"text-fmv-silk/80 mb-6 font-light",children:"Unsere Kunden schätzen nicht nur die hervorragende Qualität unserer Videos, sondern auch unsere Datenschutzstandards gemäss Schweizer Gesetzgebung, die zu den strengsten weltweit gehört."}),i.jsx("p",{className:"text-fmv-silk/80 font-light",children:"Wir behandeln deine Daten und Bilder mit höchster Sorgfalt und Vertraulichkeit. Deine Inhalte werden ausschliesslich für die Erstellung deiner Videos verwendet und niemals für andere Zwecke weitergegeben oder genutzt."})]})]})})})}),i.jsxs(tt,{className:"py-20 bg-gradient-to-br from-fmv-carbon to-fmv-carbon-darker",children:[i.jsx($.div,{className:"absolute inset-0 opacity-20 pointer-events-none bg-[radial-gradient(circle_at_center,rgba(255,88,0,0.5)_0%,transparent_50%)]",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"max-w-3xl mx-auto text-center",children:i.jsxs(L,{animation:"fade",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx("span",{className:"font-light",children:"Bereit, mit uns "}),i.jsx("span",{className:"text-fmv-orange font-medium",children:"zusammenzuarbeiten"}),i.jsx("span",{className:"font-light",children:"?"})]}),i.jsx("div",{className:"section-divider"}),i.jsx("p",{className:"text-xl mb-8 text-fmv-silk/80 font-light",children:"Lass uns gemeinsam beeindruckende Videos für dein Unternehmen erstellen, die deine Kunden begeistern werden."}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-8 py-4 text-lg inline-flex items-center",children:["Video bestellen",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]}),i.jsx(U,{to:"/kontakt",className:"fmv-secondary-btn px-8 py-4 text-lg",children:"Kontakt aufnehmen"})]})]})})]})]}),FH=()=>{const[t,e]=k.useState({name:"",email:"",phone:"",subject:"",message:""}),[n,r]=k.useState(!1),s=l=>{e({...t,[l.target.id]:l.target.value})},a=l=>{l.preventDefault(),r(!0),setTimeout(()=>{r(!1),e({name:"",email:"",phone:"",subject:"",message:""})},5e3)},o=[{question:"Wie schnell erhalte ich mein Video?",answer:"In der Regel liefern wir innerhalb von 24-48 Stunden nach Bestellungseingang. Bei hohem Aufkommen kann es in Ausnahmefällen etwas länger dauern."},{question:"Kann ich Änderungen am fertigen Video anfordern?",answer:"Ja, je nach gewähltem Paket ist eine bestimmte Anzahl an Korrekturschleifen inbegriffen. Weitere Änderungen können gegen einen Aufpreis vorgenommen werden."},{question:"Wie werden meine Daten und Bilder geschützt?",answer:"Als Schweizer Unternehmen unterliegen wir strengen Datenschutzrichtlinien. Deine Daten und Bilder werden ausschließlich für die Erstellung deiner Videos verwendet und niemals für andere Zwecke weitergegeben."}];return i.jsxs("div",{children:[i.jsx(Qs,{title:"Kontakt",subtitle:"Hast du Fragen oder möchtest du mehr über unsere Dienstleistungen erfahren? Kontaktiere uns – wir sind für dich da."}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",withPattern:!0,withDecoration:!0,children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx(L,{animation:"slide-right",className:"lg:col-span-1",children:i.jsxs(ye,{className:"h-full",children:[i.jsx("h2",{className:"text-2xl font-medium mb-8 text-fmv-orange",children:"Kontaktinformationen"}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/20 w-12 h-12 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:i.jsx(Rs,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-silk font-medium mb-1",children:"E-Mail"}),i.jsx("a",{href:"mailto:info@fixmyvideo.io",className:"text-gray-400 hover:text-fmv-orange transition-colors inline-block",children:"info@fixmyvideo.io"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/20 w-12 h-12 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:i.jsx(mk,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-silk font-medium mb-1",children:"Telefon"}),i.jsx("a",{href:"tel:+41441234567",className:"text-gray-400 hover:text-fmv-orange transition-colors inline-block",children:"+41 44 123 45 67"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/20 w-12 h-12 rounded-full flex items-center justify-center mr-4 flex-shrink-0",children:i.jsx(R4,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-silk font-medium mb-1",children:"Adresse"}),i.jsxs("address",{className:"text-gray-400 not-italic",children:["Musterstrasse 123",i.jsx("br",{}),"8000 Zürich",i.jsx("br",{}),"Schweiz"]})]})]})]}),i.jsxs("div",{className:"mt-10 pt-6 border-t border-fmv-carbon-light/20",children:[i.jsx("h3",{className:"text-fmv-silk font-medium mb-4",children:"Geschäftszeiten"}),i.jsxs("ul",{className:"text-gray-400 space-y-2",children:[i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Montag - Freitag:"}),i.jsx("span",{children:"9:00 - 18:00"})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Samstag:"}),i.jsx("span",{children:"Geschlossen"})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Sonntag:"}),i.jsx("span",{children:"Geschlossen"})]})]})]})]})}),i.jsx(L,{animation:"slide-left",className:"lg:col-span-2",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-2xl font-medium mb-8 text-fmv-orange",children:"Schreib uns"}),n?i.jsxs("div",{className:"text-center py-12",children:[i.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,type:"spring"},className:"inline-flex items-center justify-center bg-fmv-orange/20 rounded-full w-20 h-20 mb-6",children:i.jsx(pt,{className:"h-10 w-10 text-fmv-orange"})}),i.jsx("h3",{className:"text-2xl font-medium mb-4 text-fmv-silk",children:"Nachricht gesendet!"}),i.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Vielen Dank für deine Nachricht. Wir werden uns in Kürze bei dir melden."})]}):i.jsxs("form",{onSubmit:a,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-fmv-silk/80 font-light mb-2",children:["Name ",i.jsx("span",{className:"text-fmv-orange",children:"*"})]}),i.jsx("input",{type:"text",id:"name",className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",placeholder:"Dein Name",value:t.name,onChange:s,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-fmv-silk/80 font-light mb-2",children:["E-Mail ",i.jsx("span",{className:"text-fmv-orange",children:"*"})]}),i.jsx("input",{type:"email",id:"email",className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",placeholder:"deine.email@beispiel.com",value:t.email,onChange:s,required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-fmv-silk/80 font-light mb-2",children:"Telefon (optional)"}),i.jsx("input",{type:"tel",id:"phone",className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",placeholder:"+41 XX XXX XX XX",value:t.phone,onChange:s})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"subject",className:"block text-fmv-silk/80 font-light mb-2",children:["Betreff ",i.jsx("span",{className:"text-fmv-orange",children:"*"})]}),i.jsxs("select",{id:"subject",className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",value:t.subject,onChange:s,required:!0,children:[i.jsx("option",{value:"",children:"Bitte wählen..."}),i.jsx("option",{value:"allgemein",children:"Allgemeine Anfrage"}),i.jsx("option",{value:"bestellung",children:"Frage zu einer Bestellung"}),i.jsx("option",{value:"support",children:"Technischer Support"}),i.jsx("option",{value:"geschaeftlich",children:"Geschäftliche Kooperation"}),i.jsx("option",{value:"presse",children:"Presseanfrage"})]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"message",className:"block text-fmv-silk/80 font-light mb-2",children:["Nachricht ",i.jsx("span",{className:"text-fmv-orange",children:"*"})]}),i.jsx("textarea",{id:"message",className:"w-full bg-fmv-carbon-darker border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:border-fmv-orange/50 focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",rows:6,placeholder:"Wie können wir dir helfen?",value:t.message,onChange:s,required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"privacy",className:"mr-3",required:!0}),i.jsxs("label",{htmlFor:"privacy",className:"text-gray-400 text-sm",children:["Ich habe die ",i.jsx("a",{href:"/datenschutz",className:"text-fmv-orange hover:underline",children:"Datenschutzbestimmungen"})," gelesen und akzeptiert."]})]}),i.jsx("button",{type:"submit",className:"fmv-primary-btn px-8 py-3 font-medium",children:"Nachricht senden"})]})]})})]})}),i.jsxs(tt,{className:"bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon",withPattern:!0,children:[i.jsx(eo,{title:"Häufig gestellte Fragen",subtitle:"Schnelle Antworten auf deine wichtigsten Fragen"}),i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsx("div",{className:"space-y-6",children:o.map((l,c)=>i.jsx(L,{animation:"slide-up",delay:c*.1,children:i.jsxs(ye,{children:[i.jsx("h3",{className:"text-xl font-medium mb-3 text-fmv-silk",children:l.question}),i.jsx("p",{className:"text-gray-400",children:l.answer})]})},c))}),i.jsx("div",{className:"text-center mt-8",children:i.jsx(L,{animation:"fade",delay:.4,children:i.jsxs(U,{to:"/prozess#faq",className:"inline-flex items-center text-fmv-orange hover:text-fmv-orange-light font-medium transition-colors group",children:[i.jsx("span",{children:"Weitere häufig gestellte Fragen"}),i.jsx(Xe,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform duration-300"})]})})})]})]})]})},zH=()=>i.jsxs("div",{children:[i.jsx(Qs,{title:"Impressum",withGradient:!1,size:"normal"}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsx(L,{animation:"fade",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"Angaben gemäß § 5 TMG"}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Unternehmen"}),i.jsx("p",{className:"text-fmv-silk mb-1",children:"fixmyvideo GmbH"}),i.jsx("p",{className:"text-gray-400",children:"Baarerstrasse 79"}),i.jsx("p",{className:"text-gray-400",children:"6300 Zug"}),i.jsx("p",{className:"text-gray-400",children:"Schweiz"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Kontakt"}),i.jsxs("p",{className:"text-gray-400 mb-1",children:["Telefon: ",i.jsx("a",{href:"tel:+41434443366",className:"hover:text-fmv-orange transition-colors",children:"+41 43 444 33 66"})]}),i.jsxs("p",{className:"text-gray-400",children:["E-Mail: ",i.jsx("a",{href:"mailto:info@fixmyvideo.io",className:"hover:text-fmv-orange transition-colors",children:"info@fixmyvideo.io"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Handelsregistereintrag"}),i.jsx("p",{className:"text-gray-400 mb-1",children:"Handelsregister-Nummer: CH-170.4.020.554-7"}),i.jsx("p",{className:"text-gray-400",children:"Rechtssitz der Firma: Zug"}),i.jsx("p",{className:"text-gray-400",children:"Handelsregisteramt: ZG"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Umsatzsteuer-Identifikationsnummer"}),i.jsx("p",{className:"text-gray-400",children:"CHE-236.044.160 MWST"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Verantwortlich für den Inhalt"}),i.jsx("p",{className:"text-fmv-silk mb-1",children:"Geschäftsführung fixmyvideo GmbH"}),i.jsx("p",{className:"text-gray-400",children:"Baarerstrasse 79"}),i.jsx("p",{className:"text-gray-400",children:"6300 Zug"}),i.jsx("p",{className:"text-gray-400",children:"Schweiz"})]})]})]})}),i.jsx(L,{animation:"fade",delay:.2,className:"mt-8",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"Haftungsausschluss"}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Haftung für Inhalte"}),i.jsx("p",{className:"text-gray-400 mb-4",children:"Die Inhalte unserer Seiten wurden mit größter Sorgfalt erstellt. Für die Richtigkeit, Vollständigkeit und Aktualität der Inhalte können wir jedoch keine Gewähr übernehmen. Als Diensteanbieter sind wir gemäß § 7 Abs.1 TMG für eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. Nach §§ 8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet, übermittelte oder gespeicherte fremde Informationen zu überwachen oder nach Umständen zu forschen, die auf eine rechtswidrige Tätigkeit hinweisen."}),i.jsx("p",{className:"text-gray-400",children:"Verpflichtungen zur Entfernung oder Sperrung der Nutzung von Informationen nach den allgemeinen Gesetzen bleiben hiervon unberührt. Eine diesbezügliche Haftung ist jedoch erst ab dem Zeitpunkt der Kenntnis einer konkreten Rechtsverletzung möglich. Bei Bekanntwerden von entsprechenden Rechtsverletzungen werden wir diese Inhalte umgehend entfernen."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Haftung für Links"}),i.jsx("p",{className:"text-gray-400",children:"Unser Angebot enthält Links zu externen Websites Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb können wir für diese fremden Inhalte auch keine Gewähr übernehmen. Für die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich. Die verlinkten Seiten wurden zum Zeitpunkt der Verlinkung auf mögliche Rechtsverstöße überprüft. Rechtswidrige Inhalte waren zum Zeitpunkt der Verlinkung nicht erkennbar. Eine permanente inhaltliche Kontrolle der verlinkten Seiten ist jedoch ohne konkrete Anhaltspunkte einer Rechtsverletzung nicht zumutbar. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Links umgehend entfernen."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Urheberrecht"}),i.jsx("p",{className:"text-gray-400",children:"Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem schweizerischen Urheberrecht. Die Vervielfältigung, Bearbeitung, Verbreitung und jede Art der Verwertung außerhalb der Grenzen des Urheberrechtes bedürfen der schriftlichen Zustimmung des jeweiligen Autors bzw. Erstellers. Downloads und Kopien dieser Seite sind nur für den privaten, nicht kommerziellen Gebrauch gestattet. Soweit die Inhalte auf dieser Seite nicht vom Betreiber erstellt wurden, werden die Urheberrechte Dritter beachtet. Insbesondere werden Inhalte Dritter als solche gekennzeichnet. Sollten Sie trotzdem auf eine Urheberrechtsverletzung aufmerksam werden, bitten wir um einen entsprechenden Hinweis. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Inhalte umgehend entfernen."})]})]})]})})]})})]}),UH=()=>i.jsxs("div",{children:[i.jsx(Qs,{title:"Datenschutzerklärung",withGradient:!1,size:"normal"}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-wrap gap-6 justify-center mb-10",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mb-3",children:i.jsx(fs,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("p",{className:"text-fmv-silk font-medium",children:"Hoher Datenschutz"})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mb-3",children:i.jsx(Lr,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("p",{className:"text-fmv-silk font-medium",children:"SSL-Verschlüsselung"})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mb-3",children:i.jsx(I4,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("p",{className:"text-fmv-silk font-medium",children:"Schweizer Serverstandort"})]})})]}),i.jsx(L,{animation:"fade",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"1. Datenschutz auf einen Blick"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Allgemeine Hinweise"}),i.jsx("p",{className:"text-gray-400",children:"Die folgenden Hinweise geben einen einfachen Überblick darüber, was mit Ihren personenbezogenen Daten passiert, wenn Sie unsere Website besuchen. Personenbezogene Daten sind alle Daten, mit denen Sie persönlich identifiziert werden können. Ausführliche Informationen zum Thema Datenschutz entnehmen Sie unserer unter diesem Text aufgeführten Datenschutzerklärung."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Datenerfassung auf unserer Website"}),i.jsx("p",{className:"text-fmv-silk/80 font-light mb-3",children:i.jsx("strong",{className:"text-fmv-silk",children:"Wer ist verantwortlich für die Datenerfassung auf dieser Website?"})}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Die Datenverarbeitung auf dieser Website erfolgt durch den Websitebetreiber. Dessen Kontaktdaten können Sie dem Impressum dieser Website entnehmen."}),i.jsx("p",{className:"text-fmv-silk/80 font-light mb-3",children:i.jsx("strong",{className:"text-fmv-silk",children:"Wie erfassen wir Ihre Daten?"})}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Ihre Daten werden zum einen dadurch erhoben, dass Sie uns diese mitteilen. Hierbei kann es sich z.B. um Daten handeln, die Sie in ein Kontaktformular eingeben."}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Andere Daten werden automatisch beim Besuch der Website durch unsere IT-Systeme erfasst. Das sind vor allem technische Daten (z.B. Internetbrowser, Betriebssystem oder Uhrzeit des Seitenaufrufs). Die Erfassung dieser Daten erfolgt automatisch, sobald Sie unsere Website betreten."}),i.jsx("p",{className:"text-fmv-silk/80 font-light mb-3",children:i.jsx("strong",{className:"text-fmv-silk",children:"Wofür nutzen wir Ihre Daten?"})}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Ein Teil der Daten wird erhoben, um eine fehlerfreie Bereitstellung der Website zu gewährleisten. Andere Daten können zur Analyse Ihres Nutzerverhaltens verwendet werden."}),i.jsx("p",{className:"text-fmv-silk/80 font-light mb-3",children:i.jsx("strong",{className:"text-fmv-silk",children:"Welche Rechte haben Sie bezüglich Ihrer Daten?"})}),i.jsx("p",{className:"text-gray-400",children:"Sie haben jederzeit das Recht unentgeltlich Auskunft über Herkunft, Empfänger und Zweck Ihrer gespeicherten personenbezogenen Daten zu erhalten. Sie haben außerdem ein Recht, die Berichtigung, Sperrung oder Löschung dieser Daten zu verlangen. Hierzu sowie zu weiteren Fragen zum Thema Datenschutz können Sie sich jederzeit unter der im Impressum angegebenen Adresse an uns wenden. Des Weiteren steht Ihnen ein Beschwerderecht bei der zuständigen Aufsichtsbehörde zu."})]})]})]})}),i.jsx(L,{animation:"fade",delay:.2,className:"mt-10",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"2. Allgemeine Hinweise und Pflichtinformationen"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Datenschutz"}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Die Betreiber dieser Seiten nehmen den Schutz Ihrer persönlichen Daten sehr ernst. Wir behandeln Ihre personenbezogenen Daten vertraulich und entsprechend der gesetzlichen Datenschutzvorschriften sowie dieser Datenschutzerklärung."}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Wenn Sie diese Website benutzen, werden verschiedene personenbezogene Daten erhoben. Personenbezogene Daten sind Daten, mit denen Sie persönlich identifiziert werden können. Die vorliegende Datenschutzerklärung erläutert, welche Daten wir erheben und wofür wir sie nutzen. Sie erläutert auch, wie und zu welchem Zweck das geschieht."}),i.jsx("p",{className:"text-gray-400",children:"Wir weisen darauf hin, dass die Datenübertragung im Internet (z.B. bei der Kommunikation per E-Mail) Sicherheitslücken aufweisen kann. Ein lückenloser Schutz der Daten vor dem Zugriff durch Dritte ist nicht möglich."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Hinweis zur verantwortlichen Stelle"}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Die verantwortliche Stelle für die Datenverarbeitung auf dieser Website ist:"}),i.jsx("p",{className:"text-fmv-silk mb-1",children:"FixMyVideo GmbH"}),i.jsx("p",{className:"text-gray-400 mb-1",children:"Musterstrasse 123"}),i.jsx("p",{className:"text-gray-400 mb-1",children:"8000 Zürich"}),i.jsx("p",{className:"text-gray-400 mb-1",children:"Schweiz"}),i.jsxs("p",{className:"text-gray-400 mb-3",children:["E-Mail: ",i.jsx("a",{href:"mailto:info@fixmyvideo.io",className:"text-fmv-orange hover:underline",children:"info@fixmyvideo.io"})]}),i.jsx("p",{className:"text-gray-400",children:"Verantwortliche Stelle ist die natürliche oder juristische Person, die allein oder gemeinsam mit anderen über die Zwecke und Mittel der Verarbeitung von personenbezogenen Daten (z.B. Namen, E-Mail-Adressen o. Ä.) entscheidet."})]})]})]})}),i.jsx(L,{animation:"fade",delay:.3,className:"mt-10",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"3. Datenerfassung auf unserer Website"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Cookies"}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Die Internetseiten verwenden teilweise so genannte Cookies. Cookies richten auf Ihrem Rechner keinen Schaden an und enthalten keine Viren. Cookies dienen dazu, unser Angebot nutzerfreundlicher, effektiver und sicherer zu machen. Cookies sind kleine Textdateien, die auf Ihrem Rechner abgelegt werden und die Ihr Browser speichert."}),i.jsx("p",{className:"text-gray-400 mb-3",children:'Die meisten der von uns verwendeten Cookies sind so genannte "Session-Cookies". Sie werden nach Ende Ihres Besuchs automatisch gelöscht. Andere Cookies bleiben auf Ihrem Endgerät gespeichert bis Sie diese löschen. Diese Cookies ermöglichen es uns, Ihren Browser beim nächsten Besuch wiederzuerkennen.'}),i.jsx("p",{className:"text-gray-400",children:"Sie können Ihren Browser so einstellen, dass Sie über das Setzen von Cookies informiert werden und Cookies nur im Einzelfall erlauben, die Annahme von Cookies für bestimmte Fälle oder generell ausschließen sowie das automatische Löschen der Cookies beim Schließen des Browser aktivieren. Bei der Deaktivierung von Cookies kann die Funktionalität dieser Website eingeschränkt sein."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-fmv-orange",children:"Server-Log-Dateien"}),i.jsx("p",{className:"text-gray-400 mb-3",children:"Der Provider der Seiten erhebt und speichert automatisch Informationen in so genannten Server-Log-Dateien, die Ihr Browser automatisch an uns übermittelt. Dies sind:"}),i.jsxs("ul",{className:"list-disc list-inside text-gray-400 mb-3 pl-4 space-y-1",children:[i.jsx("li",{children:"Browsertyp und Browserversion"}),i.jsx("li",{children:"Verwendetes Betriebssystem"}),i.jsx("li",{children:"Referrer URL"}),i.jsx("li",{children:"Hostname des zugreifenden Rechners"}),i.jsx("li",{children:"Uhrzeit der Serveranfrage"}),i.jsx("li",{children:"IP-Adresse"})]}),i.jsx("p",{className:"text-gray-400",children:"Eine Zusammenführung dieser Daten mit anderen Datenquellen wird nicht vorgenommen."})]})]})]})}),i.jsx(L,{animation:"fade",delay:.4,className:"mt-10",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"4. Datenverarbeitung für KI-Video-Erstellung"}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-gray-400 mb-3",children:"Für unseren Dienst zur KI-gestützten Videoerstellung benötigen wir Ihre Bilder und ggf. Audio-Dateien. Diese Inhalte werden ausschließlich für die Erstellung Ihrer angeforderten Videos verwendet und nicht für andere Zwecke genutzt oder an Dritte weitergegeben."}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/80 font-medium mb-2",children:"Speicherdauer:"}),i.jsx("p",{className:"text-gray-400",children:"Ihre hochgeladenen Inhalte werden für 30 Tage nach Fertigstellung Ihres Videos gespeichert, um eventuelle Änderungswünsche oder Korrekturen zu ermöglichen. Nach Ablauf dieser Frist werden die Inhalte automatisch von unseren Servern gelöscht, es sei denn, eine längere Aufbewahrung ist aus rechtlichen Gründen erforderlich."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/80 font-medium mb-2",children:"Nutzung der KI-Technologie:"}),i.jsx("p",{className:"text-gray-400",children:"Für die Videoerstellung setzen wir Künstliche Intelligenz ein, die Ihre Bilder analysiert, um daraus ein qualitativ hochwertiges Video zu erstellen. Die KI-Modelle werden nicht mit Ihren Inhalten trainiert, sondern lediglich zur Transformation Ihrer Inhalte in Videos genutzt."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/80 font-medium mb-2",children:"Rechtliche Grundlage:"}),i.jsx("p",{className:"text-gray-400",children:"Die Verarbeitung Ihrer Inhalte erfolgt auf Basis der Vertragserfüllung gemäß Art. 6 Abs. 1 lit. b DSGVO, da die Verarbeitung für die Erbringung unserer Dienstleistung notwendig ist."})]})]})]})})]})})]}),BH=()=>i.jsxs("div",{children:[i.jsx(Qs,{title:"Allgemeine Geschäftsbedingungen",withGradient:!1,size:"normal"}),i.jsx(tt,{className:"bg-gradient-to-b from-fmv-carbon to-fmv-carbon-darker",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsx(L,{animation:"fade",delay:.1,children:i.jsxs(ye,{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"1. Geltungsbereich"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-400",children:'1.1 Diese Allgemeinen Geschäftsbedingungen (nachfolgend "AGB") gelten für alle Verträge zwischen der FixMyVideo GmbH, Musterstrasse 123, 8000 Zürich, Schweiz (nachfolgend "Anbieter" oder "wir") und ihren Kunden (nachfolgend "Kunde" oder "Sie") über die Erstellung von KI-gestützten Videos aus Kundenbildern über die Website fixmyvideo.io.'}),i.jsx("p",{className:"text-gray-400",children:"1.2 Abweichende Bedingungen des Kunden werden nicht anerkannt, es sei denn, der Anbieter stimmt ihrer Geltung ausdrücklich schriftlich zu."}),i.jsx("p",{className:"text-gray-400",children:"1.3 Diese AGB gelten sowohl gegenüber Verbrauchern als auch gegenüber Unternehmern, es sei denn, in der jeweiligen Klausel wird eine Differenzierung vorgenommen."})]})]})}),i.jsx(L,{animation:"fade",delay:.15,className:"mb-8",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"2. Vertragsgegenstand und Leistungsbeschreibung"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-400",children:"2.1 Gegenstand des Vertrags ist die Erstellung von Videos aus vom Kunden bereitgestellten Bildern mittels KI-Technologie gemäß der auf der Website angegeben Leistungsbeschreibungen und Pakete."}),i.jsx("p",{className:"text-gray-400",children:"2.2 Der Anbieter bietet verschiedene Videopakete an, die sich in Bezug auf Videolänge, Anzahl der verwendbaren Bilder, Anzahl der Korrekturschleifen und weitere Leistungen unterscheiden. Der genaue Leistungsumfang ergibt sich aus der Beschreibung des jeweiligen Pakets zum Zeitpunkt der Bestellung."}),i.jsx("p",{className:"text-gray-400",children:"2.3 Die Lieferzeit beträgt in der Regel 24-48 Stunden ab Eingang aller erforderlichen Materialien und Zahlungsbestätigung, sofern nicht anders vereinbart. Bei hohem Auftragsvolumen kann es zu Verzögerungen kommen, über die der Kunde informiert wird."})]})]})}),i.jsx(L,{animation:"fade",delay:.2,className:"mb-8",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"3. Vertragsschluss"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-400",children:"3.1 Die Darstellung der Produkte im Online-Shop stellt kein rechtlich bindendes Angebot, sondern einen unverbindlichen Online-Katalog dar."}),i.jsx("p",{className:"text-gray-400",children:'3.2 Der Kunde gibt durch Abschluss des Bestellvorgangs und Betätigung des Buttons "Jetzt bestellen" ein verbindliches Angebot zum Kauf des betreffenden Produkts ab.'}),i.jsx("p",{className:"text-gray-400",children:"3.3 Der Vertrag kommt zustande, wenn der Anbieter das Angebot des Kunden innerhalb von zwei Werktagen durch eine Auftragsbestätigung per E-Mail annimmt."})]})]})}),i.jsx(L,{animation:"fade",delay:.25,className:"mb-8",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"4. Preise und Zahlungsbedingungen"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-400",children:"4.1 Alle Preise verstehen sich in Euro zuzüglich der jeweils gültigen gesetzlichen Mehrwertsteuer."}),i.jsx("p",{className:"text-gray-400",children:"4.2 Der Kunde kann die Zahlung per Kreditkarte, PayPal oder Banküberweisung vornehmen. Bei Auswahl der Zahlungsart Banküberweisung beginnt die Bearbeitung des Auftrags erst nach Zahlungseingang."}),i.jsx("p",{className:"text-gray-400",children:"4.3 Die Vergütung ist ohne Abzug sofort nach Vertragsschluss fällig."})]})]})}),i.jsx(L,{animation:"fade",delay:.3,className:"mb-8",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"5. Mitwirkungspflichten des Kunden"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-400",children:"5.1 Der Kunde ist verpflichtet, dem Anbieter alle für die Erstellung des Videos erforderlichen Materialien (Bilder, ggf. Audiodateien, Textinformationen) in der benötigten Form und Qualität zur Verfügung zu stellen."}),i.jsx("p",{className:"text-gray-400",children:"5.2 Der Kunde versichert, dass er über sämtliche Rechte an den von ihm zur Verfügung gestellten Materialien verfügt und diese keine Rechte Dritter verletzen. Der Kunde stellt den Anbieter von allen Ansprüchen Dritter frei, die aufgrund einer Verletzung dieser Pflicht entstehen können."}),i.jsx("p",{className:"text-gray-400",children:"5.3 Bei Bereitstellung von Musik durch den Kunden versichert dieser, dass er über die entsprechenden Nutzungsrechte verfügt."})]})]})}),i.jsx(L,{animation:"fade",delay:.35,className:"mb-8",children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"6. Lieferung und Abnahme"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-400",children:"6.1 Nach Fertigstellung wird das Video dem Kunden über einen Download-Link zur Verfügung gestellt."}),i.jsx("p",{className:"text-gray-400",children:"6.2 Der Kunde ist verpflichtet, das gelieferte Video innerhalb von 7 Tagen nach Bereitstellung zu prüfen und abzunehmen. Die Abnahme gilt als erfolgt, wenn der Kunde innerhalb dieser Frist keine Mängel rügt oder das Video nutzt."}),i.jsx("p",{className:"text-gray-400",children:"6.3 Änderungswünsche können im Rahmen der im jeweiligen Paket enthaltenen Korrekturschleifen berücksichtigt werden. Weitere Änderungen sind kostenpflichtig."})]})]})}),i.jsx(L,{animation:"fade",delay:.4,children:i.jsxs(ye,{children:[i.jsx("h2",{className:"text-xl font-medium mb-6 text-fmv-silk",children:"7. Nutzungsrechte"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-400",children:"7.1 Mit vollständiger Bezahlung der vereinbarten Vergütung erhält der Kunde ein einfaches, zeitlich und räumlich unbeschränktes Recht zur Nutzung des erstellten Videos für eigene geschäftliche oder private Zwecke."}),i.jsx("p",{className:"text-gray-400",children:"7.2 Der Anbieter behält sich das Recht vor, das erstellte Video zu Referenzzwecken auf der eigenen Website oder in sozialen Medien zu verwenden, sofern der Kunde dem nicht ausdrücklich widerspricht."}),i.jsx("p",{className:"text-gray-400",children:"7.3 Sämtliche Rechte an der verwendeten KI-Technologie und den zugrundeliegenden Algorithmen verbleiben beim Anbieter."})]})]})})]})})]}),$H=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(null),[s,a]=k.useState(!1),[o,l]=k.useState(""),[c,d]=k.useState(!1),[h,m]=k.useState(""),p=Yt(),g=ct(),{currentUser:N}=_t(),_=new URLSearchParams(g.search).get("package")||"flash",w=()=>{switch(_){case"spark":return 5;case"flash":return 10;case"ultra":return 20;default:return 10}},y=k.useCallback(C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?a(!0):C.type==="dragleave"&&a(!1)},[]),b=k.useCallback(C=>{C.preventDefault(),C.stopPropagation(),a(!1);const R=w();if(C.dataTransfer.files&&C.dataTransfer.files[0]){const q=Array.from(C.dataTransfer.files).filter(ce=>ce.type.startsWith("image/"));if(t.length+q.length>R){re.error(`Sie können maximal ${R} Bilder hochladen`);return}const le=q.map(ce=>Object.assign(ce,{preview:URL.createObjectURL(ce)}));e(ce=>[...ce,...le])}},[t,w]),S=k.useCallback(C=>{const R=w();if(C.target.files&&C.target.files[0]){const A=Array.from(C.target.files);if(t.length+A.length>R){re.error(`Sie können maximal ${R} Bilder hochladen`);return}const q=A.map(le=>Object.assign(le,{preview:URL.createObjectURL(le)}));e(le=>[...le,...q])}},[t,w]),D=k.useCallback(C=>{C.target.files&&C.target.files[0]&&r(C.target.files[0])},[]),V=k.useCallback(C=>{e(R=>{const A=[...R];return URL.revokeObjectURL(A[C].preview),A.splice(C,1),A})},[]),T=k.useCallback(()=>{r(null)},[]),x=async(C,R,A)=>{if(!N)throw new Error("User must be logged in to upload files");const q=Ss(Ps,R),le={customMetadata:{orderId:A,userId:N.uid}},ce=await Qu(q,C,le);return await Ca(ce.ref)},j=async(C,R,A)=>{const q=C.map((le,ce)=>{const pe=`${R}/${Date.now()}_${ce}_${le.name}`;return x(le,pe,A)});return Promise.all(q)},P=async()=>{if(!N){re.error("Bitte melden Sie sich an, um Dateien hochzuladen"),p("/auth/login",{state:g.pathname+g.search});return}if(t.length===0){re.error("Bitte laden Sie mindestens ein Bild hoch");return}d(!0),re.loading("Dateien werden hochgeladen...");try{let C;try{C=await K9()}catch(pe){console.error("Error generating order ID:",pe),C=`ORD-${Date.now().toString().slice(-8)}`}m(C),sessionStorage.setItem("currentOrderId",C);const R=`orders/${N.uid}/${C}/images`,A=`orders/${N.uid}/${C}/music`;let q=[];try{q=await j(t,R)}catch(pe){console.error("Error using uploadFiles helper:",pe);const H=t.map((Z,K)=>{const Y=`${R}/${Date.now()}_${K}_${Z.name}`,ue=Ss(Ps,Y);return Qu(ue,Z).then(we=>Ca(we.ref))});q=await Promise.all(H)}let le=null;if(n)try{le=(await j([n],A))[0]}catch(pe){console.error("Error uploading music:",pe);const H=`${A}/${Date.now()}_${n.name}`,Z=Ss(Ps,H),K=await Qu(Z,n);le=await Ca(K.ref)}const ce=t.map(pe=>pe.name);sessionStorage.setItem("uploadedImages",ce.join(",")),sessionStorage.setItem("orderId",C),q&&q.length>0&&sessionStorage.setItem("uploadedImageUrls",q.join(",")),le&&(sessionStorage.setItem("uploadedMusic",n.name),sessionStorage.setItem("uploadedMusicUrl",le)),o&&sessionStorage.setItem("uploadDescription",o),re.dismiss(),re.success("Dateien erfolgreich hochgeladen!"),p(`/bestellen/customize?package=${_}&images=${t.length}`)}catch(C){console.error("Error saving upload data:",C),re.dismiss();const R=C instanceof Error?C.message:"Ein unbekannter Fehler ist aufgetreten";console.error("Upload error details:",R),R.includes("User must be logged in")||R.includes("permission-denied")?(re.error("Bitte melden Sie sich an, um Dateien hochzuladen"),p("/auth/login",{state:g.pathname+g.search})):re.error("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."),d(!1)}};return an.useEffect(()=>()=>{t.forEach(C=>{C.preview&&URL.revokeObjectURL(C.preview)})},[t]),an.useEffect(()=>{N||console.log("No current user detected")},[N,p,g]),i.jsx("div",{className:"min-h-screen bg-fmv-carbon text-fmv-silk pt-20 sm:pt-24",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[i.jsxs("div",{className:"max-w-4xl mx-auto mb-12 relative",children:[i.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-fmv-carbon-light/20 -translate-y-1/2 z-0"}),i.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Paket wählen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange to-fmv-orange-light text-white flex items-center justify-center font-medium mb-3 shadow-lg shadow-fmv-orange/20 border-2 border-fmv-orange-light/30",children:i.jsx("span",{className:"text-lg",children:"2"})}),i.jsx("span",{className:"text-fmv-orange font-medium text-center text-xs sm:text-sm",children:"Inhalte hochladen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-fmv-carbon-light/20 text-fmv-silk/50 flex items-center justify-center font-medium mb-3 border-2 border-fmv-carbon-light/10",children:i.jsx("span",{className:"text-lg",children:"3"})}),i.jsx("span",{className:"text-fmv-silk/50 text-center text-xs sm:text-sm",children:"Video anpassen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-fmv-carbon-light/20 text-fmv-silk/50 flex items-center justify-center font-medium mb-3 border-2 border-fmv-carbon-light/10",children:i.jsx("span",{className:"text-lg",children:"4"})}),i.jsx("span",{className:"text-fmv-silk/50 text-center text-xs sm:text-sm",children:"Überprüfen & Bestellen"})]})]}),i.jsx("div",{className:"absolute top-1/2 left-0 w-[37.5%] h-2 bg-gradient-to-r from-fmv-orange to-fmv-orange-light -translate-y-1/2 z-0 rounded-full shadow-sm shadow-fmv-orange/20"})]}),i.jsx("div",{className:"text-center max-w-2xl mx-auto mt-8 mb-12",children:i.jsxs(L,{animation:"fade",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl font-light mb-4",children:["Lade deine ",i.jsx("span",{className:"text-fmv-orange font-medium",children:"Inhalte"})," hoch"]}),i.jsx("p",{className:"text-fmv-silk/80 mb-4",children:"Wähle die Bilder aus, die du in deinem Video verwenden möchtest. Je hochwertiger die Bilder, desto beeindruckender das Ergebnis."}),i.jsx("p",{className:"text-fmv-silk/70 max-w-xl mx-auto",children:"Deine Bilder werden durch unsere KI-Technologie in ein dynamisches Video verwandelt, das deine Produkte, Dienstleistungen oder Erinnerungen zum Leben erweckt. Ideal für Marketing, Social Media oder persönliche Momente."})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-medium",children:"Bilder"}),i.jsxs("span",{className:"text-fmv-silk/60",children:[t.length," von ",w()," Bildern"]})]}),i.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${s?"border-fmv-orange bg-fmv-orange/5":"border-fmv-carbon-light/30 hover:border-fmv-orange/50 hover:bg-fmv-carbon-light/5"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:b,children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:S,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(Ba,{className:"h-12 w-12 text-fmv-orange mb-4"}),i.jsx("p",{className:"text-lg font-medium mb-2",children:"Bilder hierher ziehen oder klicken zum Auswählen"}),i.jsxs("p",{className:"text-fmv-silk/60",children:["JPG, PNG oder TIFF, maximal ",w()," Bilder"]}),i.jsx("p",{className:"text-fmv-silk/60 mt-2 text-sm",children:"Für beste Ergebnisse: Hochwertige Bilder mit ähnlichem Stil und Farbschema"})]})]}),t.length>0&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-6",children:t.map((C,R)=>i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:C.preview,alt:`Preview ${R+1}`,className:"w-full h-full object-cover rounded-lg"}),i.jsx("button",{onClick:()=>V(R),className:"absolute top-2 right-2 bg-black/60 text-white rounded-full p-1 hover:bg-black/80 transition-colors",children:i.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},R))})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-medium mb-4",children:"Musik (optional)"}),i.jsx("div",{className:"bg-fmv-carbon-darker rounded-lg p-6 border border-fmv-carbon-light/30",children:n?i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Hp,{className:"h-8 w-8 text-fmv-orange mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:n.name}),i.jsxs("p",{className:"text-sm text-fmv-silk/60",children:[(n.size/(1024*1024)).toFixed(2)," MB"]})]})]}),i.jsx("button",{onClick:T,className:"text-fmv-silk/60 hover:text-fmv-orange transition-colors",children:i.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}):i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"file",accept:"audio/*",onChange:D,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx(Hp,{className:"h-8 w-8 text-fmv-orange mr-3"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-medium mb-1",children:"Eigene Musik hochladen"}),i.jsx("p",{className:"text-sm text-fmv-silk/60",children:"MP3 oder WAV, maximal 10MB"}),i.jsx("p",{className:"text-sm text-fmv-silk/60 mt-2",children:"Die richtige Musik verstärkt die emotionale Wirkung deines Videos"})]})]})]})})]})}),i.jsx(L,{animation:"slide-up",delay:.25,children:i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-medium mb-4",children:"Beschreibung"}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg p-6 border border-fmv-carbon-light/30",children:[i.jsx("p",{className:"text-fmv-silk/80 mb-4",children:"Beschreiben Sie kurz, was Ihr Video zeigen soll und welche Stimmung es vermitteln soll. Dies hilft uns, Ihr Video optimal an Ihre Wünsche anzupassen."}),i.jsx("textarea",{value:o,onChange:C=>l(C.target.value),className:"w-full bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Beispiel: Ich möchte ein Video für mein Restaurant erstellen, das die gemütliche Atmosphäre und unsere Spezialitäten zeigt. Die Stimmung sollte einladend und warm sein.",rows:4})]})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsx("div",{className:"bg-fmv-carbon-darker rounded-lg p-6 border border-fmv-carbon-light/30 mb-12",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/20 p-2 rounded-full mr-3 mt-1",children:i.jsx(Nh,{size:18,className:"text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-silk font-medium mb-2",children:"Tipps für optimale Ergebnisse"}),i.jsxs("ul",{className:"text-fmv-silk/70 space-y-2 text-sm",children:[i.jsx("li",{children:"• Verwende Bilder mit hoher Auflösung für beste Qualität"}),i.jsx("li",{children:"• Wähle Bilder mit ähnlichem Stil und Farbschema"}),i.jsx("li",{children:"• Vermeide Bilder mit Text - füge Text später hinzu"}),i.jsx("li",{children:"• Achte auf eine logische Reihenfolge der Bilder für eine zusammenhängende Geschichte"}),i.jsx("li",{children:"• Bei eigener Musik: Stelle sicher, dass du die Rechte besitzt"}),i.jsx("li",{children:"• Bilder mit klarem Fokus auf das Hauptmotiv erzeugen bessere Ergebnisse"}),i.jsx("li",{children:"• Eine detaillierte Beschreibung hilft uns, deine Vision besser umzusetzen"})]})]})]})})}),i.jsxs("div",{className:"flex justify-between max-w-4xl mx-auto",children:[i.jsx("button",{onClick:()=>p(`/bestellen?package=${_}`),className:"px-6 py-2 border border-fmv-carbon-light/30 rounded-md text-fmv-silk hover:bg-fmv-carbon-light/10 transition-colors",children:"Zurück"}),i.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-8 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light transition-colors ${t.length===0||c?"opacity-50 cursor-not-allowed":""}`,disabled:t.length===0||c,onClick:P,children:c?i.jsxs("div",{className:"flex items-center",children:[i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),i.jsx("span",{children:"Hochladen..."})]}):"Weiter"})]})]})]})})},HH=()=>{const t=Yt(),e=ct(),r=new URLSearchParams(e.search).get("package")||"flash",[s,a]=k.useState("16:9"),[o,l]=k.useState("dynamic"),[c,d]=k.useState("upbeat"),[h,m]=k.useState("medium"),[p,g]=k.useState([]),[N,E]=k.useState(""),[_,w]=k.useState(()=>{const x=sessionStorage.getItem("uploadedImages");return x?x.split(",").filter(Boolean):[]}),y=[{id:"16:9",label:"Landscape (16:9)",description:"Ideal für YouTube, Websites"},{id:"9:16",label:"Portrait (9:16)",description:"Perfekt für Instagram, TikTok"},{id:"1:1",label:"Square (1:1)",description:"Optimal für Instagram, Facebook"}],b=[{id:"dynamic",label:"Dynamisch",description:"Lebendige Übergänge mit Bewegung"},{id:"smooth",label:"Sanft",description:"Weiche, fließende Übergänge"},{id:"minimal",label:"Minimalistisch",description:"Klare, einfache Übergänge"},{id:"creative",label:"Kreativ",description:"Künstlerische, ungewöhnliche Effekte"}],S=[{id:"upbeat",label:"Energetisch",description:"Lebhaft und motivierend"},{id:"relaxed",label:"Entspannt",description:"Ruhig und beruhigend"},{id:"corporate",label:"Business",description:"Professionell und seriös"},{id:"emotional",label:"Emotional",description:"Gefühlvoll und bewegend"},{id:"custom",label:"Eigene Musik",description:"Ihre hochgeladene Audiodatei"}],D=[{id:"slow",label:"Langsam",description:"Ruhiges Tempo"},{id:"medium",label:"Mittel",description:"Ausgewogenes Tempo"},{id:"fast",label:"Schnell",description:"Dynamisches Tempo"}],V=()=>{try{const x={selectedFormat:s,selectedStyle:o,selectedMusic:c,selectedSpeed:h,textOverlays:p.length||1};sessionStorage.setItem("orderCustomization",JSON.stringify(x)),t(`/bestellen/upsell?package=${r}`)}catch(x){console.error("Error saving customization data:",x),re.error("Ein Fehler ist aufgetreten. Bitte versuche es erneut.")}},T=x=>{E(x.target.value);const j=x.target.value.split(`
`).filter(P=>P.trim()!=="");g(j)};return i.jsx("div",{className:"min-h-screen bg-fmv-carbon text-fmv-silk pt-20 sm:pt-24",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[i.jsxs("div",{className:"max-w-4xl mx-auto mb-12 relative",children:[i.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-fmv-carbon-light/20 -translate-y-1/2 z-0"}),i.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Paket wählen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Inhalte hochladen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange to-fmv-orange-light text-white flex items-center justify-center font-medium mb-3 shadow-lg shadow-fmv-orange/20 border-2 border-fmv-orange-light/30",children:i.jsx("span",{className:"text-lg",children:"3"})}),i.jsx("span",{className:"text-fmv-orange font-medium text-center text-xs sm:text-sm",children:"Video anpassen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-fmv-carbon-light/20 text-fmv-silk/50 flex items-center justify-center font-medium mb-3 border-2 border-fmv-carbon-light/10",children:i.jsx("span",{className:"text-lg",children:"4"})}),i.jsx("span",{className:"text-fmv-silk/50 text-center text-xs sm:text-sm",children:"Überprüfen & Bestellen"})]})]}),i.jsx("div",{className:"absolute top-1/2 left-0 w-[62.5%] h-2 bg-gradient-to-r from-fmv-orange to-fmv-orange-light -translate-y-1/2 z-0 rounded-full shadow-sm shadow-fmv-orange/20"})]}),i.jsx("div",{className:"text-center max-w-2xl mx-auto mb-12",children:i.jsxs(L,{animation:"fade",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl font-light mb-4",children:["Passe dein ",i.jsx("span",{className:"text-fmv-orange font-medium",children:"Video"})," an"]}),i.jsx("p",{className:"text-fmv-silk/80",children:"Wähle die Einstellungen, die am besten zu deinem Projekt passen. Du kannst Format, Stil, Musik und mehr anpassen."})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Dv,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Videoformat"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map(x=>i.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${s===x.id?"border-fmv-orange bg-fmv-orange/10":"border-fmv-carbon-light/30 hover:border-fmv-orange/50 hover:bg-fmv-carbon-light/5"}`,onClick:()=>a(x.id),children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-1",children:x.label}),i.jsx("p",{className:"text-sm text-fmv-silk/60",children:x.description})]}),s===x.id&&i.jsx("div",{className:"bg-fmv-orange rounded-full p-1",children:i.jsx(ie,{className:"h-4 w-4 text-white"})})]})},x.id))})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Mr,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Stil & Übergänge"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(x=>i.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${o===x.id?"border-fmv-orange bg-fmv-orange/10":"border-fmv-carbon-light/30 hover:border-fmv-orange/50 hover:bg-fmv-carbon-light/5"}`,onClick:()=>l(x.id),children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-1",children:x.label}),i.jsx("p",{className:"text-sm text-fmv-silk/60",children:x.description})]}),o===x.id&&i.jsx("div",{className:"bg-fmv-orange rounded-full p-1",children:i.jsx(ie,{className:"h-4 w-4 text-white"})})]})},x.id))})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Hp,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Musikstil"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:S.map(x=>i.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${c===x.id?"border-fmv-orange bg-fmv-orange/10":"border-fmv-carbon-light/30 hover:border-fmv-orange/50 hover:bg-fmv-carbon-light/5"}`,onClick:()=>d(x.id),children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-1",children:x.label}),i.jsx("p",{className:"text-sm text-fmv-silk/60",children:x.description})]}),c===x.id&&i.jsx("div",{className:"bg-fmv-orange rounded-full p-1",children:i.jsx(ie,{className:"h-4 w-4 text-white"})})]})},x.id))})]})}),i.jsx(L,{animation:"slide-up",delay:.4,children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Ti,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Geschwindigkeit"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.map(x=>i.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${h===x.id?"border-fmv-orange bg-fmv-orange/10":"border-fmv-carbon-light/30 hover:border-fmv-orange/50 hover:bg-fmv-carbon-light/5"}`,onClick:()=>m(x.id),children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-1",children:x.label}),i.jsx("p",{className:"text-sm text-fmv-silk/60",children:x.description})]}),h===x.id&&i.jsx("div",{className:"bg-fmv-orange rounded-full p-1",children:i.jsx(ie,{className:"h-4 w-4 text-white"})})]})},x.id))})]})}),i.jsx(L,{animation:"slide-up",delay:.5,children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(B4,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Texteinblendungen (optional)"})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg p-6 border border-fmv-carbon-light/30",children:[i.jsxs("p",{className:"text-fmv-silk/80 mb-4",children:["Geben Sie hier Text ein, den Sie im Video einblenden möchten (z.B. Titel, Beschreibungen, Kontaktdaten). Trennen Sie verschiedene Texteinblendungen durch Zeilenumbrüche.",r==="spark"&&i.jsx("span",{className:"block mt-2 text-fmv-orange",children:"Maximal 3 Texteinblendungen im Spark-Paket."}),r==="flash"&&i.jsx("span",{className:"block mt-2 text-fmv-orange",children:"Maximal 6 Texteinblendungen im Flash-Paket."}),r==="ultra"&&i.jsx("span",{className:"block mt-2 text-fmv-orange",children:"Maximal 10 Texteinblendungen im Ultra-Paket."}),i.jsxs("span",{className:"block mt-2 text-fmv-silk/60",children:["Hochgeladene Bilder: ",_.length||0]})]}),i.jsx("textarea",{value:N,onChange:T,className:"w-full bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:`Beispiel:
Willkommen bei [Ihr Unternehmen]
Entdecken Sie unsere Produkte
Kontaktieren Sie uns unter info@example.com`,rows:6}),i.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-fmv-silk/60",children:["Eingegebene Texteinblendungen: ",p.length]}),(()=>{let x=3;return r==="flash"&&(x=6),r==="ultra"&&(x=10),p.length>x?i.jsxs("span",{className:"text-sm text-red-400",children:["Maximale Anzahl überschritten! (",x,")"]}):null})()]})]})]})}),i.jsxs("div",{className:"flex justify-between max-w-4xl mx-auto pt-6",children:[i.jsx("button",{onClick:()=>t(`/bestellen/upload?package=${r}`),className:"px-6 py-2 border border-fmv-carbon-light/30 rounded-md text-fmv-silk hover:bg-fmv-carbon-light/10 transition-colors",children:"Zurück"}),i.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light transition-colors",onClick:V,children:"Weiter"})]})]})]})})},WH=()=>{const t=Yt(),e=ct(),n=new URLSearchParams(e.search),r=n.get("package")||"flash",s=parseInt(n.get("images")||"5"),o=(()=>{try{const j=sessionStorage.getItem("orderCustomization");if(j)return JSON.parse(j)}catch(j){console.error("Error parsing customization data:",j)}return{selectedFormat:"16:9",selectedStyle:"Dynamisch",selectedMusic:"Energetisch",selectedSpeed:"Mittel",textOverlays:3}})(),[l,c]=k.useState([]),[d,h]=k.useState([o.selectedFormat||"16:9"]),[m,p]=k.useState(""),[g,N]=k.useState(""),E=[{id:"express-delivery",title:"Express-Lieferung",price:100,description:"Erhalte dein Video innerhalb von 12 Stunden statt 24-48 Stunden",icon:i.jsx(Db,{className:"h-6 w-6 text-fmv-orange"}),details:["Prioritätsbearbeitung durch unser Team","Garantierte Lieferung innerhalb von 12 Stunden","Ideal für zeitkritische Projekte","Inklusive Express-Support"]},{id:"4k-resolution",title:"4K Auflösung",price:50,description:"Upgrade auf 4K Ultra-HD Qualität für maximale Schärfe und Details",icon:i.jsx(Ds,{className:"h-6 w-6 text-fmv-orange"}),details:["Viermal höhere Auflösung als Standard-HD","Ideal für große Bildschirme und Projektionen","Zukunftssicher für moderne Displays","Mehr Details und Klarheit"]},{id:"color-correction",title:"Farbkorrektur",price:60,description:"Professionelle Farbkorrektur für optimale Bildqualität und Stimmung",icon:i.jsx(Cb,{className:"h-6 w-6 text-fmv-orange"}),details:["Professionelle Farbabstimmung aller Bilder","Konsistente Farbpalette im gesamten Video","Optimierte Kontraste und Sättigung","Stimmungsvolle Farbatmosphäre"]},{id:"custom-effects",title:"Spezialeffekte",price:60,description:"Individuelle Animationen und visuelle Effekte für mehr Dynamik",icon:i.jsx(Rb,{className:"h-6 w-6 text-fmv-orange"}),details:["Maßgeschneiderte Übergangseffekte","Dynamische Text-Animationen","Visuelle Akzente und Highlights","Professionelle Motion-Graphics"]},{id:"quality-enhancement",title:"Qualitätsverbesserung",price:40,description:"KI-gestützte Verbesserung der Bildqualität für optimale Ergebnisse",icon:i.jsx(Lr,{className:"h-6 w-6 text-fmv-orange"}),details:["KI-basierte Bildoptimierung für maximale Klarheit","Rauschunterdrückung und Schärfung","Verbesserte Details und Texturen"]},{id:"source-files",title:"Quelldateien",price:120,description:"Erhalte die Quelldateien für weitere Bearbeitung",icon:i.jsx(P4,{className:"h-6 w-6 text-fmv-orange"}),details:["Vollständige Projektdateien für Eigenbearbeitung","Alle verwendeten Assets und Ressourcen","Unbegrenzte Anpassungsmöglichkeiten","Ideal für Agenturen und Profis"]}],_=[{id:"16:9",label:"Landscape (16:9)",description:"Ideal für YouTube, Websites, TV",icon:i.jsx(D4,{className:"h-6 w-6 text-fmv-orange"})},{id:"9:16",label:"Portrait (9:16)",description:"Perfekt für Instagram/TikTok Stories",icon:i.jsx(L4,{className:"h-6 w-6 text-fmv-orange"})},{id:"1:1",label:"Square (1:1)",description:"Optimal für Instagram/Facebook Feed",icon:i.jsx(z4,{className:"h-6 w-6 text-fmv-orange"})},{id:"4:5",label:"Instagram (4:5)",description:"Maximale Größe für Instagram Feed",icon:i.jsx(Bl,{className:"h-6 w-6 text-fmv-orange"})},{id:"2.35:1",label:"Cinematic (2.35:1)",description:"Filmisches Breitbildformat",icon:i.jsx(Ds,{className:"h-6 w-6 text-fmv-orange"})}],w=j=>{c(P=>P.includes(j)?P.filter(C=>C!==j):[...P,j])},y=j=>{d.includes(j)&&d.length===1||h(P=>P.includes(j)?P.filter(C=>C!==j):[...P,j])},b=()=>Math.max(0,d.length-1)*30,S=()=>{let j=0;switch(r){case"spark":j=150;break;case"flash":j=250;break;case"ultra":j=350;break;default:j=250}return l.forEach(P=>{const C=E.find(R=>R.id===P);C&&(j+=C.price)}),j+=b(),j},D=()=>{try{const j={selectedOptions:l,selectedFormats:d,colorReference:m,effectsReference:g};sessionStorage.setItem("orderUpsells",JSON.stringify(j)),t(`/bestellen/review?package=${r}`)}catch(j){console.error("Error saving upsell data:",j),re.error("Ein Fehler ist aufgetreten. Bitte versuche es erneut.")}},V=S(),T=V*.081,x=V+T;return i.jsx("div",{className:"min-h-screen bg-fmv-carbon text-fmv-silk pt-20 sm:pt-24",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[i.jsxs("div",{className:"max-w-4xl mx-auto mb-12 relative",children:[i.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-fmv-carbon-light/20 -translate-y-1/2 z-0"}),i.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Paket wählen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Inhalte hochladen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Video anpassen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange to-fmv-orange-light text-white flex items-center justify-center font-medium mb-3 shadow-lg shadow-fmv-orange/20 border-2 border-fmv-orange-light/30",children:i.jsx("span",{className:"text-lg",children:"4"})}),i.jsx("span",{className:"text-fmv-orange font-medium text-center text-xs sm:text-sm",children:"Extras wählen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-fmv-carbon-light/20 text-fmv-silk/50 flex items-center justify-center font-medium mb-3 border-2 border-fmv-carbon-light/10",children:i.jsx("span",{className:"text-lg",children:"5"})}),i.jsx("span",{className:"text-fmv-silk/50 text-center text-xs sm:text-sm",children:"Bestellen"})]})]}),i.jsx("div",{className:"absolute top-1/2 left-0 w-[75%] h-2 bg-gradient-to-r from-fmv-orange to-fmv-orange-light -translate-y-1/2 z-0 rounded-full shadow-sm shadow-fmv-orange/20"})]}),i.jsx("div",{className:"text-center max-w-2xl mx-auto mb-12",children:i.jsxs(L,{animation:"fade",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl font-light mb-4",children:["Optimiere dein ",i.jsx("span",{className:"text-fmv-orange font-medium",children:"Video"})]}),i.jsx("p",{className:"text-fmv-silk/80",children:"Wähle zusätzliche Optionen, um dein Video zu verbessern und für verschiedene Plattformen zu optimieren."})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsx("div",{className:"bg-gradient-to-r from-fmv-carbon-light/20 to-fmv-carbon-light/5 rounded-lg p-6 border border-fmv-carbon-light/30 mb-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[i.jsxs("div",{className:"mb-4 md:mb-0",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk mb-1",children:"Deine Bestellung"}),i.jsxs("p",{className:"text-fmv-silk/70",children:[i.jsx("span",{className:"capitalize",children:r})," Paket • ",s," ",s===1?"Bild":"Bilder"," • Format ",d[0]]})]}),i.jsxs("div",{className:"text-fmv-orange text-xl font-medium",children:["Grundpreis: CHF ",r==="spark"?"150":r==="ultra"?"350":"250"]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs(ye,{border:!0,className:"overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent -mx-6 -mt-6 px-6 pt-6 pb-4 mb-4 border-b border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Dv,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Videoformate"})]}),i.jsx("div",{className:"text-fmv-orange font-medium",children:b()>0&&`+CHF ${b()}`})]})}),i.jsxs("p",{className:"text-fmv-silk/70 mb-6",children:["Wähle die Formate, in denen du dein Video erhalten möchtest. Das erste Format ist im Preis inbegriffen, jedes zusätzliche Format kostet ",i.jsx("span",{className:"text-fmv-orange font-medium",children:"CHF 30"}),"."]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(j=>i.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${d.includes(j.id)?"border-fmv-orange bg-fmv-orange/10":"border-fmv-carbon-light/30 hover:border-fmv-orange/50 hover:bg-fmv-carbon-light/5"}`,onClick:()=>y(j.id),children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"mb-3",children:j.icon}),i.jsx("h3",{className:"font-medium mb-1",children:j.label}),i.jsx("p",{className:"text-sm text-fmv-silk/60",children:j.description}),i.jsx("div",{className:"mt-4",children:d.includes(j.id)?i.jsx("div",{className:"bg-fmv-orange rounded-full p-1 inline-block",children:i.jsx(ie,{className:"h-4 w-4 text-white"})}):i.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-fmv-carbon-light/50 inline-block"})})]})},j.id))}),d.length>1&&i.jsx("div",{className:"mt-4 bg-fmv-orange/10 border border-fmv-orange/30 rounded-md p-3",children:i.jsxs("p",{className:"text-fmv-orange text-sm",children:[i.jsxs("span",{className:"font-medium",children:["+",d.length-1," zusätzliche Formate"]})," - Dein Video wird in allen ausgewählten Formaten geliefert, perfekt optimiert für verschiedene Plattformen."]})})]})}),l.includes("color-correction")&&i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg p-6 border border-fmv-orange/30",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx(Cb,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Farbkorrektur-Referenz"})]}),i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Gib uns Hinweise zur gewünschten Farbstimmung. Beschreibe den Look oder verlinke Referenzbilder/-videos."}),i.jsx("textarea",{value:m,onChange:j=>p(j.target.value),className:"w-full bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Beispiel: Warme, leicht gesättigte Farben mit hohem Kontrast. Referenz: https://example.com/reference-image.jpg",rows:4}),i.jsx("div",{className:"mt-4 bg-fmv-orange/10 border border-fmv-orange/30 rounded-md p-3",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(cl,{className:"h-5 w-5 text-fmv-orange mt-0.5 mr-3 flex-shrink-0"}),i.jsx("p",{className:"text-fmv-orange/90 text-sm",children:"Je detaillierter deine Beschreibung, desto besser können wir deine Vorstellung umsetzen. Du kannst auch URLs zu Referenzbildern oder -videos angeben."})]})})]})}),l.includes("custom-effects")&&i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg p-6 border border-fmv-orange/30",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx(Rb,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Spezialeffekte-Referenz"})]}),i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Beschreibe, welche Art von Effekten du dir für dein Video wünschst. Gib gerne Beispiele oder Referenzen an."}),i.jsx("textarea",{value:g,onChange:j=>N(j.target.value),className:"w-full bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 rounded-md px-4 py-3 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Beispiel: Sanfte Überblendungen zwischen den Bildern, leichte Zoom-Effekte und moderne Text-Animationen. Referenz: https://example.com/reference-video.mp4",rows:4}),i.jsx("div",{className:"mt-4 bg-fmv-orange/10 border border-fmv-orange/30 rounded-md p-3",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(cl,{className:"h-5 w-5 text-fmv-orange mt-0.5 mr-3 flex-shrink-0"}),i.jsx("p",{className:"text-fmv-orange/90 text-sm",children:"Spezifische Beschreibungen helfen uns, genau die Effekte zu erstellen, die du dir vorstellst. Du kannst auch Links zu Beispielvideos teilen, die den gewünschten Stil zeigen."})]})})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs(ye,{border:!0,className:"overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent -mx-6 -mt-6 px-6 pt-6 pb-4 mb-4 border-b border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Db,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Premium-Optionen"})]})}),i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Wähle aus diesen Premium-Optionen, um dein Video auf die nächste Stufe zu heben und ein noch professionelleres Ergebnis zu erzielen."}),i.jsx("div",{className:"space-y-4",children:E.map(j=>i.jsx("div",{className:"bg-fmv-carbon-darker rounded-lg overflow-hidden shadow-sm",children:i.jsxs("div",{className:`border-2 rounded-lg cursor-pointer transition-all ${l.includes(j.id)?"border-fmv-orange bg-fmv-orange/5 shadow-md shadow-fmv-orange/10":"border-fmv-carbon-light/20 hover:border-fmv-orange/30"}`,children:[i.jsxs("div",{className:"p-4 flex items-start justify-between",onClick:()=>w(j.id),children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"bg-fmv-carbon-light/10 p-2 rounded-md mr-3 flex-shrink-0",children:j.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-fmv-silk",children:j.title}),i.jsx("p",{className:"text-sm text-fmv-silk/60 mt-1",children:j.description})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-fmv-orange font-medium mr-3",children:["CHF ",j.price]}),i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${l.includes(j.id)?"bg-fmv-orange":"border-2 border-fmv-carbon-light/50"}`,children:l.includes(j.id)&&i.jsx(ie,{className:"h-4 w-4 text-white"})})]})]}),l.includes(j.id)&&j.details&&i.jsxs("div",{className:"bg-fmv-carbon-light/5 p-4 border-t border-fmv-carbon-light/10 animate-fade-in",children:[i.jsx("h4",{className:"text-sm font-medium text-fmv-silk/80 mb-2",children:"Details:"}),i.jsx("ul",{className:"space-y-1",children:j.details.map((P,C)=>i.jsxs("li",{className:"flex items-start text-sm",children:[i.jsx(ie,{className:"h-4 w-4 text-fmv-orange mr-2 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-fmv-silk/70",children:P})]},C))})]})]})},j.id))})]})})]}),i.jsx("div",{className:"lg:col-span-4",children:i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-darker to-fmv-carbon-dark rounded-lg p-6 border border-fmv-carbon-light/30 sticky top-24 shadow-lg",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent -mx-6 -mt-6 px-6 pt-6 pb-4 mb-4 border-b border-fmv-carbon-light/20",children:i.jsx("h2",{className:"text-xl font-medium",children:"Bestellübersicht"})}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Paket"}),i.jsx("span",{className:"text-fmv-silk font-medium capitalize",children:r})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Formate"}),i.jsx("span",{className:"text-fmv-silk",children:d.join(", ")}),d.length>1&&i.jsxs("span",{className:"text-fmv-orange text-sm ml-2",children:["+",(d.length-1)*30," CHF"]})]}),l.length>0&&i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Zusatzoptionen"}),i.jsx("span",{className:"text-fmv-silk",children:l.length})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Zwischensumme"}),i.jsxs("span",{className:"text-fmv-silk",children:["CHF ",V.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"MwSt. (8.1%)"}),i.jsxs("span",{className:"text-fmv-silk",children:["CHF ",T.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center font-medium",children:[i.jsx("span",{className:"text-fmv-silk",children:"Gesamtbetrag inkl. MwSt"}),i.jsxs("span",{className:"text-fmv-orange text-xl",children:["CHF ",x.toFixed(2)]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 px-4 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light transition-colors flex items-center justify-center font-medium",onClick:D,children:["Weiter zur Bestellung",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]}),i.jsx("button",{onClick:()=>t(`/bestellen/customize?package=${r}`),className:"w-full py-2 px-4 border border-fmv-carbon-light/30 rounded-md text-fmv-silk hover:bg-fmv-carbon-light/10 transition-colors",children:"Zurück zu den Anpassungen"})]}),i.jsx("div",{className:"mt-6 bg-fmv-carbon-light/5 border border-fmv-carbon-light/20 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(cl,{className:"h-5 w-5 text-fmv-orange mt-0.5 mr-3 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/70 text-sm mb-2",children:"Alle Zusatzoptionen sind optional und verbessern die Qualität deines Videos."}),i.jsx("p",{className:"text-fmv-silk/70 text-sm",children:"Für Farbkorrektur und Spezialeffekte kannst du detaillierte Referenzen angeben, um genau das gewünschte Ergebnis zu erhalten."})]})]})}),l.length>0&&i.jsxs("div",{className:"mt-6 bg-fmv-orange/5 border border-fmv-orange/20 rounded-lg p-4",children:[i.jsx("h3",{className:"font-medium text-fmv-orange mb-2 text-sm",children:"Ausgewählte Premium-Optionen:"}),i.jsxs("ul",{className:"space-y-1",children:[l.map(j=>{const P=E.find(C=>C.id===j);return i.jsxs("li",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:"text-fmv-silk/80",children:P==null?void 0:P.title}),i.jsxs("span",{className:"text-fmv-orange",children:["CHF ",P==null?void 0:P.price]})]},j)}),d.length>1&&i.jsxs("li",{className:"flex justify-between text-xs",children:[i.jsxs("span",{className:"text-fmv-silk/80",children:["Zusätzliche Formate (",d.length-1,")"]}),i.jsxs("span",{className:"text-fmv-orange",children:["CHF ",b()]})]})]})]})]})})})]})]})]})})},qH={spark:{priceId:"price_1RDUSmG8zs3IhGJ0mJcD4trI",name:"Spark Video-Paket",description:"Dein 30-Sekunden-Video in jedem Format (16:9, 9:16, 1:1) inkl. Musik & Texteinblendungen. Fertig in 24-48 Stunden.",mode:"payment",price:150},flash:{priceId:"price_1RDUTuG8zs3IhGJ05S1R8Rrj",name:"Flash Video-Paket",description:"Ihr 60-Sekunden-Video mit mehr Details/Szenen, in jedem Format (16:9, 9:16, 1:1), inkl. Musik & Text. Fertig in 24-48 Std.",mode:"payment",price:250},ultra:{priceId:"price_1RDUVaG8zs3IhGJ0OtMO7OPU",name:"Ultra Video-Paket",description:"Ihr 90-Sekunden-Video (maximale Details & Szenen), in jedem Format (16:9, 9:16, 1:1), inkl. Musik & Text. Fertig in 24-48 Std.",mode:"payment",price:350}},KH=async(t,e=[],n=0)=>{var r,s;try{const a=(r=qH[t])==null?void 0:r.priceId;if(!a)throw new Error("Invalid package type");const o=Vn(Qe,"stripeCheckout"),l=await nm(o,{priceId:a,successUrl:`${window.location.origin}/payment/success`,cancelUrl:`${window.location.origin}/bestellen/review?package=${t}`,userId:((s=Zn.currentUser)==null?void 0:s.uid)||"guest",mode:"payment",timestamp:new Date,upsellOptions:e,additionalFormats:n});let c=0;const d=10;for(;c<d;){c++,await new Promise(m=>setTimeout(m,1e3));const h=await Bn(xn(Vn(Qe,"stripeCheckout"),mr("__name__","==",l.id)));if(!h.empty){const m=h.docs[0].data();if(m.sessionUrl)return{sessionId:m.sessionId,url:m.sessionUrl};if(m.error)throw new Error(m.error)}if(c>=d)throw new Error("Timeout waiting for checkout session")}throw new Error("Failed to create checkout session")}catch(a){throw console.error("Error creating checkout session:",a),a}},GH=()=>{const t=Yt(),e=ct(),{currentUser:n}=_t(),[r,s]=k.useState(!1),a=new URLSearchParams(e.search),o=a.get("package")||"flash",l=parseInt(a.get("images")||"5"),c=()=>{var K;try{const Y=sessionStorage.getItem("orderCustomization"),ue=((K=sessionStorage.getItem("uploadedImageUrls"))==null?void 0:K.split(","))||[],we=sessionStorage.getItem("uploadedImages"),Jt=we?we.split(",").filter(Boolean):[],Mt=sessionStorage.getItem("uploadedMusic")||null,ut=sessionStorage.getItem("uploadedMusicUrl")||null,Zt=sessionStorage.getItem("uploadDescription")||"";if(Y){const Ki=JSON.parse(Y);return{...Ki,uploadedImages:Jt,imageUrls:ue,musicName:Mt,musicUrl:ut,description:Zt,textOverlays:Ki.textOverlays||1,hasOwnMusic:!!Mt}}}catch(Y){console.error("Error parsing customization data:",Y)}return{selectedFormat:"16:9",selectedStyle:"Dynamisch",selectedMusic:"Energetisch",selectedSpeed:"Mittel",textOverlays:1,uploadedImages:[],imageUrls:[],musicName:null,musicUrl:null,description:"",hasOwnMusic:!1}},d=()=>{try{const K=sessionStorage.getItem("orderUpsells");if(K)return JSON.parse(K)}catch(K){console.error("Error parsing upsell data:",K)}return{selectedOptions:[],selectedFormats:["16:9"],colorReference:"",effectsReference:""}},h=c(),m=d(),g={spark:{title:"Spark",duration:"30 Sekunden",price:150,features:["Bis zu 5 Fotos","Ein Videoformat inklusive","Musik aus unserer Bibliothek","Bis zu 3 Texteinblendungen","Lieferung in 24-48h","1 Korrekturschleife","HD-Qualität 1080p"]},flash:{title:"Flash",duration:"60 Sekunden",price:250,features:["Bis zu 10 Fotos","Ein Videoformat inklusive","Musik aus unserer Bibliothek oder eigene Musik","Bis zu 6 Texteinblendungen","Lieferung in 24-48h","2 Korrekturschleifen","HD-Qualität 1080p"]},ultra:{title:"Ultra",duration:"90 Sekunden",price:350,features:["Bis zu 20 Fotos","Ein Videoformat inklusive","Musik aus unserer Bibliothek oder eigene Musik","Bis zu 10 Texteinblendungen","Lieferung in 24-48h","3 Korrekturschleifen","HD-Qualität 1080p","Premium-Support"]}}[o],N=h.selectedFormat||"16:9",E=m.selectedFormats.filter(K=>K!==N)||[],_=h.selectedStyle||"dynamic",w=h.selectedMusic||"upbeat",y=h.selectedSpeed||"medium",b=h.textOverlays||1,S=h.uploadedImages||[],D=h.imageUrls||[],V=h.musicName,T=h.description,x=m.selectedOptions||[],j=m.colorReference||"",P=m.effectsReference||"",C={"4k-resolution":50,"additional-format":30,"express-delivery":100,"color-correction":60,"custom-effects":60,"source-files":120},R=x.reduce((K,Y)=>K+(C[Y]||0),0),A=E.length*30,q=R+A,le=K=>{switch(K){case"4k-resolution":return"4K Auflösung";case"additional-format":return"Zusätzliches Format";case"express-delivery":return"Express-Lieferung";case"color-correction":return"Farbkorrektur";case"custom-effects":return"Spezialeffekte";case"source-files":return"Quelldateien";default:return K}},ce=g.price,pe=(ce+q)*.081,H=ce+q+pe,Z=async()=>{if(!n&&!confirm("Möchten Sie als Gast fortfahren? Wir empfehlen, sich anzumelden oder zu registrieren, um Ihre Bestellungen zu verfolgen.")){t("/auth/login",{state:e.pathname+e.search});return}s(!0);try{sessionStorage.setItem("currentOrder",JSON.stringify({package:o,imageUrls:D,musicUrl:h.musicUrl,customization:h,upsells:m,total:H}));const{url:K}=await KH(o,x,E.length);window.location.href=K}catch(K){console.error("Error creating checkout session:",K),re.error(`Fehler bei der Zahlungsinitialisierung: ${K instanceof Error?K.message:"Unbekannter Fehler"}`),s(!1)}};return i.jsx("div",{className:"min-h-screen bg-fmv-carbon text-fmv-silk pt-20 sm:pt-24",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[i.jsxs("div",{className:"max-w-4xl mx-auto mb-12 relative",children:[i.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-fmv-carbon-light/20 -translate-y-1/2 z-0"}),i.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Paket wählen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Inhalte hochladen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange/20 to-fmv-orange/30 text-fmv-orange flex items-center justify-center font-medium mb-3 border-2 border-fmv-orange/30",children:i.jsx(ie,{size:22})}),i.jsx("span",{className:"text-fmv-silk/60 text-center text-xs sm:text-sm",children:"Video anpassen"})]}),i.jsxs("div",{className:"flex flex-col items-center w-16 sm:w-24",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-fmv-orange to-fmv-orange-light text-white flex items-center justify-center font-medium mb-3 shadow-lg shadow-fmv-orange/20 border-2 border-fmv-orange-light/30",children:i.jsx("span",{className:"text-lg",children:"4"})}),i.jsx("span",{className:"text-fmv-orange font-medium text-center text-xs sm:text-sm",children:"Überprüfen & Bestellen"})]})]}),i.jsx("div",{className:"absolute top-1/2 left-0 w-[87.5%] h-2 bg-gradient-to-r from-fmv-orange to-fmv-orange-light -translate-y-1/2 z-0 rounded-full shadow-sm shadow-fmv-orange/20"})]}),i.jsx("div",{className:"text-center max-w-2xl mx-auto mb-12",children:i.jsxs(L,{animation:"fade",children:[i.jsxs("h1",{className:"text-3xl sm:text-4xl font-light mb-4",children:["Überprüfe deine ",i.jsx("span",{className:"text-fmv-orange font-medium",children:"Bestellung"})]}),i.jsx("p",{className:"text-fmv-silk/80",children:"Bitte überprüfe deine Auswahl und fahre mit der Zahlung fort, um dein Video zu bestellen."})]})}),i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsx(L,{animation:"slide-up",delay:.1,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg overflow-hidden border border-fmv-carbon-light/30 shadow-md",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent px-6 pt-6 pb-4 border-b border-fmv-carbon-light/20",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Bl,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsxs("h2",{className:"text-xl font-medium",children:["Hochgeladene Bilder (",S.length,")"]})]})})}),i.jsx("div",{className:"p-6",children:S.length>0?i.jsx("div",{className:"space-y-2",children:S.map((K,Y)=>i.jsx("div",{className:"flex items-center justify-between bg-fmv-carbon-light/10 p-3 rounded-lg",children:i.jsx("span",{className:"text-fmv-silk",children:K})},Y))}):i.jsx("div",{className:"text-center py-4 text-fmv-silk/60",children:i.jsx("p",{children:"Keine Bildnamen verfügbar"})})})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg overflow-hidden border border-fmv-carbon-light/30 shadow-md",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent px-6 pt-6 pb-4 border-b border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(O4,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Paket"})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 pb-4 border-b border-fmv-carbon-light/20",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-lg",children:g.title}),i.jsxs("p",{className:"text-fmv-silk/60",children:[g.duration," Video"]})]}),i.jsxs("p",{className:"text-fmv-orange font-medium text-xl",children:["CHF ",g.price]})]}),i.jsx("ul",{className:"space-y-2 mb-4",children:g.features.map((K,Y)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(ie,{className:"h-5 w-5 text-fmv-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-fmv-silk/80",children:K})]},Y))})]})]})}),i.jsx(L,{animation:"slide-up",delay:.2,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg overflow-hidden border border-fmv-carbon-light/30 shadow-md",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent px-6 pt-6 pb-4 border-b border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Bl,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Inhalte"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Hochgeladene Bilder"}),i.jsx("span",{className:"text-fmv-silk",children:l})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Eigene Musik"}),i.jsx("span",{className:"text-fmv-silk",children:V||"Nein"})]}),T&&i.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Beschreibung"}),i.jsx("span",{className:"text-fmv-silk text-right max-w-[60%]",children:T})]})]})})]})}),i.jsx(L,{animation:"slide-up",delay:.3,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg overflow-hidden border border-fmv-carbon-light/30 shadow-md",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent px-6 pt-6 pb-4 border-b border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Mr,{className:"h-6 w-6 text-fmv-orange mr-2"}),i.jsx("h2",{className:"text-xl font-medium",children:"Anpassungen"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Format"}),i.jsx("span",{className:"text-fmv-silk",children:N})]}),E.length>0&&i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Zusätzliche Formate"}),i.jsx("span",{className:"text-fmv-silk",children:E.join(", ")})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Stil"}),i.jsx("span",{className:"text-fmv-silk",children:_==="dynamic"?"Dynamisch":_==="smooth"?"Sanft":_==="minimal"?"Minimalistisch":_==="creative"?"Kreativ":_})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Geschwindigkeit"}),i.jsx("span",{className:"text-fmv-silk",children:y==="slow"?"Langsam":y==="medium"?"Mittel":y==="fast"?"Schnell":y})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Musik"}),i.jsx("span",{className:"text-fmv-silk",children:w==="upbeat"?"Energetisch":w==="relaxed"?"Entspannt":w==="corporate"?"Business":w==="emotional"?"Emotional":w==="custom"?"Eigene Musik":w})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Texteinblendungen"}),i.jsx("span",{className:"text-fmv-silk",children:b})]}),x.includes("color-correction")&&j.trim()&&i.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Farbkorrektur-Referenz"}),i.jsx("span",{className:"text-fmv-silk text-right max-w-[60%]",children:j})]}),x.includes("custom-effects")&&P.trim()&&i.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Effekte-Referenz"}),i.jsx("span",{className:"text-fmv-silk text-right max-w-[60%]",children:P})]})]})})]})})]}),i.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[i.jsx(L,{animation:"slide-up",delay:.4,children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg overflow-hidden border border-fmv-carbon-light/30 shadow-lg sticky top-24",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent px-6 pt-6 pb-4 border-b border-fmv-carbon-light/20",children:i.jsx("h2",{className:"text-xl font-medium",children:"Zusammenfassung"})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsxs("span",{className:"text-fmv-silk/80",children:[g.title," Paket"]}),i.jsxs("span",{className:"text-fmv-silk",children:["CHF ",ce.toFixed(2)]})]}),E.length>0&&i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsxs("span",{className:"text-fmv-silk/80",children:["Zusätzliche Formate (",E.length,")"]}),i.jsxs("span",{className:"text-fmv-silk",children:["CHF ",A.toFixed(2)]})]}),x.length>0&&R>0&&i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"Premium-Optionen"}),i.jsxs("span",{className:"text-fmv-silk",children:["CHF ",R.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/20",children:[i.jsx("span",{className:"text-fmv-silk/80",children:"MwSt. (8.1%)"}),i.jsxs("span",{className:"text-fmv-silk",children:["CHF ",pe.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center font-medium",children:[i.jsx("span",{className:"text-fmv-silk",children:"Gesamtbetrag"}),i.jsxs("span",{className:"text-fmv-orange text-xl",children:["CHF ",H.toFixed(2)]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:Z,disabled:r,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-fmv-orange hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:r?i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):i.jsxs(i.Fragment,{children:[i.jsx(Ul,{className:"mr-2 h-5 w-5"}),"Jetzt bezahlen"]})}),i.jsxs("button",{onClick:()=>t(`/bestellen/upsell?package=${o}`),className:"w-full flex justify-center items-center py-2 px-4 border border-fmv-carbon-light/30 rounded-md text-fmv-silk hover:bg-fmv-carbon-light/10 transition-colors",disabled:r,children:[i.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Zurück zu den Optionen"]})]})]})]})}),i.jsx(L,{animation:"slide-up",delay:.5,children:i.jsx("div",{className:"bg-yellow-900/20 border border-yellow-900/30 rounded-lg p-4 shadow-md",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(cl,{className:"h-5 w-5 text-yellow-400 mt-0.5 mr-3 flex-shrink-0"}),i.jsx("p",{className:"text-yellow-400 text-sm",children:"Nach Abschluss der Bestellung beginnen wir sofort mit der Erstellung deines Videos. Du erhältst eine Bestätigungs-E-Mail mit allen Details und kannst den Fortschritt in deinem Dashboard verfolgen. Deine Referenzen für Farbkorrektur und Effekte werden berücksichtigt."})]})})}),x.length>0&&i.jsx(L,{animation:"slide-up",delay:.6,className:"hidden lg:block",children:i.jsxs("div",{className:"bg-gradient-to-b from-fmv-carbon-light/10 to-fmv-carbon-darker rounded-lg overflow-hidden border border-fmv-carbon-light/30 shadow-md",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-orange/10 to-transparent px-6 pt-6 pb-4 border-b border-fmv-carbon-light/20",children:i.jsx("h3",{className:"font-medium",children:"Gewählte Premium-Optionen"})}),i.jsx("ul",{className:"p-6 space-y-2",children:x.map(K=>i.jsxs("li",{className:"flex justify-between items-center pb-2 border-b border-fmv-carbon-light/10",children:[i.jsx("span",{className:"text-fmv-silk/80",children:le(K)}),i.jsxs("span",{className:"text-fmv-orange",children:["CHF ",C[K]]})]},K))})]})})]})]})})]})})},QH=()=>{var h,m;const t=Yt(),[e]=Av(),{currentUser:n}=_t(),[r,s]=k.useState(!0),[a,o]=k.useState(null),[l,c]=k.useState(""),d=e.get("payment_intent");return k.useEffect(()=>{if((async()=>{var g,N,E;try{const _=sessionStorage.getItem("currentOrder"),w=sessionStorage.getItem("currentOrderId")||"";if(c(w),_){const y=JSON.parse(_);if(o(y),n){const b=Vn(Qe,"orders"),S=await nm(b,{orderId:w,userId:n.uid,packageType:y.package,imageUrls:y.imageUrls||[],musicUrl:y.musicUrl||null,customization:y.customization||{},upsells:((g=y.upsells)==null?void 0:g.selectedOptions)||[],additionalFormats:((E=(N=y.upsells)==null?void 0:N.selectedFormats)==null?void 0:E.length)>1?y.upsells.selectedFormats.filter(D=>D!==y.customization.selectedFormat):[],total:y.total,status:"In Bearbeitung",createdAt:Gu(),paymentIntentId:d||null});if(await Jd(S,{docId:S.id}),!w)try{const D=Ss(Ps,`uploads/${n.uid}`);console.log("Order created with ID:",S.id),console.log("Files path:",`orders/${n.uid}/${w}`)}catch(D){console.error("Error organizing storage files:",D)}}}}catch(_){console.error("Error parsing order data:",_)}finally{s(!1),sessionStorage.removeItem("currentOrder"),sessionStorage.removeItem("uploadedImages"),sessionStorage.removeItem("uploadedImageUrls"),sessionStorage.removeItem("currentOrderId"),sessionStorage.removeItem("uploadedMusic"),sessionStorage.removeItem("uploadedMusicUrl"),sessionStorage.removeItem("uploadDescription"),sessionStorage.removeItem("orderCustomization"),sessionStorage.removeItem("orderUpsells")}})(),n){const g=setTimeout(()=>{t("/dashboard")},5e3);return()=>clearTimeout(g)}},[t,n]),i.jsx("div",{className:"min-h-screen bg-fmv-carbon flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"bg-fmv-carbon-darker rounded-lg p-8 text-center border border-fmv-carbon-light/30 shadow-xl",children:r?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[i.jsx(A4,{className:"h-12 w-12 text-fmv-orange animate-spin mb-4"}),i.jsx("p",{className:"text-fmv-silk",children:"Bestellung wird verarbeitet..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"bg-green-900/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto",children:i.jsx(pt,{className:"h-12 w-12 text-green-400"})})}),i.jsx("h1",{className:"text-2xl font-medium text-fmv-silk mb-4",children:"Zahlung erfolgreich!"}),i.jsx("p",{className:"text-fmv-silk/70 mb-8",children:"Vielen Dank für Ihre Bestellung. Wir haben mit der Bearbeitung Ihres Videos begonnen und werden Sie über den Fortschritt auf dem Laufenden halten."}),a&&i.jsxs("div",{className:"bg-fmv-carbon-light/10 rounded-lg p-4 mb-6 text-left",children:[i.jsx("h3",{className:"text-fmv-orange font-medium mb-2",children:"Bestellübersicht"}),i.jsxs("p",{className:"text-fmv-silk/80 text-sm",children:["Paket: ",i.jsx("span",{className:"text-fmv-silk",children:a.package.charAt(0).toUpperCase()+a.package.slice(1)})]}),l&&i.jsxs("p",{className:"text-fmv-silk/80 text-sm",children:["Bestellnummer: ",i.jsx("span",{className:"text-fmv-silk",children:l})]}),((m=(h=a.upsells)==null?void 0:h.selectedOptions)==null?void 0:m.length)>0&&i.jsxs("p",{className:"text-fmv-silk/80 text-sm",children:["Zusatzoptionen: ",i.jsx("span",{className:"text-fmv-silk",children:a.upsells.selectedOptions.length})]}),i.jsxs("p",{className:"text-fmv-silk/80 text-sm mt-2",children:["Gesamtbetrag: ",i.jsxs("span",{className:"text-fmv-orange font-medium",children:["CHF ",a.total.toFixed(2)]})]})]}),i.jsxs("div",{className:"space-y-4",children:[n?i.jsxs(U,{to:"/dashboard",className:"fmv-primary-btn px-6 py-3 inline-flex items-center justify-center w-full",children:["Zum Dashboard",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs(U,{to:"/auth/register",className:"fmv-primary-btn px-6 py-3 inline-flex items-center justify-center w-full",children:["Jetzt registrieren",i.jsx(Xe,{className:"ml-2 h-5 w-5"})]}),i.jsx(U,{to:"/",className:"fmv-secondary-btn px-6 py-3 inline-flex items-center justify-center w-full",children:"Zurück zur Startseite"})]}),n&&i.jsx("p",{className:"text-sm text-fmv-silk/60",children:"Sie werden in wenigen Sekunden automatisch weitergeleitet..."})]})]})})})})},XH=()=>{var N;const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,a]=k.useState(!1),[o,l]=k.useState(!1),{login:c,isEmailVerified:d}=_t(),h=Yt(),p=((N=ct().state)==null?void 0:N.from)||"/dashboard",g=async E=>{E.preventDefault(),a(!0);try{await c(t,n),h(p)}catch(_){_.message==="email-not-verified"&&l(!0)}finally{a(!1)}};return i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"E-Mail"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Rs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:E=>e(E.target.value),className:"block w-full pl-10 pr-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"your@email.com"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-fmv-silk/80",children:"Passwort"}),i.jsx(U,{to:"/auth/forgot-password",className:"text-xs text-fmv-orange hover:text-fmv-orange-light transition-colors",children:"Passwort vergessen?"})]}),i.jsxs("div",{className:"mt-2 relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(fs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:E=>r(E.target.value),className:"block w-full pl-10 pr-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"••••••••"})]})]}),o&&i.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-900/30 rounded-md p-4 flex items-start",children:[i.jsx(Nh,{className:"h-5 w-5 text-yellow-400 mt-0.5 mr-3 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-yellow-400 text-sm",children:"Bitte bestätigen Sie Ihre E-Mail-Adresse. Überprüfen Sie Ihren Posteingang und klicken Sie auf den Bestätigungslink."}),i.jsx("button",{onClick:()=>{l(!1)},className:"text-yellow-400 hover:text-yellow-300 text-sm font-medium mt-2",children:"Bestätigungs-E-Mail erneut senden"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-fmv-orange hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange disabled:opacity-50 disabled:cursor-not-allowed",children:s?i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):i.jsxs(i.Fragment,{children:[i.jsx(C4,{size:20,className:"mr-2"}),"Anmelden"]})})}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-fmv-silk/60",children:["Noch kein Konto?"," "]}),i.jsx(U,{to:"/auth/register",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors font-medium",children:"Jetzt registrieren"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-fmv-carbon-light/20"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-fmv-carbon-darker text-fmv-silk/60",children:"oder"})})]}),i.jsx("div",{children:i.jsx(U,{to:"/bestellen",className:"w-full flex justify-center items-center py-2 px-4 border border-fmv-carbon-light/40 rounded-md text-fmv-silk/90 bg-fmv-carbon-light/10 hover:bg-fmv-carbon-light/20 transition-colors",children:"Als Gast fortfahren"})})]})},YH=()=>i.jsx(XH,{}),JH=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[s,a]=k.useState(""),[o,l]=k.useState(""),[c,d]=k.useState(!1),[h,m]=k.useState(""),[p,g]=k.useState(""),[N,E]=k.useState(!1),[_,w]=k.useState(!1),{register:y}=_t();Yt();const b=T=>T.length<8?"Passwort muss mindestens 8 Zeichen lang sein":"",S=T=>{const x=T.target.value;a(x),m(b(x))},D=T=>{r(T.target.value),g("")},V=async T=>{if(T.preventDefault(),s!==o){m("Passwörter stimmen nicht überein");return}if(!h&&c){E(!0);try{await y(n,s,t),w(!0)}catch(x){(x.message.includes("bereits verwendet")||x.message.includes("already exists"))&&g("Sie besitzen bereits einen Account mit dieser E-Mail-Adresse. Bitte nutzen Sie die Login-Funktion oder die 'Passwort vergessen'-Option, falls Sie Ihr Passwort nicht mehr wissen.")}finally{E(!1)}}};return i.jsxs("form",{onSubmit:V,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Name"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Fr,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"displayName",type:"text",required:!0,value:t,onChange:T=>e(T.target.value),className:"block w-full pl-10 pr-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Ihr Name"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"E-Mail"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Rs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:D,className:`block w-full pl-10 pr-3 py-2 border ${p?"border-red-500":"border-fmv-carbon-light/30"} rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50`,placeholder:"your@email.com"})]}),p&&i.jsx("p",{className:"mt-1 text-xs text-red-400",children:p})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Passwort"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(fs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"password",type:"password",required:!0,value:s,onChange:S,className:`block w-full pl-10 pr-3 py-2 border ${h?"border-red-500":"border-fmv-carbon-light/30"} rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50`,placeholder:"••••••••"})]}),h&&i.jsx("p",{className:"mt-1 text-xs text-red-400",children:h})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Passwort bestätigen"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(fs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:o,onChange:T=>l(T.target.value),className:`block w-full pl-10 pr-3 py-2 border ${s!==o?"border-red-500":"border-fmv-carbon-light/30"} rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50`,placeholder:"••••••••"})]}),s!==o&&o&&i.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Passwörter stimmen nicht überein"})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex items-center h-5",children:i.jsx("input",{id:"terms",type:"checkbox",required:!0,checked:c,onChange:T=>d(T.target.checked),className:"focus:ring-fmv-orange h-4 w-4 text-fmv-orange border-gray-600 rounded"})}),i.jsx("div",{className:"ml-3 text-sm",children:i.jsxs("label",{htmlFor:"terms",className:"text-fmv-silk/70",children:["Ich stimme den ",i.jsx(U,{to:"/agb",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors",children:"AGB"})," und ",i.jsx(U,{to:"/datenschutz",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors",children:"Datenschutzbestimmungen"})," zu"]})})]}),_&&i.jsxs("div",{className:"bg-green-900/20 border border-green-900/30 rounded-md p-4 flex items-start",children:[i.jsx(Nh,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"}),i.jsx("div",{children:i.jsx("p",{className:"text-green-400 text-sm",children:"Ihr Account wurde erfolgreich erstellt! Bitte überprüfen Sie Ihren Posteingang und bestätigen Sie Ihre E-Mail-Adresse, um sich anmelden zu können."})})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:N||!c||!!h||s!==o,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-fmv-orange hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange disabled:opacity-50 disabled:cursor-not-allowed",children:N?i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):i.jsxs(i.Fragment,{children:[i.jsx($4,{size:20,className:"mr-2"}),"Registrieren"]})})}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-fmv-silk/60",children:["Bereits ein Konto?"," "]}),i.jsx(U,{to:"/auth/login",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors font-medium",children:"Anmelden"})]}),i.jsx("div",{children:i.jsx(U,{to:"/bestellen",className:"w-full flex justify-center items-center py-2 px-4 border border-fmv-carbon-light/40 rounded-md text-fmv-silk/90 bg-fmv-carbon-light/10 hover:bg-fmv-carbon-light/20 transition-colors",children:"Als Gast fortfahren"})})]})},ZH=()=>i.jsx(JH,{}),eW=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(!1),[s,a]=k.useState(!1),{resetPassword:o}=_t(),l=async c=>{c.preventDefault(),r(!0);try{await o(t),a(!0)}catch{}finally{r(!1)}};return s?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Rs,{className:"h-8 w-8 text-fmv-orange"})}),i.jsx("h3",{className:"text-xl font-medium mb-2 text-fmv-silk",children:"E-Mail gesendet"}),i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Falls ein Konto mit dieser E-Mail existiert, haben wir einen Link zum Zurücksetzen deines Passworts gesendet."}),i.jsxs(U,{to:"/auth/login",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors inline-flex items-center",children:[i.jsx(Ua,{size:16,className:"mr-1"}),"Zurück zur Anmeldung"]})]}):i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum Zurücksetzen deines Passworts."}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"E-Mail"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Rs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:c=>e(c.target.value),className:"block w-full pl-10 pr-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"your@email.com"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-fmv-orange hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange disabled:opacity-50 disabled:cursor-not-allowed",children:n?i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):"Zurücksetzen-Link senden"})}),i.jsx("div",{className:"text-center text-sm",children:i.jsxs(U,{to:"/auth/login",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors inline-flex items-center",children:[i.jsx(Ua,{size:16,className:"mr-1"}),"Zurück zur Anmeldung"]})})]})},tW=()=>i.jsx(eW,{}),nW=()=>{const[t,e]=k.useState([]),[n,r]=k.useState({total:0,pending:0,completed:0}),[s,a]=k.useState(!0);k.useEffect(()=>{(async()=>{a(!0);try{const d=Vn(Qe,"orders"),h=xn(d,bi("createdAt","desc"),Yd(10)),p=(await Bn(h)).docs.map(b=>({id:b.id,...b.data()}));e(p);const g=xn(d),N=await Bn(g),E=xn(d,mr("status","==","In Bearbeitung")),_=await Bn(E),w=xn(d,mr("status","in",["Abgeschlossen","Fertig"])),y=await Bn(w);r({total:N.size,pending:_.size,completed:y.size})}catch(d){console.error("Error fetching admin data:",d),re.error("Fehler beim Laden der Daten")}finally{a(!1)}})()},[]);const l=(c=>c.map(d=>{var h,m;return{id:d.id,orderId:d.orderId||`ORD-${d.id.substring(0,5).toUpperCase()}`,userId:d.userId,type:d.packageType||"Flash",status:d.status||"In Bearbeitung",date:d.createdAt instanceof Re?new Date(d.createdAt.toDate()).toLocaleDateString("de-DE"):new Date().toLocaleDateString("de-DE"),price:`CHF ${((h=d.total)==null?void 0:h.toFixed(2))||"0.00"}`,imageCount:((m=d.imageUrls)==null?void 0:m.length)||0}}))(t);return i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-red-900/20 to-red-900/10 rounded-lg p-6 shadow-md border border-red-900/30",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-medium text-fmv-silk mb-2",children:"Admin Dashboard"}),i.jsx("p",{className:"text-fmv-silk/70",children:"Verwalten Sie Bestellungen und laden Sie fertige Videos hoch."})]}),i.jsxs(U,{to:"/admin/orders",className:"mt-4 sm:mt-0 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors inline-flex items-center",children:[i.jsx(vi,{className:"mr-2 h-4 w-4"}),"Alle Bestellungen"]})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx($.div,{whileHover:{y:-5},className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 p-3 rounded-full mr-4",children:i.jsx(vi,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"Bestellungen gesamt"}),i.jsx("p",{className:"text-2xl font-medium text-fmv-silk",children:n.total})]})]})}),i.jsx($.div,{whileHover:{y:-5},className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-yellow-500/20 p-3 rounded-full mr-4",children:i.jsx(Ti,{className:"h-6 w-6 text-yellow-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"In Bearbeitung"}),i.jsx("p",{className:"text-2xl font-medium text-fmv-silk",children:n.pending})]})]})}),i.jsx($.div,{whileHover:{y:-5},className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-green-500/20 p-3 rounded-full mr-4",children:i.jsx(pt,{className:"h-6 w-6 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"Abgeschlossen"}),i.jsx("p",{className:"text-2xl font-medium text-fmv-silk",children:n.completed})]})]})})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30",children:[i.jsx("div",{className:"p-6 border-b border-fmv-carbon-light/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk",children:"Neueste Bestellungen"}),i.jsxs(U,{to:"/admin/orders",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors text-sm flex items-center",children:[i.jsx("span",{children:"Alle anzeigen"}),i.jsx(zl,{className:"ml-1 h-4 w-4"})]})]})}),s?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-fmv-orange border-t-transparent"}),i.jsx("p",{className:"mt-4 text-fmv-silk/70",children:"Daten werden geladen..."})]}):l.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-fmv-carbon-light/10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Bestell-ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Kunde"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Paket"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Datum"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Aktion"})]})}),i.jsx("tbody",{className:"divide-y divide-fmv-carbon-light/10",children:l.map(c=>i.jsxs("tr",{className:"hover:bg-fmv-carbon-light/5",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-fmv-orange",children:c.orderId}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:[c.userId.substring(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:c.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c.status==="Abgeschlossen"||c.status==="Fertig"?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:c.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk/70",children:c.date}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsx(U,{to:`/admin/orders/${c.id}`,className:"text-fmv-orange hover:text-fmv-orange-light transition-colors",children:"Details"})})]},c.id))})]})}):i.jsx("div",{className:"p-6 text-center text-fmv-silk/60",children:i.jsx("p",{className:"mb-2",children:"Keine Bestellungen vorhanden"})})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/30",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk mb-4",children:"Schnellzugriff"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs(U,{to:"/admin/orders?status=pending",className:"bg-fmv-carbon-light/10 hover:bg-fmv-carbon-light/20 p-4 rounded-lg flex items-center transition-colors",children:[i.jsx(Ti,{className:"h-5 w-5 text-yellow-500 mr-3"}),i.jsx("span",{children:"Offene Bestellungen"}),i.jsx(Xe,{className:"ml-auto h-4 w-4 text-fmv-orange"})]}),i.jsxs(U,{to:"/admin/orders?status=completed",className:"bg-fmv-carbon-light/10 hover:bg-fmv-carbon-light/20 p-4 rounded-lg flex items-center transition-colors",children:[i.jsx(pt,{className:"h-5 w-5 text-green-500 mr-3"}),i.jsx("span",{children:"Abgeschlossene Bestellungen"}),i.jsx(Xe,{className:"ml-auto h-4 w-4 text-fmv-orange"})]}),i.jsxs(U,{to:"/dashboard",className:"bg-fmv-carbon-light/10 hover:bg-fmv-carbon-light/20 p-4 rounded-lg flex items-center transition-colors",children:[i.jsx(vi,{className:"h-5 w-5 text-fmv-orange mr-3"}),i.jsx("span",{children:"Zum Kundendashboard"}),i.jsx(Xe,{className:"ml-auto h-4 w-4 text-fmv-orange"})]})]})]})]})},rW=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,a]=k.useState(""),[o,l]=k.useState("all"),[c,d]=Av();k.useEffect(()=>{const g=c.get("status");g&&(g==="pending"?l("in bearbeitung"):g==="completed"&&l("abgeschlossen")),(async()=>{r(!0);try{const E=Vn(Qe,"orders");let _=xn(E,bi("createdAt","desc"));g==="pending"?_=xn(E,mr("status","==","In Bearbeitung"),bi("createdAt","desc")):g==="completed"&&(_=xn(E,mr("status","in",["Abgeschlossen","Fertig"]),bi("createdAt","desc")));const y=(await Bn(_)).docs.map(b=>({id:b.id,...b.data()}));e(y)}catch(E){console.error("Error fetching orders:",E),re.error("Fehler beim Laden der Bestellungen")}finally{r(!1)}})()},[c]);const m=(g=>g.map(N=>{var E,_;return{id:N.id,orderId:N.orderId||`ORD-${N.id.substring(0,5).toUpperCase()}`,userId:N.userId,userEmail:N.userEmail||"Unbekannt",type:N.packageType||"Flash",status:N.status||"In Bearbeitung",date:N.createdAt instanceof Re?new Date(N.createdAt.toDate()).toLocaleDateString("de-DE"):new Date().toLocaleDateString("de-DE"),price:`CHF ${((E=N.total)==null?void 0:E.toFixed(2))||"0.00"}`,imageCount:((_=N.imageUrls)==null?void 0:_.length)||0}}))(t).filter(g=>{const N=g.orderId.toLowerCase().includes(s.toLowerCase())||g.userId.toLowerCase().includes(s.toLowerCase())||g.userEmail.toLowerCase().includes(s.toLowerCase())||g.type.toLowerCase().includes(s.toLowerCase()),E=o==="all"||g.status.toLowerCase().includes(o.toLowerCase());return N&&E}),p=g=>{const N=g.target.value;l(N),N==="all"?c.delete("status"):N==="in bearbeitung"?c.set("status","pending"):(N==="abgeschlossen"||N==="fertig")&&c.set("status","completed"),d(c)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-red-900/20 to-red-900/10 p-6 rounded-lg border border-red-900/30",children:[i.jsx("h1",{className:"text-2xl font-medium text-fmv-silk mb-2",children:"Bestellungen verwalten"}),i.jsx("p",{className:"text-fmv-silk/70",children:"Alle Bestellungen im Überblick - Bearbeiten, Hochladen und Status aktualisieren."})]}),i.jsx("div",{className:"bg-fmv-carbon-darker p-4 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Vv,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:"Bestellung oder Kunde suchen...",value:s,onChange:g=>a(g.target.value),className:"pl-10 pr-4 py-2 w-full rounded-md bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 text-fmv-silk focus:outline-none focus:ring-1 focus:ring-fmv-orange/50"})]}),i.jsxs("div",{className:"relative sm:w-48",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(jh,{className:"h-5 w-5 text-gray-400"})}),i.jsxs("select",{value:o,onChange:p,className:"pl-10 pr-4 py-2 w-full rounded-md bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 text-fmv-silk focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",children:[i.jsx("option",{value:"all",children:"Alle Status"}),i.jsx("option",{value:"in bearbeitung",children:"In Bearbeitung"}),i.jsx("option",{value:"abgeschlossen",children:"Abgeschlossen"})]})]})]})}),i.jsx("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 overflow-hidden",children:n?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-fmv-orange border-t-transparent"}),i.jsx("p",{className:"mt-4 text-fmv-silk/70",children:"Bestellungen werden geladen..."})]}):m.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-fmv-carbon-light/10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Bestell-ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Kunde"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Paket"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Datum"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Bilder"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Aktion"})]})}),i.jsx("tbody",{className:"divide-y divide-fmv-carbon-light/10",children:m.map(g=>i.jsxs("tr",{className:"hover:bg-fmv-carbon-light/5",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-fmv-orange",children:g.orderId}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:[g.userId.substring(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:g.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g.status==="Abgeschlossen"||g.status==="Fertig"?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:g.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk/70",children:g.date}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:g.imageCount}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs(U,{to:`/admin/orders/${g.id}`,className:"text-fmv-orange hover:text-fmv-orange-light transition-colors inline-flex items-center",children:[i.jsx(uk,{className:"h-4 w-4 mr-1"}),"Details"]})})]},g.id))})]})}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"bg-fmv-carbon-light/5 inline-flex rounded-full p-4 mb-4",children:i.jsx(ShoppingBag,{size:24,className:"text-fmv-silk/40"})}),i.jsx("h3",{className:"text-lg font-medium text-fmv-silk mb-2",children:"Keine Bestellungen gefunden"}),i.jsx("p",{className:"text-fmv-silk/70 mb-4",children:s||o!=="all"?"Keine Bestellungen entsprechen Ihren Filterkriterien.":"Es sind noch keine Bestellungen vorhanden."})]})}),i.jsxs("div",{className:"bg-fmv-carbon-darker p-4 rounded-lg border border-fmv-carbon-light/20",children:[i.jsx("h3",{className:"text-sm font-medium text-fmv-silk mb-3",children:"Status-Legende:"}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-3 h-3 bg-yellow-400 rounded-full mr-2"}),i.jsx("span",{className:"text-sm text-fmv-silk/80",children:"In Bearbeitung: Video muss noch hochgeladen werden"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),i.jsx("span",{className:"text-sm text-fmv-silk/80",children:"Abgeschlossen: Video wurde hochgeladen"})]})]})]})]})},sW=()=>{var T;const{orderId:t}=aR(),e=Yt(),[n,r]=k.useState(null),[s,a]=k.useState(!0),[o,l]=k.useState([]),[c,d]=k.useState([]),[h,m]=k.useState(!1),[p,g]=k.useState(!1),[N,E]=k.useState(null),[_,w]=k.useState("16:9");k.useEffect(()=>{(async()=>{if(t){a(!0);try{const j=nr(Qe,"orders",t),P=await Ja(j);if(!P.exists()){re.error("Bestellung nicht gefunden"),e("/admin/orders");return}const C=P.data();if(r({id:P.id,...C}),C.userId&&C.orderId){const{images:R,videos:A}=await th(C.userId,C.orderId);l(R),d(A)}else C.imageUrls&&l(C.imageUrls)}catch(j){console.error("Error fetching order details:",j),re.error("Fehler beim Laden der Bestelldetails")}finally{a(!1)}}})()},[t,e]);const y=x=>{x.target.files&&x.target.files[0]&&E(x.target.files[0])},b=async()=>{if(!(!N||!n)){m(!0),re.loading("Video wird hochgeladen...");try{const x=`orders/${n.userId}/${n.orderId}/videos/${_}_${Date.now()}_${N.name}`,j=Ss(Ps,x);await Qu(j,N,{contentType:N.type,customMetadata:{orderId:n.orderId,userId:n.userId,format:_,uploadedAt:new Date().toISOString()}});const P=await Ca(j);await Jd(nr(Qe,"orders",n.id),{status:"Abgeschlossen",completedAt:Gu(),videoUrl:P,videoFormat:_}),await nm(Vn(Qe,"videos"),{orderId:n.orderId,userId:n.userId,title:`${n.packageType||"Video"} (${n.orderId})`,description:`${n.packageType||"Video"} erstellt am ${new Date().toLocaleDateString("de-DE")}`,url:P,format:_,createdAt:Gu(),status:"Fertig"});const C=await Ja(nr(Qe,"orders",n.id));C.exists()&&r({id:C.id,...C.data()});const{videos:R}=await th(n.userId,n.orderId);d(R),E(null),re.dismiss(),re.success("Video erfolgreich hochgeladen und Bestellung abgeschlossen")}catch(x){console.error("Error uploading video:",x),re.dismiss(),re.error("Fehler beim Hochladen des Videos")}finally{m(!1)}}},S=async x=>{if(n){g(!0);try{await Jd(nr(Qe,"orders",n.id),{status:x,updatedAt:Gu()}),r({...n,status:x}),re.success(`Status auf "${x}" aktualisiert`)}catch(j){console.error("Error updating order status:",j),re.error("Fehler beim Aktualisieren des Status")}finally{g(!1)}}},D=async x=>{if(!(!n||!window.confirm("Sind Sie sicher, dass Sie dieses Video löschen möchten?")))try{const j=x.split("?")[0].split("/o/")[1];if(!j){re.error("Ungültiger Video-Pfad");return}const P=decodeURIComponent(j),C=Ss(Ps,P);await U9(C),d(R=>R.filter(A=>A!==x)),c.length===1&&await S("In Bearbeitung"),re.success("Video erfolgreich gelöscht")}catch(j){console.error("Error deleting video:",j),re.error("Fehler beim Löschen des Videos")}},V=x=>x?new Date(x.toDate()).toLocaleString("de-DE"):"Unbekannt";return s?i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-8rem)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-fmv-orange/20 border-t-fmv-orange rounded-full animate-spin mb-4 mx-auto"}),i.jsx("p",{className:"text-fmv-silk/80",children:"Bestelldetails werden geladen..."})]})}):n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(U,{to:"/admin/orders",className:"text-fmv-silk/80 hover:text-fmv-orange transition-colors inline-flex items-center",children:[i.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Zurück zur Übersicht"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${n.status==="Abgeschlossen"||n.status==="Fertig"?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:n.status}),i.jsxs("span",{className:"text-fmv-silk/60 text-sm",children:["Bestellt am ",V(n.createdAt)]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-red-900/20 to-red-900/10 rounded-lg p-6 shadow-md border border-red-900/30",children:[i.jsxs("h1",{className:"text-2xl font-medium text-fmv-silk mb-4",children:["Bestellung ",n.orderId||n.id]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium text-fmv-silk mb-3",children:"Bestelldetails"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Paket:"}),i.jsx("span",{className:"text-fmv-silk",children:n.packageType||"Standard"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Kunde:"}),i.jsx("span",{className:"text-fmv-silk",children:n.userId})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Preis:"}),i.jsxs("span",{className:"text-fmv-orange font-medium",children:["CHF ",((T=n.total)==null?void 0:T.toFixed(2))||"0.00"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Status:"}),i.jsx("span",{className:`${n.status==="Abgeschlossen"||n.status==="Fertig"?"text-green-400":"text-yellow-400"}`,children:n.status})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Bestellt am:"}),i.jsx("span",{className:"text-fmv-silk",children:V(n.createdAt)})]}),n.completedAt&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Abgeschlossen am:"}),i.jsx("span",{className:"text-fmv-silk",children:V(n.completedAt)})]})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium text-fmv-silk mb-3",children:"Anpassungen"}),i.jsxs("div",{className:"space-y-2",children:[n.customization?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Format:"}),i.jsx("span",{className:"text-fmv-silk",children:n.customization.selectedFormat||"16:9"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Stil:"}),i.jsx("span",{className:"text-fmv-silk",children:n.customization.selectedStyle||"Dynamisch"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Musik:"}),i.jsx("span",{className:"text-fmv-silk",children:n.customization.selectedMusic||"Standard"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Geschwindigkeit:"}),i.jsx("span",{className:"text-fmv-silk",children:n.customization.selectedSpeed||"Mittel"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Texteinblendungen:"}),i.jsx("span",{className:"text-fmv-silk",children:n.customization.textOverlays||0})]})]}):i.jsx("p",{className:"text-fmv-silk/60 italic",children:"Keine Anpassungsdaten verfügbar"}),n.upsells&&n.upsells.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"text-sm font-medium text-fmv-silk mb-2",children:"Zusatzoptionen:"}),i.jsx("ul",{className:"list-disc list-inside text-fmv-silk/70 space-y-1",children:n.upsells.map((x,j)=>i.jsx("li",{children:x},j))})]})]})]})]})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk",children:"Kundenbilder"}),i.jsxs("span",{className:"text-fmv-silk/60",children:[o.length," Bilder"]})]}),o.length>0?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:o.map((x,j)=>i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-fmv-carbon-light/30",children:i.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"block h-full",children:i.jsx("img",{src:x,alt:`Kundenbild ${j+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})})},j))}):i.jsxs("div",{className:"bg-fmv-carbon-light/5 rounded-lg p-6 text-center",children:[i.jsx(Bl,{className:"h-12 w-12 text-fmv-silk/30 mx-auto mb-3"}),i.jsx("p",{className:"text-fmv-silk/60",children:"Keine Kundenbilder verfügbar"})]})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk",children:"Fertige Videos"}),i.jsxs("span",{className:"text-fmv-silk/60",children:[c.length," Videos"]})]}),c.length>0?i.jsx("div",{className:"space-y-4",children:c.map((x,j)=>i.jsxs("div",{className:"flex items-center justify-between bg-fmv-carbon-light/10 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(gi,{className:"h-5 w-5 text-fmv-orange mr-3"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-fmv-silk font-medium",children:["Video ",j+1]}),i.jsx("p",{className:"text-fmv-silk/60 text-sm truncate max-w-md",children:x.split("/").pop()})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-fmv-orange/20 text-fmv-orange rounded-full hover:bg-fmv-orange/30 transition-colors",title:"Video ansehen",children:i.jsx(Eye,{size:18})}),i.jsx("a",{href:x,download:!0,className:"p-2 bg-fmv-orange/20 text-fmv-orange rounded-full hover:bg-fmv-orange/30 transition-colors",title:"Video herunterladen",children:i.jsx(Cv,{size:18})}),i.jsx("button",{onClick:()=>D(x),className:"p-2 bg-red-500/20 text-red-500 rounded-full hover:bg-red-500/30 transition-colors",title:"Video löschen",children:i.jsx(fk,{size:18})})]})]},j))}):i.jsxs("div",{className:"bg-fmv-carbon-light/5 rounded-lg p-6 text-center",children:[i.jsx(gi,{className:"h-12 w-12 text-fmv-silk/30 mx-auto mb-3"}),i.jsx("p",{className:"text-fmv-silk/60",children:"Noch keine Videos hochgeladen"})]})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 p-6",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk mb-4",children:"Video hochladen"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-fmv-carbon-light/5 rounded-lg p-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4 mb-6",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("label",{htmlFor:"videoFile",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Video-Datei auswählen"}),i.jsx("input",{type:"file",id:"videoFile",accept:"video/*",onChange:y,className:"block w-full text-sm text-fmv-silk file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-fmv-orange file:text-white hover:file:bg-fmv-orange-light file:cursor-pointer rounded-md focus:outline-none bg-fmv-carbon-light/10 border border-fmv-carbon-light/30"})]}),i.jsxs("div",{className:"w-full md:w-48",children:[i.jsx("label",{htmlFor:"videoFormat",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Format"}),i.jsxs("select",{id:"videoFormat",value:_,onChange:x=>w(x.target.value),className:"block w-full rounded-md bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 text-fmv-silk focus:outline-none focus:ring-1 focus:ring-fmv-orange/50 py-2 px-3",children:[i.jsx("option",{value:"16:9",children:"Landscape (16:9)"}),i.jsx("option",{value:"9:16",children:"Portrait (9:16)"}),i.jsx("option",{value:"1:1",children:"Square (1:1)"}),i.jsx("option",{value:"4:5",children:"Instagram (4:5)"}),i.jsx("option",{value:"2.35:1",children:"Cinematic (2.35:1)"})]})]}),i.jsxs("button",{onClick:b,disabled:!N||h,className:"px-6 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center w-full md:w-auto",children:[h?i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}):i.jsx(Ba,{className:"mr-2 h-5 w-5"}),"Video hochladen"]})]}),N&&i.jsx("div",{className:"bg-fmv-orange/10 border border-fmv-orange/30 rounded-md p-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(gi,{className:"h-5 w-5 text-fmv-orange mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk font-medium",children:N.name}),i.jsxs("p",{className:"text-fmv-silk/60 text-sm",children:[(N.size/(1024*1024)).toFixed(2)," MB • Format: ",_]})]})]})})]}),i.jsxs("div",{className:"bg-fmv-carbon-light/5 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-fmv-silk mb-3",children:"Status aktualisieren"}),i.jsx("p",{className:"text-fmv-silk/70 mb-4",children:'Aktualisieren Sie den Status der Bestellung manuell. Der Status wird automatisch auf "Abgeschlossen" gesetzt, wenn ein Video hochgeladen wird.'}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>S("In Bearbeitung"),disabled:n.status==="In Bearbeitung"||p,className:`px-4 py-2 rounded-md flex items-center ${n.status==="In Bearbeitung"?"bg-yellow-500/20 text-yellow-500 cursor-not-allowed":"bg-yellow-500/20 text-yellow-500 hover:bg-yellow-500/30"}`,children:[i.jsx(Ti,{className:"mr-2 h-4 w-4"}),"In Bearbeitung"]}),i.jsxs("button",{onClick:()=>S("Abgeschlossen"),disabled:n.status==="Abgeschlossen"||p,className:`px-4 py-2 rounded-md flex items-center ${n.status==="Abgeschlossen"?"bg-green-500/20 text-green-500 cursor-not-allowed":"bg-green-500/20 text-green-500 hover:bg-green-500/30"}`,children:[i.jsx(pt,{className:"mr-2 h-4 w-4"}),"Abgeschlossen"]})]})]}),i.jsxs("div",{className:"bg-fmv-carbon-light/5 rounded-lg p-4 flex items-start",children:[i.jsx(cl,{className:"h-5 w-5 text-fmv-orange mt-0.5 mr-3 flex-shrink-0"}),i.jsx("div",{children:i.jsxs("p",{className:"text-fmv-silk/70 text-sm",children:[i.jsx("span",{className:"text-fmv-silk font-medium",children:"Hinweis:"}),' Wenn Sie ein Video hochladen, wird der Status der Bestellung automatisch auf "Abgeschlossen" gesetzt. Der Kunde wird benachrichtigt und kann das Video in seinem Dashboard ansehen.']})})]})]})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ok,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-medium text-fmv-silk mb-2",children:"Bestellung nicht gefunden"}),i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Die angeforderte Bestellung existiert nicht oder wurde gelöscht."}),i.jsxs(U,{to:"/admin/orders",className:"px-4 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light transition-colors inline-flex items-center",children:[i.jsx(Ua,{className:"mr-2 h-4 w-4"}),"Zurück zur Übersicht"]})]})},iW=()=>{const{userData:t,currentUser:e}=_t(),[n,r]=k.useState([]),[s,a]=k.useState(null),[o,l]=k.useState([]),[c,d]=k.useState(!0);k.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid)){d(!1);return}d(!0);try{const _=Vn(Qe,"orders"),w=xn(_,mr("userId","==",e.uid),bi("createdAt","desc"),Yd(5)),b=(await Bn(w)).docs.map(x=>({id:x.id,...x.data()}));r(b);const S=[];b.forEach(x=>{(x.status==="Abgeschlossen"||x.status==="Fertig")&&S.push({id:x.id,title:`${x.packageType||"Video"} ${x.orderId?`(${x.orderId})`:""}`,thumbnail:x.imageUrls&&x.imageUrls.length>0?x.imageUrls[0]:"https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?q=80&w=600&auto=format&fit=crop",date:x.createdAt instanceof Re?new Date(x.createdAt.toDate()).toLocaleDateString("de-DE"):new Date().toLocaleDateString("de-DE"),status:"Fertig"})}),l(S.slice(0,3));const D=Vn(Qe,"subscriptions"),V=xn(D,mr("userId","==",e.uid),Yd(1)),T=await Bn(V);T.empty||a(T.docs[0].data())}catch(_){console.error("Error fetching dashboard data:",_),_.code==="permission-denied"?re.error("Keine Berechtigung zum Laden der Daten. Bitte melden Sie sich erneut an."):_.code==="not-found"?re.error("Daten nicht gefunden. Bitte versuchen Sie es später erneut."):re.error("Fehler beim Laden der Daten. Bitte versuchen Sie es später erneut.")}finally{d(!1)}})()},[e]);const m=(E=>E.map(_=>{var w;return{id:_.orderId||_.id,type:_.packageType||"Flash",status:_.status||"In Bearbeitung",date:_.createdAt&&_.createdAt instanceof Re?new Date(_.createdAt.toDate()).toLocaleDateString("de-DE"):new Date().toLocaleDateString("de-DE"),price:`CHF ${((w=_.total)==null?void 0:w.toFixed(2))||"0.00"}`,videos:_.videoIds||[]}}))(n).slice(0,2),p=n.length,g=n.filter(E=>E.order_status!=="completed").length,N=o.length;return i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-fmv-carbon-light/20 to-fmv-carbon-light/5 rounded-lg p-6 shadow-md border border-fmv-carbon-light/30",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-medium text-fmv-silk mb-2",children:["Willkommen, ",(t==null?void 0:t.displayName)||"im Dashboard","!"]}),i.jsx("p",{className:"text-fmv-silk/70",children:"Hier finden Sie eine Übersicht Ihrer Aktivitäten und Videos."})]}),i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-4 py-2 mt-4 sm:mt-0 inline-flex items-center text-sm",children:[i.jsx(gi,{className:"mr-2 h-4 w-4"}),"Neues Video erstellen"]})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx($.div,{whileHover:{y:-5},className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 p-3 rounded-full mr-4",children:i.jsx(gi,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"Videos"}),i.jsx("p",{className:"text-2xl font-medium text-fmv-silk",children:N})]})]})}),i.jsx($.div,{whileHover:{y:-5},className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 p-3 rounded-full mr-4",children:i.jsx(vi,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"Bestellungen"}),i.jsx("p",{className:"text-2xl font-medium text-fmv-silk",children:p})]})]})}),i.jsx($.div,{whileHover:{y:-5},className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 p-3 rounded-full mr-4",children:i.jsx(Ti,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"In Bearbeitung"}),i.jsx("p",{className:"text-2xl font-medium text-fmv-silk",children:g})]})]})}),i.jsx($.div,{whileHover:{y:-5},className:"p-6 rounded-lg shadow-md border bg-fmv-carbon-darker border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-fmv-orange/20 p-3 rounded-full mr-4",children:i.jsx(U4,{className:"h-6 w-6 text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"Status"}),i.jsx("p",{className:"text-2xl font-medium text-fmv-silk",children:"Standard"})]})]})})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30",children:[i.jsx("div",{className:"p-6 border-b border-fmv-carbon-light/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk",children:"Letzte Bestellungen"}),i.jsxs(U,{to:"/dashboard/orders",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors text-sm flex items-center",children:[i.jsx("span",{children:"Alle anzeigen"}),i.jsx(zl,{className:"ml-1 h-4 w-4"})]})]})}),c?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-fmv-orange border-t-transparent"}),i.jsx("p",{className:"mt-4 text-fmv-silk/70",children:"Daten werden geladen..."})]}):m.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-fmv-carbon-light/10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Bestell-ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Paket"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Datum"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Preis"})]})}),i.jsx("tbody",{className:"divide-y divide-fmv-carbon-light/10",children:m.map(E=>i.jsxs("tr",{className:"hover:bg-fmv-carbon-light/5",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-fmv-orange",children:E.id}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:E.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.status==="Abgeschlossen"?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:E.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk/70",children:E.date}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:E.price})]},E.id))})]})}):i.jsxs("div",{className:"p-6 text-center text-fmv-silk/60",children:[i.jsx("p",{className:"mb-2",children:"Keine Bestellungen vorhanden"}),i.jsxs(U,{to:"/bestellen",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors inline-flex items-center",children:[i.jsx("span",{children:"Erste Bestellung aufgeben"}),i.jsx(Xe,{className:"ml-1 h-4 w-4"})]})]})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30",children:[i.jsx("div",{className:"p-6 border-b border-fmv-carbon-light/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk",children:"Neueste Videos"}),i.jsxs(U,{to:"/dashboard/videos",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors text-sm flex items-center",children:[i.jsx("span",{children:"Alle anzeigen"}),i.jsx(zl,{className:"ml-1 h-4 w-4"})]})]})}),c?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-fmv-orange border-t-transparent"}),i.jsx("p",{className:"mt-4 text-fmv-silk/70",children:"Videos werden geladen..."})]}):o.length>0?i.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(E=>i.jsx($.div,{whileHover:{y:-5},className:"bg-fmv-carbon rounded-lg overflow-hidden shadow-sm border border-fmv-carbon-light/20 hover:border-fmv-carbon-light/30 transition-colors",children:i.jsxs("div",{className:"aspect-video relative",children:[i.jsx("img",{src:E.thumbnail,alt:E.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),i.jsxs("div",{className:"absolute bottom-2 left-3",children:[i.jsx("p",{className:"text-white font-medium text-sm",children:E.title}),i.jsx("p",{className:"text-white/70 text-xs",children:E.date})]}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:"bg-fmv-orange/90 text-white text-xs px-2 py-0.5 rounded-full",children:"HD"})})]})},E.id))}):i.jsxs("div",{className:"p-6 text-center text-fmv-silk/60",children:[i.jsx("p",{className:"mb-2",children:"Keine Videos vorhanden"}),i.jsxs(U,{to:"/bestellen",className:"text-fmv-orange hover:text-fmv-orange-light transition-colors inline-flex items-center",children:[i.jsx("span",{children:"Erstes Video erstellen"}),i.jsx(Xe,{className:"ml-1 h-4 w-4"})]})]})]}),i.jsx("div",{className:"bg-fmv-carbon-darker p-6 rounded-lg shadow-md border border-fmv-carbon-light/30",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[i.jsxs("div",{className:"mb-4 sm:mb-0 flex items-start",children:[i.jsx("div",{className:"bg-fmv-orange/20 p-2 rounded-full mr-3 mt-1",children:i.jsx(Nh,{size:18,className:"text-fmv-orange"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-fmv-silk font-medium mb-1",children:"Brauchen Sie Hilfe?"}),i.jsx("p",{className:"text-fmv-silk/60 text-sm",children:"Unser Support-Team steht Ihnen bei Fragen jederzeit zur Verfügung."})]})]}),i.jsx(U,{to:"/kontakt",className:"fmv-outline-btn px-4 py-2 inline-flex items-center text-sm whitespace-nowrap",children:"Kontakt aufnehmen"})]})})]})},aW=()=>{const{currentUser:t}=_t(),[e,n]=k.useState([]),[r,s]=k.useState(!0),[a,o]=k.useState(null),[l,c]=k.useState(""),[d,h]=k.useState("all"),[m,p]=k.useState({});k.useEffect(()=>{(async()=>{if(t)try{const w=Vn(Qe,"orders"),y=xn(w,mr("userId","==",t.uid),bi("createdAt","desc")),D=(await Bn(y)).docs.map(V=>({id:V.id,...V.data()})).map(V=>{var T;return{id:V.id,orderId:V.orderId||`ORD-${V.id.substring(0,5).toUpperCase()}`,type:V.packageType||"Flash",status:V.status||"In Bearbeitung",date:V.createdAt?new Date(V.createdAt.toDate()).toLocaleDateString("de-DE"):new Date().toLocaleDateString("de-DE"),price:`CHF ${((T=V.total)==null?void 0:T.toFixed(2))||"0.00"}`,description:`${V.packageType||"Flash"} Video-Paket`,hasInvoice:!0,videos:V.videoIds||[],imageUrls:V.imageUrls||[]}});n(D)}catch(w){console.error("Error fetching orders:",w),re.error("Fehler beim Laden der Bestellungen")}finally{s(!1)}})()},[t]);const g=async(_,w)=>{try{if(m[w]&&m[w].length>0||!t)return;const y=await Ja(nr(Qe,"orders",w));if(!y.exists()){console.error("Order document not found");return}const b=y.data(),S=b.userId||t.uid,D=b.orderId||_,{images:V}=await th(S,D);p(T=>({...T,[w]:V})),V.length===0&&b.imageUrls&&b.imageUrls.length>0&&p(T=>({...T,[w]:b.imageUrls}))}catch(y){console.error("Error fetching order files:",y)}},N=e.filter(_=>{const w=_.id.toString().includes(l.toLowerCase())||_.description.toLowerCase().includes(l.toLowerCase())||_.type.toLowerCase().includes(l.toLowerCase())||_.orderId&&_.orderId.toLowerCase().includes(l.toLowerCase()),y=d==="all"||_.status.toLowerCase()===d.toLowerCase();return w&&y}),E=_=>{if(a===_)o(null);else{o(_);const w=N.find(y=>y.id===_);w&&g(w.orderId,w.id)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-fmv-carbon-light/20 to-fmv-carbon-light/5 p-6 rounded-lg border border-fmv-carbon-light/30",children:[i.jsx("h1",{className:"text-2xl font-medium text-fmv-silk mb-2",children:"Meine Bestellungen"}),i.jsx("p",{className:"text-fmv-silk/70",children:"Verwalten Sie Ihre Bestellungen und laden Sie Ihre Videos herunter."})]}),i.jsx("div",{className:"bg-fmv-carbon-darker p-4 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Vv,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:"Bestellung suchen...",value:l,onChange:_=>c(_.target.value),className:"pl-10 pr-4 py-2 w-full rounded-md bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 text-fmv-silk focus:outline-none focus:ring-1 focus:ring-fmv-orange/50"})]}),i.jsxs("div",{className:"relative sm:w-48",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(jh,{className:"h-5 w-5 text-gray-400"})}),i.jsxs("select",{value:d,onChange:_=>h(_.target.value),className:"pl-10 pr-4 py-2 w-full rounded-md bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 text-fmv-silk focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",children:[i.jsx("option",{value:"all",children:"Alle Status"}),i.jsx("option",{value:"abgeschlossen",children:"Abgeschlossen"}),i.jsx("option",{value:"in bearbeitung",children:"In Bearbeitung"}),i.jsx("option",{value:"storniert",children:"Storniert"})]})]})]})}),i.jsx("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:r?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-fmv-orange border-t-transparent"}),i.jsx("p",{className:"mt-4 text-fmv-silk/70",children:"Bestellungen werden geladen..."})]}):N.length>0?i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-fmv-carbon-light/10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Bestellnummer"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Paket"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Datum"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Preis"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-fmv-silk/70 uppercase tracking-wider",children:"Aktionen"})]})}),i.jsx("tbody",{className:"divide-y divide-fmv-carbon-light/10",children:N.map(_=>i.jsxs(an.Fragment,{children:[i.jsxs("tr",{className:`hover:bg-fmv-carbon-light/5 ${a===_.id?"bg-fmv-carbon-light/5":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-fmv-orange",children:i.jsxs("button",{onClick:()=>E(_.id),className:"text-left flex items-center",children:[_.orderId||_.id.substring(0,8),i.jsx(Xe,{className:`ml-1 h-4 w-4 transition-transform ${a===_.id?"rotate-90":""}`})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:_.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.status==="Abgeschlossen"?"bg-green-900/20 text-green-400":_.status==="In Bearbeitung"?"bg-yellow-900/20 text-yellow-400":"bg-red-900/20 text-red-400"}`,children:_.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk/70",children:_.date}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-fmv-silk",children:_.price}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[_.hasInvoice&&i.jsx("button",{className:"p-1.5 bg-fmv-carbon-light/20 hover:bg-fmv-carbon-light/30 rounded-full text-fmv-silk/80 hover:text-fmv-silk transition-colors",title:"Rechnung herunterladen",children:i.jsx(S4,{size:16})}),i.jsx("button",{onClick:()=>E(_.id),className:`p-1.5 ${a===_.id?"bg-fmv-orange/20 text-fmv-orange":"bg-fmv-carbon-light/20 hover:bg-fmv-carbon-light/30 text-fmv-silk/80 hover:text-fmv-silk"} rounded-full transition-colors`,title:"Details anzeigen",children:i.jsx(uk,{size:16})})]})})]}),a===_.id&&i.jsx("tr",{className:"bg-fmv-carbon-light/5",children:i.jsx("td",{colSpan:6,className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-fmv-silk mb-2",children:"Bestelldetails"}),i.jsx("p",{className:"text-fmv-silk/70 mb-4",children:_.description}),_.videos&&_.videos.length>0?i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium text-fmv-silk/90 mb-2",children:"Videos:"}),i.jsx("div",{className:"space-y-2",children:_.videos.map(w=>i.jsxs("div",{className:"flex items-center justify-between bg-fmv-carbon/40 rounded p-3",children:[i.jsxs("span",{className:"text-fmv-silk",children:["Video ",w]}),i.jsx("button",{className:"p-1.5 bg-fmv-orange/20 hover:bg-fmv-orange/30 rounded-full text-fmv-orange transition-colors",title:"Video herunterladen",children:i.jsx(Cv,{size:16})})]},w))})]}):m[_.id]&&m[_.id].length>0?i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium text-fmv-silk/90 mb-2",children:"Hochgeladene Bilder:"}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:m[_.id].slice(0,4).map((w,y)=>i.jsx("div",{className:"aspect-square rounded overflow-hidden",children:i.jsx("img",{src:w,alt:`Bild ${y+1}`,className:"w-full h-full object-cover"})},y))})]}):_.status==="In Bearbeitung"?i.jsx("div",{className:"bg-yellow-900/20 border border-yellow-900/30 rounded-md p-3 text-yellow-400 text-sm",children:"Diese Bestellung wird gerade bearbeitet. Ihre Videos werden in Kürze verfügbar sein."}):_.status==="Storniert"?i.jsx("div",{className:"bg-red-900/20 border border-red-900/30 rounded-md p-3 text-red-400 text-sm",children:"Diese Bestellung wurde storniert. Es sind keine Videos verfügbar."}):i.jsx("div",{className:"bg-green-900/20 border border-green-900/30 rounded-md p-3 text-green-400 text-sm",children:"Ihre Videos werden in Kürze verfügbar sein."})]})})})]},_.id))})]}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"bg-fmv-carbon-light/5 inline-flex rounded-full p-4 mb-4",children:i.jsx(vi,{size:24,className:"text-fmv-silk/40"})}),i.jsx("h3",{className:"text-lg font-medium text-fmv-silk mb-2",children:"Keine Bestellungen gefunden"}),i.jsx("p",{className:"text-fmv-silk/70 mb-4",children:l||d!=="all"?"Keine Bestellungen entsprechen Ihren Filterkriterien.":"Sie haben noch keine Bestellungen aufgegeben."}),!l&&d==="all"&&i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-4 py-2 inline-flex items-center text-sm",children:["Erste Bestellung aufgeben",i.jsx(Xe,{className:"ml-2 h-4 w-4"})]})]})})})]})},oW=()=>{const{currentUser:t}=_t(),[e,n]=k.useState([]),[r,s]=k.useState(!0),[a,o]=k.useState(""),[l,c]=k.useState("all"),[d,h]=k.useState(null),[m,p]=k.useState(null);k.useState({});const[g,N]=k.useState(!1),E=b=>{console.log(`Thumbnail error for video ${b}`)};k.useEffect(()=>{(async()=>{if(t){s(!0);try{const S=Vn(Qe,"orders"),D=xn(S,mr("userId","==",t.uid),bi("createdAt","desc")),V=await Bn(D);if(V.empty){N(!0),n([]),s(!1);return}const T=V.docs.map(x=>{const j=x.data(),P=j.createdAt instanceof Re?j.createdAt.toDate():new Date;return{id:x.id,orderId:j.orderId||`ORD-${x.id.substring(0,5).toUpperCase()}`,title:`${j.packageType||"Video"} ${j.status==="In Bearbeitung"?"(in Bearbeitung)":""}`,thumbnail:j.imageUrls&&j.imageUrls.length>0?j.imageUrls[0]:"https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?q=80&w=600&auto=format&fit=crop",date:P.toLocaleDateString("de-DE"),duration:j.packageType==="Spark"?"30s":j.packageType==="Flash"?"60s":"90s",resolution:j.resolution||"HD",status:j.status||"In Bearbeitung",formats:[]}});n(T)}catch(S){console.error("Error fetching videos:",S),re.error("Fehler beim Laden der Videos")}finally{s(!1)}}})()},[t]);const _=async(b,S)=>{try{if(!t||!S)return;const{videos:D}=await th(t.uid,S);D.length>0&&n(V=>V.map(T=>{if(T.id===b){const x=D.map((j,P)=>P===0?"MP4 (HD)":`Format ${P+1}`);return{...T,formats:x}}return T}))}catch(D){console.error("Error fetching video files:",D)}},w=e.filter(b=>{const S=b.title&&b.title.toLowerCase().includes(a.toLowerCase())||b.id&&b.id.toLowerCase().includes(a.toLowerCase()),D=l==="all"||b.status&&b.status.toLowerCase()===l.toLowerCase();return S&&D}),y=b=>{d===b?h(null):(h(b),_(b,video.orderId))};return an.useEffect(()=>{function b(S){!S.target.closest(".video-menu")&&!S.target.closest(".menu-trigger")&&h(null)}return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-fmv-carbon-light/20 to-fmv-carbon-light/5 p-6 rounded-lg border border-fmv-carbon-light/30",children:[i.jsx("h1",{className:"text-2xl font-medium text-fmv-silk mb-2",children:"Meine Videos"}),i.jsx("p",{className:"text-fmv-silk/70",children:"Alle Ihre Videos an einem Ort - Durchsuchen, Herunterladen und Verwalten."})]}),i.jsx("div",{className:"bg-fmv-carbon-darker p-4 rounded-lg shadow-md border border-fmv-carbon-light/20",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Vv,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:"Video suchen...",value:a,onChange:b=>o(b.target.value),className:"pl-10 pr-4 py-2 w-full rounded-md bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 text-fmv-silk focus:outline-none focus:ring-1 focus:ring-fmv-orange/50"})]}),i.jsxs("div",{className:"relative sm:w-48",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(jh,{className:"h-5 w-5 text-gray-400"})}),i.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"pl-10 pr-4 py-2 w-full rounded-md bg-fmv-carbon-light/10 border border-fmv-carbon-light/30 text-fmv-silk focus:outline-none focus:ring-1 focus:ring-fmv-orange/50",children:[i.jsx("option",{value:"all",children:"Alle Status"}),i.jsx("option",{value:"fertig",children:"Fertig"}),i.jsx("option",{value:"in bearbeitung",children:"In Bearbeitung"})]})]})]})}),i.jsx("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 p-6",children:r?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-fmv-orange border-t-transparent mb-4"}),i.jsx("p",{className:"mt-4 text-fmv-silk/70",children:"Videos werden geladen..."})]}):w&&w.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(b=>i.jsxs($.div,{whileHover:{y:-5},onHoverStart:()=>p(b.id),onHoverEnd:()=>p(null),className:"bg-fmv-carbon rounded-lg overflow-hidden border border-fmv-carbon-light/20 hover:border-fmv-carbon-light/40 shadow-md group",children:[i.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[i.jsx("img",{src:b.thumbnail,alt:b.title,className:`w-full h-full object-cover transition-all duration-300 group-hover:scale-105 group-hover:brightness-110 bg-fmv-carbon-light/20 ${b.status==="In Bearbeitung"?"opacity-70":""}`,onError:()=>E(parseInt(b.id))}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),i.jsx(Dt,{children:m===b.id&&b.status!=="In Bearbeitung"&&i.jsx($.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx("div",{className:"bg-fmv-orange/90 rounded-full p-3 shadow-lg",children:i.jsx(Ii,{size:24,className:"text-white",fill:"white"})})})}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b.status==="Abgeschlossen"||b.status==="Fertig"?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:b.status})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:"bg-fmv-carbon-darker/80 text-white text-xs px-2 py-1 rounded-full backdrop-blur-sm",children:b.resolution})}),i.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{className:"max-w-[70%]",children:[i.jsx("h3",{className:"text-white font-medium text-sm line-clamp-2",children:b.title}),i.jsx("p",{className:"text-white/70 text-xs",children:b.duration})]}),(b.status==="Abgeschlossen"||b.status==="Fertig")&&i.jsxs("div",{className:"relative",children:[i.jsx("button",{className:"p-1.5 bg-black/40 hover:bg-black/60 text-white rounded-full transition-colors menu-trigger backdrop-blur-sm active:scale-95",onClick:S=>{S.stopPropagation(),y(b.id)},children:i.jsx(V4,{size:16})}),i.jsx(Dt,{children:d===b.id&&i.jsx($.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute bottom-full right-0 mb-2 w-56 rounded-md shadow-lg bg-fmv-carbon-darker border border-fmv-carbon-light/30 z-10 video-menu",onClick:S=>S.stopPropagation(),children:i.jsxs("div",{className:"py-1",children:[b.formats.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"px-4 py-2 text-xs uppercase text-fmv-silk/50",children:"Download Format"}),b.formats.map((S,D)=>i.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",onClick:()=>re.error("Download-Funktion noch nicht verfügbar"),children:[i.jsx(Cv,{size:16,className:"mr-2 text-fmv-orange"}),S," Format"]},D)),i.jsx("div",{className:"border-t border-fmv-carbon-light/20 my-1"})]}):i.jsx("div",{className:"px-4 py-2 text-sm text-fmv-silk/50 italic",children:"Video wird bearbeitet..."}),i.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-fmv-silk hover:bg-fmv-carbon-light/10",disabled:b.status!=="Fertig",onClick:()=>re.error("Bearbeiten-Funktion noch nicht verfügbar"),children:[i.jsx(F4,{size:16,className:"mr-2 text-fmv-orange"}),"Details bearbeiten"]}),i.jsxs("button",{className:"flex w-full items-center px-4 py-2 text-sm text-red-400 hover:bg-fmv-carbon-light/10",onClick:()=>re.error("Löschen-Funktion noch nicht verfügbar"),children:[i.jsx(fk,{size:16,className:"mr-2"}),"Löschen"]})]})})})]})]})})]}),i.jsx("div",{className:"p-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-fmv-silk/60 text-xs",children:b.date}),i.jsx("div",{className:"flex space-x-1",children:b.formats.slice(0,3).map((S,D)=>i.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-fmv-carbon-light/20 rounded text-fmv-silk/70",children:S},D))})]})})]},b.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"bg-fmv-carbon-light/5 inline-flex rounded-full p-4 mb-4",children:i.jsx(Ii,{size:24,className:"text-fmv-silk/40"})}),i.jsx("h3",{className:"text-lg font-medium text-fmv-silk mb-4",children:"Keine Videos gefunden"}),i.jsx("p",{className:"text-fmv-silk/70 mb-4",children:a||l!=="all"?"Keine Videos entsprechen Ihren Filterkriterien.":"Sie haben noch keine Videos erstellt."}),!a&&l==="all"&&i.jsxs(U,{to:"/bestellen",className:"fmv-primary-btn px-6 py-3 inline-flex items-center",children:["Erstes Video erstellen",i.jsx(Xe,{className:"ml-2 h-4 w-4"})]})]})})]})},f0=k.createContext(void 0),lW=({defaultValue:t,className:e,children:n})=>{const[r,s]=k.useState(t),a=o=>{s(o)};return i.jsx(f0.Provider,{value:{value:r,onChange:a},children:i.jsx("div",{className:e,children:n})})},cW=({className:t,children:e})=>i.jsx("div",{className:`flex space-x-2 ${t}`,children:e}),$f=({value:t,className:e,children:n})=>{const r=k.useContext(f0);if(!r)throw new Error("TabsTrigger must be used within Tabs");const{value:s,onChange:a}=r,o=t===s;return i.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium ${o?"text-white bg-fmv-orange":"text-fmv-silk/80 hover:text-fmv-silk hover:bg-fmv-carbon-light/20"} transition-colors focus:outline-none focus:ring-2 focus:ring-fmv-orange/50 ${e}`,onClick:()=>a(t),"data-state":o?"active":"inactive",children:n})},Hf=({value:t,className:e,children:n})=>{const r=k.useContext(f0);if(!r)throw new Error("TabsContent must be used within Tabs");const{value:s}=r;return t!==s?null:i.jsx("div",{className:e,children:n})},uW=()=>{const{userData:t,updateUserProfile:e,currentUser:n,updateUserPassword:r}=_t(),[s,a]=k.useState({displayName:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",company:(t==null?void 0:t.company)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",city:(t==null?void 0:t.city)||"",zipCode:(t==null?void 0:t.zipCode)||"",country:(t==null?void 0:t.country)||""}),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[h,m]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,g]=k.useState(""),[N,E]=k.useState(!1),[_,w]=k.useState(!1),[y,b]=k.useState(null),[S,D]=k.useState(!0);k.useEffect(()=>{(async()=>{try{if(!n)return;const q=Vn(Qe,"subscriptions"),le=xn(q,mr("userId","==",n.uid),Yd(1)),ce=await Bn(le);ce.empty||b(ce.docs[0].data())}catch(q){console.error("Error fetching subscription:",q)}finally{D(!1)}})()},[n]);const V=A=>{const{name:q,value:le}=A.target;a({...s,[q]:le})},T=async A=>{A.preventDefault(),l(!0),d(!1);try{const q={};s.displayName!==(t==null?void 0:t.displayName)&&(q.displayName=s.displayName),s.company!==(t==null?void 0:t.company)&&(q.company=s.company),s.phone!==(t==null?void 0:t.phone)&&(q.phone=s.phone),s.address!==(t==null?void 0:t.address)&&(q.address=s.address),s.city!==(t==null?void 0:t.city)&&(q.city=s.city),s.zipCode!==(t==null?void 0:t.zipCode)&&(q.zipCode=s.zipCode),s.country!==(t==null?void 0:t.country)&&(q.country=s.country),Object.keys(q).length>0&&(await e(q),d(!0))}catch(q){console.error("Failed to update profile:",q)}finally{l(!1)}},x=A=>{const{name:q,value:le}=A.target;m({...h,[q]:le}),q==="newPassword"&&(le.length<8?g("Das Passwort muss mindestens 8 Zeichen lang sein"):g("")),q==="confirmPassword"&&(le!==h.newPassword?g("Die Passwörter stimmen nicht überein"):g(""))},j=async A=>{if(A.preventDefault(),!p){if(h.newPassword!==h.confirmPassword){g("Die Passwörter stimmen nicht überein");return}E(!0),w(!1);try{await r(h.currentPassword,h.newPassword),m({currentPassword:"",newPassword:"",confirmPassword:""}),w(!0)}catch(q){console.error("Failed to update password:",q)}finally{E(!1)}}},[P,C]=k.useState(!1),R=A=>{switch(A){case"active":return"Aktiv";case"trialing":return"Testphase";case"past_due":return"Zahlung überfällig";case"canceled":return"Gekündigt";case"incomplete":return"Unvollständig";case"incomplete_expired":return"Abgelaufen";case"unpaid":return"Unbezahlt";case"paused":return"Pausiert";default:return"Keine Daten"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-fmv-carbon-light/20 to-fmv-carbon-light/5 p-6 rounded-lg border border-fmv-carbon-light/30",children:[i.jsx("h1",{className:"text-2xl font-medium text-fmv-silk mb-2",children:"Kontoeinstellungen"}),i.jsx("p",{className:"text-fmv-silk/70",children:"Verwalten Sie Ihr Profil und Sicherheitseinstellungen."})]}),i.jsxs(lW,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(cW,{className:"bg-fmv-carbon-darker border border-fmv-carbon-light/20 p-1 rounded-lg",children:[i.jsxs($f,{value:"profile",className:"data-[state=active]:bg-fmv-orange data-[state=active]:text-white",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Profil"]}),i.jsxs($f,{value:"security",className:"data-[state=active]:bg-fmv-orange data-[state=active]:text-white",children:[i.jsx(fs,{className:"h-4 w-4 mr-2"}),"Sicherheit"]}),i.jsxs($f,{value:"billing",className:"data-[state=active]:bg-fmv-orange data-[state=active]:text-white",children:[i.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Abonnement"]})]}),i.jsx(Hf,{value:"profile",className:"mt-6",children:i.jsx("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 p-6",children:i.jsxs("form",{onSubmit:T,className:"space-y-6",children:[c&&i.jsxs("div",{className:"bg-green-900/20 border border-green-900/30 rounded-md p-4 flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Lr,{className:"h-5 w-5 text-green-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-green-400",children:"Profil aktualisiert"}),i.jsx("p",{className:"mt-1 text-xs text-green-400/80",children:"Ihre Profilinformationen wurden erfolgreich aktualisiert."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Name"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Fr,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"displayName",name:"displayName",type:"text",value:s.displayName,onChange:V,className:"block w-full pl-10 pr-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Ihr Name"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"E-Mail (nicht änderbar)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Rs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"email",name:"email",type:"email",value:s.email,disabled:!0,className:"block w-full pl-10 pr-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/5 text-fmv-silk/70 focus:outline-none cursor-not-allowed"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Firma (optional)"}),i.jsx("input",{id:"company",name:"company",type:"text",value:s.company,onChange:V,className:"block w-full px-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Firma (optional)"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Telefon (optional)"}),i.jsx("input",{id:"phone",name:"phone",type:"text",value:s.phone,onChange:V,className:"block w-full px-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"+41 XX XXX XX XX"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Adresse (optional)"}),i.jsx("input",{id:"address",name:"address",type:"text",value:s.address,onChange:V,className:"block w-full px-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Straße, Hausnummer"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Stadt (optional)"}),i.jsx("input",{id:"city",name:"city",type:"text",value:s.city,onChange:V,className:"block w-full px-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Stadt"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"PLZ (optional)"}),i.jsx("input",{id:"zipCode",name:"zipCode",type:"text",value:s.zipCode,onChange:V,className:"block w-full px-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"PLZ"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Land (optional)"}),i.jsx("input",{id:"country",name:"country",type:"text",value:s.country,onChange:V,className:"block w-full px-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"Land"})]})]}),i.jsx("div",{className:"pt-4 flex justify-end",children:i.jsxs("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[o?i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}):null,"Speichern"]})})]})})}),i.jsxs(Hf,{value:"security",className:"mt-6 space-y-8",children:[i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 p-6",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk mb-4",children:"Passwort ändern"}),_&&i.jsxs("div",{className:"bg-green-900/20 border border-green-900/30 rounded-md p-4 flex items-start mb-6",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Lr,{className:"h-5 w-5 text-green-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-green-400",children:"Passwort aktualisiert"}),i.jsx("p",{className:"mt-1 text-xs text-green-400/80",children:"Ihr Passwort wurde erfolgreich aktualisiert."})]})]}),i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Aktuelles Passwort"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(fs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"currentPassword",name:"currentPassword",type:"password",required:!0,value:h.currentPassword,onChange:x,className:"block w-full pl-10 pr-3 py-2 border border-fmv-carbon-light/30 rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50",placeholder:"••••••••"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Neues Passwort"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(fs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"newPassword",name:"newPassword",type:"password",required:!0,value:h.newPassword,onChange:x,className:`block w-full pl-10 pr-3 py-2 border ${p&&h.newPassword?"border-red-500/50":"border-fmv-carbon-light/30"} rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50`,placeholder:"••••••••"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-fmv-silk/80 mb-2",children:"Passwort bestätigen"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(fs,{size:18,className:"text-fmv-carbon-light"})}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:h.confirmPassword,onChange:x,className:`block w-full pl-10 pr-3 py-2 border ${p&&h.confirmPassword?"border-red-500/50":"border-fmv-carbon-light/30"} rounded-md bg-fmv-carbon-light/10 text-fmv-silk placeholder-gray-500 focus:outline-none focus:ring-fmv-orange/50 focus:border-fmv-orange/50`,placeholder:"••••••••"})]}),p&&i.jsx("p",{className:"mt-2 text-xs text-red-400",children:p})]}),i.jsx("div",{className:"pt-4 flex justify-end",children:i.jsxs("button",{type:"submit",disabled:N||!!p||!h.currentPassword||!h.newPassword||!h.confirmPassword,className:"px-6 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[N?i.jsx($.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}):null,"Passwort ändern"]})})]})]}),i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-red-900/20 p-6",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk mb-4",children:"Konto löschen"}),i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Wenn Sie Ihr Konto löschen, werden alle Ihre persönlichen Daten und Einstellungen unwiderruflich entfernt. Bereits erstellte Videos bleiben jedoch für 30 Tage verfügbar."}),P?i.jsxs("div",{className:"bg-red-900/20 border border-red-900/30 rounded-md p-4 flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(ok,{className:"h-5 w-5 text-red-400"})}),i.jsxs("div",{className:"ml-3 flex-grow",children:[i.jsx("h3",{className:"text-sm font-medium text-red-400",children:"Sind Sie sicher?"}),i.jsx("p",{className:"mt-2 text-xs text-red-400/90",children:"Diese Aktion kann nicht rückgängig gemacht werden. Alle Ihre Daten werden permanent gelöscht."}),i.jsxs("div",{className:"mt-4 flex space-x-3",children:[i.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 text-sm",onClick:()=>C(!1),children:"Konto löschen"}),i.jsx("button",{className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-700 text-sm",onClick:()=>C(!1),children:"Abbrechen"})]})]})]}):i.jsx("button",{className:"px-6 py-2 bg-red-500/20 text-red-400 rounded-md hover:bg-red-500/30 border border-red-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:()=>C(!0),children:"Konto löschen"})]})]}),i.jsx(Hf,{value:"billing",className:"mt-6 space-y-8",children:i.jsxs("div",{className:"bg-fmv-carbon-darker rounded-lg shadow-md border border-fmv-carbon-light/30 p-6",children:[i.jsx("h2",{className:"text-xl font-medium text-fmv-silk mb-6",children:"Abonnement & Zahlungen"}),S?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-fmv-orange border-t-transparent"})}):y?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-fmv-carbon-light/10 rounded-lg p-4",children:[i.jsx("h3",{className:"text-lg font-medium text-fmv-silk mb-4",children:"Aktives Abonnement"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Status:"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-sm ${y.subscription_status==="active"?"bg-green-900/20 text-green-400":"bg-yellow-900/20 text-yellow-400"}`,children:R(y.subscription_status)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Zahlungsmethode:"}),i.jsx("span",{className:"text-fmv-silk",children:y.payment_method_brand?`${y.payment_method_brand.toUpperCase()} •••• ${y.payment_method_last4}`:"Keine Zahlungsmethode"})]}),y.current_period_end&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-fmv-silk/70",children:"Nächste Abrechnung:"}),i.jsx("span",{className:"text-fmv-silk",children:new Date(y.current_period_end*1e3).toLocaleDateString("de-DE")})]}),y.cancel_at_period_end&&i.jsx("div",{className:"mt-4 bg-yellow-900/20 border border-yellow-900/30 rounded-md p-3",children:i.jsxs("p",{className:"text-yellow-400 text-sm",children:["Ihr Abonnement wurde gekündigt und endet am ",new Date(y.current_period_end*1e3).toLocaleDateString("de-DE"),"."]})})]}),i.jsxs("div",{className:"mt-6 flex space-x-4",children:[i.jsx("button",{className:"px-4 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange",children:"Zahlungsmethode ändern"}),!y.cancel_at_period_end&&y.subscription_status==="active"&&i.jsx("button",{className:"px-4 py-2 border border-red-500/30 text-red-400 rounded-md hover:bg-red-500/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Abonnement kündigen"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-fmv-silk mb-4",children:"Zahlungshistorie"}),i.jsx("p",{className:"text-fmv-silk/70",children:"Ihre Rechnungen und Zahlungshistorie können Sie im Kundenportal einsehen."}),i.jsx("button",{className:"mt-4 px-4 py-2 border border-fmv-carbon-light/30 text-fmv-silk rounded-md hover:bg-fmv-carbon-light/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange",children:"Kundenportal öffnen"})]})]}):i.jsx("div",{children:i.jsxs("div",{className:"bg-fmv-carbon-light/5 rounded-lg p-6 text-center",children:[i.jsx(Ul,{className:"h-12 w-12 text-fmv-silk/40 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-fmv-silk mb-2",children:"Kein aktives Abonnement"}),i.jsx("p",{className:"text-fmv-silk/70 mb-6",children:"Sie haben derzeit kein aktives Abonnement. Entdecken Sie unsere Pakete und wählen Sie das passende für Ihre Bedürfnisse."}),i.jsx("a",{href:"/preise",className:"px-4 py-2 bg-fmv-orange text-white rounded-md hover:bg-fmv-orange-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-fmv-orange inline-block",children:"Pakete anzeigen"})]})})]})})]})]})};function dW(){return i.jsxs(G9,{children:[i.jsx(k4,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#171717",color:"#F4F4F4",border:"1px solid rgba(255, 88, 0, 0.3)"},success:{iconTheme:{primary:"#FF5800",secondary:"#FFFFFF"}},error:{iconTheme:{primary:"#FF5800",secondary:"#FFFFFF"}}}}),i.jsxs(wR,{children:[i.jsxs(be,{path:"/",element:i.jsx(Y9,{}),children:[i.jsx(be,{index:!0,element:i.jsx(AH,{})}),i.jsx(be,{path:"prozess",element:i.jsx(CH,{})}),i.jsx(be,{path:"preise",element:i.jsx(RH,{})}),i.jsx(be,{path:"beispiele",element:i.jsx(OH,{})}),i.jsx(be,{path:"bestellen",element:i.jsx(MH,{})}),i.jsx(be,{path:"ueber-uns",element:i.jsx(LH,{})}),i.jsx(be,{path:"bestellen/upload",element:i.jsx($H,{})}),i.jsx(be,{path:"bestellen/customize",element:i.jsx(HH,{})}),i.jsx(be,{path:"bestellen/upsell",element:i.jsx(WH,{})}),i.jsx(be,{path:"bestellen/review",element:i.jsx(GH,{})}),i.jsx(be,{path:"payment/success",element:i.jsx(QH,{})}),i.jsx(be,{path:"kontakt",element:i.jsx(FH,{})}),i.jsx(be,{path:"impressum",element:i.jsx(zH,{})}),i.jsx(be,{path:"datenschutz",element:i.jsx(UH,{})}),i.jsx(be,{path:"agb",element:i.jsx(BH,{})})]}),i.jsxs(be,{path:"/auth",element:i.jsx(n$,{}),children:[i.jsx(be,{path:"login",element:i.jsx(YH,{})}),i.jsx(be,{path:"register",element:i.jsx(ZH,{})}),i.jsx(be,{path:"forgot-password",element:i.jsx(tW,{})})]}),i.jsxs(be,{path:"/dashboard",element:i.jsx(w_,{children:i.jsx(Z9,{})}),children:[i.jsx(be,{index:!0,element:i.jsx(iW,{})}),i.jsx(be,{path:"orders",element:i.jsx(aW,{})}),i.jsx(be,{path:"videos",element:i.jsx(oW,{})}),i.jsx(be,{path:"settings",element:i.jsx(uW,{})})]}),i.jsxs(be,{path:"/admin",element:i.jsx(w_,{adminOnly:!0,children:i.jsx(t$,{})}),children:[i.jsx(be,{index:!0,element:i.jsx(nW,{})}),i.jsx(be,{path:"orders",element:i.jsx(rW,{})}),i.jsx(be,{path:"orders/:orderId",element:i.jsx(sW,{})})]}),i.jsx(be,{path:"*",element:i.jsx(Lp,{to:"/",replace:!0})})]})]})}qj(document.getElementById("root")).render(i.jsx(k.StrictMode,{children:i.jsx(PR,{children:i.jsx(dW,{})})}));export{tn as _,R_ as g,i7 as p,k as r,cm as u};
